{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a8bf8f3cb1a82cfe5f6e","webpack:///./src/js/jwplayer.js","webpack:///./src/js/api/global-api.js","webpack:///./src/js/api/api.js","webpack:///./src/js/controller/controller.js","webpack:///./src/js/api/set-config.js","webpack:///./src/js/utils/underscore.js","webpack:///./src/js/api/config.js","webpack:///./src/js/utils/helpers.js","webpack:///./src/js/utils/ajax.js","webpack:///./src/js/utils/parser.js","webpack:///./src/js/utils/validator.js","webpack:///./src/js/utils/strings.js","webpack:///./src/js/utils/browser.js","webpack:///./src/js/utils/dom.js","webpack:///./src/js/utils/jqueryfuncs.js","webpack:///./src/js/utils/css.js","webpack:///./~/simple-style-loader/addStyles.js","webpack:///./src/js/utils/id3Parser.js","webpack:///./src/js/utils/playerutils.js","webpack:///./src/js/utils/constants.js","webpack:///./src/js/version.js","webpack:///./src/js/utils/timer.js","webpack:///./src/js/utils/clock.js","webpack:///./src/js/utils/trycatch.js","webpack:///./src/js/utils/stream-type.js","webpack:///./src/js/utils/quality-labels.js","webpack:///./src/js/controller/instream-adapter.js","webpack:///./src/js/controller/instream-html5.js","webpack:///./src/js/utils/backbone.events.js","webpack:///./src/js/events/change-state-event.js","webpack:///./src/js/events/states.js","webpack:///./src/js/events/events.js","webpack:///./src/js/controller/model.js","webpack:///./src/js/providers/providers.js","webpack:///./src/js/providers/default.js","webpack:///./src/js/providers/providers-supported.js","webpack:///./src/js/providers/html5-android-hls.js","webpack:///./src/js/utils/video.js","webpack:///./src/js/providers/providers-loaded.js","webpack:///./src/js/utils/defaults.js","webpack:///./src/js/controller/tracks-loader.js","webpack:///./src/js/parsers/parsers.js","webpack:///./src/js/parsers/captions/srt.js","webpack:///./src/js/parsers/captions/dfxp.js","webpack:///./src/js/parsers/captions/vttcue.js","webpack:///./src/js/controller/tracks-helper.js","webpack:///./src/js/utils/embedswf.js","webpack:///./src/js/utils/scriptloader.js","webpack:///./src/js/controller/qoe.js","webpack:///./src/js/utils/simplemodel.js","webpack:///./src/js/controller/instream-flash.js","webpack:///./src/js/controller/Setup.js","webpack:///./src/js/controller/setup-steps.js","webpack:///./src/js/plugins/plugins.js","webpack:///./src/js/plugins/loader.js","webpack:///./src/js/plugins/utils.js","webpack:///./src/js/plugins/model.js","webpack:///./src/js/plugins/plugin.js","webpack:///./src/js/playlist/loader.js","webpack:///./src/js/parsers/rssparser.js","webpack:///./src/js/parsers/jwparser.js","webpack:///./src/js/parsers/mediaparser.js","webpack:///./src/js/playlist/item.js","webpack:///./src/js/playlist/source.js","webpack:///./src/js/playlist/track.js","webpack:///./src/js/controller/controls-loader.js","webpack:///./src/js/utils/ui.js","webpack:///./~/css-loader/lib/css-base.js","webpack:///./src/js/controller/captions.js","webpack:///./src/js/controller/storage.js","webpack:///./src/js/playlist/playlist.js","webpack:///./src/js/view/view.js","webpack:///./src/templates/player.js","webpack:///./src/js/view/utils/audio-mode.js","webpack:///./src/js/view/utils/views-manager.js","webpack:///./src/js/utils/active-tab.js","webpack:///./src/js/utils/request-animation-frame.js","webpack:///./src/js/view/utils/visibility.js","webpack:///./src/js/view/utils/breakpoint.js","webpack:///./src/js/view/utils/request-fullscreen-helper.js","webpack:///./src/js/view/utils/flag-no-focus.js","webpack:///./src/js/view/utils/clickhandler.js","webpack:///./src/js/view/captionsrenderer.js","webpack:///./src/js/view/logo.js","webpack:///./src/templates/logo.js","webpack:///./src/js/view/preview.js","webpack:///./src/js/view/title.js","webpack:///./src/css/jwplayer.less?525f","webpack:///./src/css/jwplayer.less","webpack:///./src/js/view/error.js","webpack:///./src/templates/error.js","webpack:///./src/js/controller/events-middleware.js","webpack:///./src/js/api/api-actions.js","webpack:///./src/js/api/api-mutators.js","webpack:///./src/js/api/callbacks-deprecate.js"],"names":["GlobalApi","utils","__webpack_public_path__","loadFrom","selectPlayer","Api","_","Providers","ProvidersSupported","plugins","_instances","_uniqueIndex","query","player","domElement","_playerById","document","getElementById","nodeType","id","_addPlayer","_removePlayer","registerPlugin","p","length","api","uniqueId","push","i","splice","registerProvider","availableProviders","events","states","Events","Timer","Controller","actionsInit","mutatorsInit","legacyInit","version","container","globalRemovePlayer","_this","_controller","extend","trigger","type","args","isObject","jwplayer","window","debug","call","triggerSafe","dispatchEvent","removeEventListener","off","bind","_setupController","on","JWPLAYER_MEDIA_META","data","itemMeta","_model","get","metadata","JWPLAYER_READY","event","_qoe","tick","setupTime","between","_reset","playerDestroy","getPlugin","name","addPlugin","pluginInstance","onReady","addToPlayer","resize","onResize","resizeHandler","setup","options","foreach","evt","val","fn","qoe","qoeItem","getItemQoe","firstFrame","getFirstFrame","dump","item","getContainer","getMeta","getItemMeta","getPlaylistItem","index","exists","playlist","getPlaylist","getRenderingMode","getMute","load","toLoad","feedData","play","state","meta","reason","pause","getState","PLAYING","BUFFERING","isBoolean","seek","pos","playlistNext","playlistPrev","playlistItem","createInstream","castToggle","playAd","pauseAd","noop","remove","Config","InstreamAdapter","Setup","Captions","Model","Storage","Playlist","PlaylistLoader","View","changeStateEvent","error","eventsMiddleware","_queueCommand","command","Array","prototype","slice","arguments","getVideo","eventsQueue","apply","normalizeState","newstate","LOADING","STALLED","originalContainer","currentContainer","stop","setCurrentCaptions","setCurrentQuality","setFullscreen","_api","_view","_captions","_setup","_preplay","_actionOnAttach","_stopPlaylist","_interruptPlay","checkAutoStartLastContext","_video","storage","track","config","_eventQueuedUntilReady","_setPlaylist","_playerReady","JWPLAYER_SETUP_ERROR","setupError","mediaController","_triggerAfterReady","JWPLAYER_MEDIA_COMPLETE","defer","_completeHandler","JWPLAYER_MEDIA_ERROR","triggerError","model","isBlocked","set","undefined","throttled","errorEvent","message","JWPLAYER_ERROR","duration","minDvrWindow","streamType","setStreamType","JWPLAYER_CAST_SESSION","bool","JWPLAYER_FULLSCREEN","fullscreen","triggerAfterReady","JWPLAYER_PLAYLIST_ITEM","eventData","eventFeedData","JWPLAYER_PLAYLIST_LOADED","vol","JWPLAYER_MEDIA_VOLUME","volume","mute","JWPLAYER_MEDIA_MUTE","rate","JWPLAYER_PLAYBACK_RATE_CHANGED","playbackRate","position","_pause","_play","captionsList","JWPLAYER_CAPTIONS_LIST","tracks","mediaModel","e","triggerControls","enable","JWPLAYER_CONTROLS","controls","viewSetup","mediaElement","querySelector","showView","element","mediaContainer","appendChild","related","nextUp","once","JWPLAYER_RESIZE","_playerReadyNotify","init","change","_updateViewable","JWPLAYER_MEDIA_BEFOREPLAY","_checkAutoStart","viewableChange","_checkPlayOnViewable","visibility","isUndefined","Math","round","isMobile","_autoStart","autostartFallbackOnItemReady","cancelAutostartFallbackOnItemReady","bail","checkAutoStartLast","Promise","resolve","then","context","viewable","_loadProvidersForPlaylist","providersManager","getProviders","providersNeeded","required","getProvider","setProvider","_executeQueuedEvents","q","shift","method","_load","ERROR","IDLE","_stop","_primeMediaElementForPlayback","_loadPlaylist","success","_setItem","loader","_getAdState","_instreamAdapter","_getState","adState","isString","COMPLETE","playReason","status","_isIdle","tryCatch","loadVideo","PAUSED","playVideo","Error","_inInteraction","test","internal","fromApi","stopVideo","_seek","_item","array","filterPlaylist","isArray","setItemIndex","_prev","_next","idx","isIOS","_setFullscreen","JWPLAYER_PLAYLIST_COMPLETE","_setCurrentQuality","parseInt","_getCurrentQuality","getCurrentQuality","_getConfig","getConfiguration","_getVisualQuality","qualityLevels","_getQualityLevels","levelIndex","level","mode","getQualityLevels","_setCurrentAudioTrack","setCurrentAudioTrack","_getCurrentAudioTrack","getCurrentAudioTrack","_getAudioTracks","getAudioTracks","_setCurrentCaptions","persistVideoSubtitleTrack","JWPLAYER_CAPTIONS_CHANGED","_getCaptionsList","_getCurrentCaptions","getCurrentIndex","getCaptionsList","_detachMedia","detachMedia","_attachMedia","attachMedia","log","_adModel","_nextUp","ui","target","itemsShown","next","getCurrentCaptions","getVisualQuality","getConfig","setVolume","setMute","setPlaybackRate","getWidth","getHeight","getSafeRegion","setCues","addCues","setCaptions","setConfig","newConfig","addButton","img","tooltip","callback","btnClass","newButton","replaced","dock","map","dockButton","replaceButton","removeButton","reject","matches","checkBeforePlay","_qoeItem","setControls","provider","destroy","isBeforePlay","isBeforeComplete","checkComplete","instreamDestroy","skipAd","start","viewElement","body","contains","newContainer","parentElement","replaceChild","errorElement","createElement","width","height","style","toString","indexOf","require","supportedFields","setAutoStart","controller","autoStart","size","forEach","newValue","field","breaker","ArrayProto","ObjProto","Object","FuncProto","Function","concat","hasOwnProperty","nativeMap","nativeReduce","reduce","nativeForEach","nativeFilter","filter","nativeEvery","every","nativeSome","some","nativeIndexOf","nativeIsArray","nativeKeys","keys","nativeBind","obj","each","iterator","collect","results","value","list","reduceError","foldl","inject","memo","initial","TypeError","find","detect","predicate","result","any","select","compact","identity","all","last","n","guard","max","after","times","func","before","lookupIterator","isFunction","property","group","behavior","key","groupBy","has","indexBy","sortedIndex","low","high","mid","include","values","pluck","where","attrs","findWhere","Infinity","lastComputed","computed","difference","rest","without","isSorted","ctor","bound","self","partial","boundArgs","memoize","hasher","delay","wait","setTimeout","throttle","timeout","previous","later","leading","now","remaining","clearTimeout","trailing","invert","defaults","source","prop","pick","copy","omit","clone","isArguments","isFinite","isNaN","parseFloat","isNumber","isNull","constant","propertyOf","Date","getTime","object","idCounter","prefix","Defaults","autostart","displaytitle","displaydescription","mobilecontrols","defaultPlaybackRate","playbackRateControls","repeat","castAvailable","skin","stretching","audioMode","localization","playback","prev","cast","airplay","hd","cc","audioTracks","playbackRates","replay","buffer","more","liveBroadcast","loadingAd","rewind","nextUpClose","close","renderCaptionsNatively","nextUpDisplay","_deserialize","serialize","_normalizeSize","createConfig","persisted","getAllItems","allOptions","base","getScriptPath","replace","pathToFlash","flashplayer","flashloader","location","protocol","aspectratio","_evaluateAspectRatio","skinUrl","url","skinColorInactive","inactive","skinColorActive","active","skinColorBackground","background","console","warn","rateControls","rates","sort","configPlaylist","qualityLabels","hlslabels","ar","w","substr","h","strings","browser","dom","css","parser","id3Parser","ajax","validator","playerutils","trycatch","num","min","aData","fnEach","typeOf","seconds","suffix","useDomParser","crossdomain","uri","a","b","href","host","completeCallback","errorCallback","xhr","withCredentials","retryWithoutCredentials","timeoutId","oncomplete","onerror","mimeType","responseType","requireValidXML","plainText","XDomainRequest","onload","_ajaxComplete","ontimeout","onprogress","XMLHttpRequest","onreadystatechange","_readyStateChangeHandler","requestError","_requestError","overrideMimeType","open","_abortAjax","onabort","send","abort","currentTarget","readyState","statusText","_jsonResponse","xml","responseXML","firstChild","_xmlResponse","responseText","parseXML","response","JSON","parse","err","doc","documentElement","nodeName","getElementsByTagName","getAbsolutePath","path","isAbsolutePath","substring","domain","patharray","split","basepath","lastIndexOf","pop","join","scriptName","scripts","src","containsParserErrors","childNodes","node","input","parsedXML","DOMParser","parseFromString","ActiveXObject","async","loadXML","lowercaseVal","toLowerCase","Number","parseDimension","dimension","timeFormat","sec","allowNegative","abs","hrs","floor","mins","secs","isHTTPS","isRtmp","file","isYouTube","youTubeID","exec","typeofString","trim","inputString","pad","str","padder","xmlAttribute","attribute","attrib","attributes","getAzureFileFormat","extension","azureFormat","hms","m","s","toFixed","frameRate","arr","arrLength","secIndex","add","_userAgentMatch","regex","agent","navigator","userAgent","match","_browserCheck","_isInt","isInt","isFlashSupported","flashVersion","isFF","isIPod","isIPad","isSafari602","isOSX","isFacebook","_isEdge","isEdge","browserVersion","RegExp","_isIETrident","isIETrident","_isMSIE","isMSIE","isChrome","isIE","isSafari","_isIOS","osVersion","isAndroidNative","_isAndroid","isAndroid","excludeChrome","isIframe","top","flash","description","GetVariable","jqueryfuncs","html","newElement","innerHTML","styleDimension","classNameArray","className","setClassName","classList","hasClass","addClass","classes","originalClasses","addClasses","c","removeClass","removeClasses","replaceClass","pattern","replaceWith","toggleClass","toggleTo","emptyElement","removeChild","addStyleSheet","link","rel","empty","childElementCount","children","bounds","left","right","bottom","rect","getBoundingClientRect","scrollOffsetY","pageYOffset","scrollOffsetX","pageXOffset","searchClass","Strings","styleLoader","_css","selector","styles","playerId","important","cssText","el","_style","styleCSSText","clear","elements","cssRules","_styleValue","styleName","_styleAttributeName","charAt","toUpperCase","ceil","transform","webkitTransform","msTransform","mozTransform","oTransform","canvasColorContext","getRgba","color","opacity","hasAlpha","canvas","getContext","clearRect","fillStyle","fillRect","getImageData","clearCss","hexToRgba","friendlyNames","TIT2","TT2","WXXX","TPE1","TP1","TALB","TAL","utf8ArrayToStr","startingIndex","out","len","char2","char3","String","fromCharCode","utf16BigEndianArrayToStr","lastDoubleByte","syncSafeInt","sizeArray","arrayToInt","sizeString","parseID3","activeCues","cue","ArrayBuffer","oldCue","Uint8Array","arrayLength","startPos","firstByte","infoDelimiterPosition","j","info","subarray","pts_33_bit","transportStreamTimestamp","encoding","collection","Constants","playerUtils","repo","semver","versionCheck","tParts","jParts","tMajor","jMajor","SkinsIncluded","SkinsLoadable","dvrSeekLimit","startTimes","sum","counts","ticks","methodName","end","runningSums","sums","dateTime","performance","timing","startDate","navigationStart","ctx","JWError","streamTypeUtil","isDvr","_minDvrWindow","generateLabel","redundant","bandwidth","bitrate","getCustomLabel","label","createLabel","bandwidthString","toKbps","bandwidths","findClosestBandwidth","targetBandwidth","closest","smallestDiff","curDiff","cur","hasRedundantLevels","levels","foundDuplicate","InstreamHtml5","InstreamFlash","chooseInstreamMethod","providerName","_defaultOptions","skipoffset","tag","InstreamMethod","_instream","_array","_arrayOptions","_arrayIndex","_options","_oldProvider","_oldpos","_olditem","_clickHandler","hasControls","JWPLAYER_INSTREAM_CLICK","instreamPlay","instreamPause","_doubleClickHandler","sharedVideoTag","_instreamForward","JWPLAYER_MEDIA_TIME","_instreamTime","_instreamItemComplete","currState","setupInstream","clickHandler","setAlternateClickHandlers","setText","_loadNextItem","loadItem","_instreamItemNext","primary","addClickHandler","setupSkipButton","customNext","skipMessage","skipText","applyProviderListeners","metaHandler","skipAdType","JWPLAYER_AD_SKIPPED","resizeMedia","revertAlternateClickHandlers","destroyInstream","oldMode","setState","starttime","text","setAltText","hide","_currentProvider","instreamMode","_nativeFullscreenHandler","setActiveItem","_checkProvider","pseudoProvider","isVpaidProvider","JWPLAYER_MEDIA_BUFFER_FULL","_bufferFullHandler","JWPLAYER_PLAYER_STATE","stateHandler","jwstate","eventsApi","_events","_callback","retain","ev","names","l","k","allEvents","triggerEvents","safeTriggerEvents","eventSplitter","action","a1","a2","a3","normalizeApiState","ChangeStateEvent","oldstate","eventType","pauseReason","touchEvents","DRAG","DRAG_START","DRAG_END","CLICK","DOUBLE_CLICK","TAP","DOUBLE_TAP","OVER","MOVE","OUT","JWPLAYER_AD_CLICK","JWPLAYER_AD_COMPANIONS","JWPLAYER_AD_COMPLETE","JWPLAYER_AD_ERROR","JWPLAYER_AD_IMPRESSION","JWPLAYER_AD_META","JWPLAYER_AD_PAUSE","JWPLAYER_AD_PLAY","JWPLAYER_AD_TIME","JWPLAYER_CAST_AD_CHANGED","JWPLAYER_MEDIA_SEEK","JWPLAYER_MEDIA_BEFORECOMPLETE","JWPLAYER_DISPLAY_CLICK","JWPLAYER_MEDIA_FIRST_FRAME","JWPLAYER_MEDIA_PLAY_ATTEMPT","JWPLAYER_MEDIA_LOADED","JWPLAYER_MEDIA_SEEKED","JWPLAYER_CAST_AVAILABLE","JWPLAYER_MEDIA_BUFFER","JWPLAYER_MEDIA_TYPE","JWPLAYER_MEDIA_LEVELS","JWPLAYER_MEDIA_LEVEL_CHANGED","JWPLAYER_AUDIO_TRACKS","JWPLAYER_AUDIO_TRACK_CHANGED","JWPLAYER_LOGO_CLICK","JWPLAYER_PROVIDER_CHANGED","JWPLAYER_PROVIDER_FIRST_FRAME","JWPLAYER_USER_ACTION","JWPLAYER_PROVIDER_CLICK","JWPLAYER_VIEW_TAB_FOCUS","JWPLAYER_CONTROLBAR_DRAGGING","JWPLAYER_BREAKPOINT","QOE","SimpleModel","_providers","_provider","_beforecompleted","_attached","MediaModel","flashBlocked","updateProviders","_videoEventHandler","mediaType","bufferPercent","getName","setQualityLevel","currentQuality","persistQualityLevel","playbackComplete","currentTrack","visualQuality","quality","currentLevel","onMediaContainer","setContainer","changeVideoProvider","Provider","resetProvider","autoStartOnMobile","getPlaybackRate","renderNatively","chooseProvider","choose","sources","persistCaptionsTrack","setVideoSubtitleTrack","trackIndex","setSubtitlesTrack","_autoStartSupportedIOS","platformCanAutostart","autostartAdsIsEnabled","autoplayadsmuted","iosBrowserIsSupported","androidBrowserIsSupported","mobileBrowserIsSupported","isAndroidSdk","Default","ProvidersLoaded","providers","reorderProviders","loaders","html5","resolvePromise","youtube","supports","unshift","providersToLoad","providerLoaderMethod","flashIdx","flashProvider","html5Idx","providerSupports","loadProvider","supported","count","priority","providerToCheck","returnFalse","DefaultProvider","setVisibility","getFullscreen","oldState","sendMediaType","isAudioFile","getIsAndroidHLS","video","SupportsMatrix","MimeTypes","aac","mp4","f4v","m4v","mov","mp3","mpeg","ogv","ogg","oga","vorbis","webm","f4a","m3u8","m3u","hls","isAndroidHLS","canPlayType","flashExtensions","flv","m4a","smil","PLAYABLE","androidhls","parsers","srt","dfxp","VTTCue","tracksLoader","loadFile","successHandler","errorHandler","xhrSuccess","cancelXhr","convertToVTTCues","cues","vttCues","begin","xmlRoot","localName","nextSibling","COMMENT_NODE","parseCuesFromText","VTTParser","oncue","onflush","baseName","textContent","getChildNode","parent","numChildren","_seconds","Srt","entry","_entry","line","Dfxp","xmlDoc","validate","paragraphs","tt","parsedFrameRate","getAttribute","breaks","parentNode","createTextNode","rawText","dur","parseError","autoKeyword","directionSetting","lr","rl","alignSetting","middle","findDirectionSetting","dir","findAlignSetting","align","startTime","endTime","hasBeenReset","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","defineProperty","enumerable","setting","SyntaxError","displayState","getCueAsHTML","WebVTT","convertCueToDOMTree","createId","tracksCount","trackId","kind","default","defaulttrack","unknownCount","language","BGCOLOR","appendParam","param","setAttribute","addGetter","embed","swfUrl","wmode","swf","queueCommands","temp","outerHTML","objectElements","display","pointerEvents","processEventsTimeout","_eventQueue","json","eventQueue","decodeURIComponent","__externalCall","commandQueue","__commandQueue","deleteHTMLElement","stringify","HTMLElement","_loaders","STATUS","NEW","scriptloader","isStyle","_status","addEventListener","_sendError","_sendComplete","makeStyleLink","styleUrl","makeScriptTag","scriptUrl","scriptTag","makeTag","sameLoader","getStatus","head","done","insertBefore","loaderstatus","TAB_HIDDEN","TAB_VISIBLE","onTimeIncreasesGenerator","lastVal","unbindFirstFrameEvents","_onPlayAttempt","_triggerFirstFrame","_onTime","_onTabVisible","trackFirstFrame","time","loadTime","modelChanged","activeTab","initModel","initialModel","onMediaModel","oldMediaModel","timeActive","changeMediaModel","attr","oldVal","handlerName","eventName","currentVal","_throttleTimeout","_throttlePaused","triggerFlash","SetupSteps","_setupFailureTimeout","_queue","getQueue","_errorTimeoutSeconds","_setupTimeoutHandler","_nextTask","_error","taskName","complete","running","_allComplete","depends","callTask","task","resolveState","_taskComplete","dependencies","msg","ScriptLoader","EmbedSwf","ControlsLoader","_pluginLoader","_playlistLoader","Components","LOAD_PROMISE_POLYFILL","_loadPromisePolyfill","LOAD_BASE64_POLYFILL","_loadBase64Polyfill","LOAD_PLUGINS","_loadPlugins","LOAD_XO_POLYFILL","_loadIntersectionObserverPolyfill","LOAD_SKIN","_loadSkin","LOAD_PLAYLIST","LOAD_CONTROLS","_loadControls","SETUP_VIEW","_setupView","INIT_PLUGINS","_initPlugins","CHECK_FLASH","_checkFlash","FILTER_PLAYLIST","_filterPlaylist","SET_ITEM","_setPlaylistItem","DEFERRED","_deferred","SEND_READY","_sendReady","btoa","atob","IntersectionObserverEntry","jwplayerPluginJsonp","loadPlugins","_pluginsError","setupPlugins","_playlistError","primaryFlash","embedTimeout","flashHealthCheckId","failed","viewContainer","random","flashHealthCheckSwf","skinToLoad","skinPath","isSkinLoaded","ss","styleSheets","skinName","isStylesheet","Controls","setControlsModule","catch","PluginsLoader","PluginsModel","Plugin","pluginsUtils","_plugins","_pluginLoaders","arg1","arg2","pluginId","getPluginName","_addToPlayerGenerator","div","overlaysElement","getElementsByClassName","displayArea","_pluginResizeGenerator","displayarea","clientWidth","clientHeight","PluginLoader","_config","_iscomplete","_pluginCount","_pluginLoaded","_destroyed","_complete","_checkComplete","getPlugins","plugin","pluginName","pluginObj","js","getJS","getTarget","_pluginError","playerModel","flashPlugins","pluginsConfig","flashPath","getFlashPath","jsPlugin","pluginURL","getURL","flashPluginConfig","pluginmode","getPluginmode","pluginConfig","pluginOptions","getNewInstance","pluginUrl","_pluginPathType","pluginPathType","ABSOLUTE","RELATIVE","CDN","getPluginPathType","folder","getPluginVersion","PluginModel","Scriptloader","pluginmodes","FLASH","JAVASCRIPT","HYBRID","_flashPath","_js","_target","_completeTimeout","getJSPath","completeHandler","_loader","rssParser","playlistfile","_playlistLoaded","_playlistLoadError","loadedEvent","rss","jsonObj","rssPlaylist","pl","parseEntry","mediaParser","PlaylistItem","_textContent","_getChildNode","_numChildren","_localName","rssparser","dat","subNode","_parseItem","itm","title","mediaid","date","tags","PREFIX","_xmlAttribute","def","mediaparser","captions","getLabel","code","LANGS","zh","nl","en","fr","de","it","ja","pt","ru","es","mediaTypes","findMediaTypes","image","contentNode","Source","Track","Item","_playlistItem","_source","mimetypeRegEx","controlsPromise","JW_TOUCH_EVENTS","_supportsPointerEvents","_supportsTouchEvents","_useMouseEvents","_isOSXFirefox","getCoord","originalEvent","changedTouches","isRightClick","MouseEvent","which","button","normalizeUIEvent","srcEvent","touches","sourceEvent","pageX","pageY","preventDefault","TouchEvent","preventManipulation","UI","elem","_elem","_hasMoved","_startX","_startY","_lastClickTime","_doubleClickDelay","_touchListenerTarget","_pointerId","interactStartHandler","useHover","overHandler","outHandler","useMove","moveHandler","pointerType","triggerEvent","elementFromPoint","x","y","setEventListener","isPrimary","preventScrolling","pointerId","setPointerCapture","interactDragHandler","interactEndHandler","movementThreshhold","endX","endY","moveX","moveY","isPointerEvent","releasePointerCapture","directSelect","enableDoubleTap","doubleType","getPointerType","PointerEvent","tracksHelper","_itemHandler","_captionsIndexHandler","_itemReadyHandler","_subtitlesTracksHandler","_addTrack","_tracks","_tracksById","captionsMenu","_captionsMenu","_selectDefaultIndex","setCaptionsList","_unknownCount","_kindSupported","_addVTTCuesToTrack","_errorHandler","captionsMenuIndex","labelInfo","autoselect","_setCurrentIndex","removeItem","localStorage","jwPrefix","persistItems","setItem","changeModel","preload","itemFeedData","allSources","_formatSources","_filterSources","itemDrm","drm","_fallbackIfUndefined","hlsjsdefault","originalSource","cascadedWithCredentials","chosenProviderAndType","_chooseProviderAndType","bestType","chosenProvider","fallback","ControlsModule","requestFullscreenHelper","flagNoFocus","ClickHandler","CaptionsRenderer","Logo","Preview","Title","_styles","_bounds","_isMobile","_isIE","stylesInjected","isSetup","containerWidth","containerHeight","inDom","iFrame","intersectionRatio","touchMode","altText","castClicked","scrubbing","logoWidth","_playerElement","_videoLayer","_preview","_title","_captionsRenderer","_logo","_playerState","_lastWidth","_lastHeight","_instreamModel","_resizeMediaTimeout","_resizeContainerRequestId","displayClickHandler","fullscreenHelpers","focusHelper","_breakpoint","_controls","reasonInteraction","updateBounds","inDOM","_responsiveListener","observe","updateStyles","updateContainerStyles","_resizeMedia","checkResized","breakpoint","_responsiveUpdate","smallPlayer","timeSliderAboveConfig","timeSliderAbove","insertGlobalColorClasses","activeColor","inactiveColor","activeColorSet","borderColor","stroke","inactiveColorSet","handleColorOverrides","addStyle","extendParent","o","backgroundColor","backgroundColorGradient","_logoClickHandler","clickHandlerHelper","_fullscreenChangeHandler","onFocus","_onMediaTypeChange","onSkinChange","onStretchChange","onFlashBlockedChange","_resizePlayer","onAspectRatioChange","updateVisibility","_fullscreen","redraw","_stateHandler","changeControls","setMediaTitleAttribute","addControls","removeControls","videotag","dummyDiv","lastVisibility","videoLayer","click","tap","renderCues","showing","userActive","userInactive","doubleClick","move","over","newSkin","newVal","aspectRatioContainer","paddingTop","linktarget","_onChangeControls","_setLiveMode","addActiveListeners","logoContainer","_userActivityCallback","removeActiveListeners","disable","overlay","unmuteAutoplay","supportsDomFullscreen","requestFullscreen","exitFullscreen","_toggleDOMFullscreen","playerWidth","playerHeight","resetAspectMode","widthSet","heightSet","playerStyle","transformScale","_isNativeFullscreen","fsElement","fullscreenElement","getFullScreen","modelState","newState","playerElement","fullscreenState","overflowY","isFlash","live","updateText","instreamState","_stateUpdate","show","instreamModel","controlsContainer","includeCB","controlbarHeight","captionsStyle","unobserve","ariaLabel","CONTROLBAR_ONLY_HEIGHT","isAudioMode","verticalPixels","NaN","views","intersectionObserver","responsiveRepaintRequestId","lazyInitIntersectionObserver","IntersectionObserver","entries","view","threshold","scheduleResponsiveRedraw","responsiveRepaint","onVisibilityChange","hidden","webkitHidden","requestAnimationFrame","cancelAnimationFrame","getVisibility","computeVisibility","rootRect","targetRect","intersectionRect","atRoot","parentRect","getComputedStyle","overflow","computeRectIntersection","targetArea","intersectionArea","rect1","rect2","getBreakpoint","setBreakpoint","domUtils","breakpointNumber","breakpointClass","DOCUMENT_FULLSCREEN_EVENTS","elementContext","documentContext","changeCallback","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement","_focusFromClick","onBlur","onMouseDown","defaultOptions","alternateDoubleClickHandler","alternateClickHandler","doubleClickHandler","cssUtils","_defaults","back","backgroundOpacity","edgeStyle","fontSize","fontOpacity","fontScale","preprocessor","windowOpacity","_captionsTrack","_currentCues","_timeEvent","_display","_captionsWindow","_textContainer","_WebVTT","_fontScale","_windowStyle","populate","selectCues","_setFontSize","updateBoxPosition","processCues","timeEvent","getAlignmentPosition","getCurrentCues","updateCurrentCues","allCues","playerElementId","_setFontScale","windowColor","textStyle","_addTextStyle","_addEdgeStyle","_setupCaptionStyles","_setShadowDOMFontSize","_styleNativeCaptions","_stylePlayerCaptions","bgColor","bgOpacity","fontFamily","fontStyle","fontWeight","textDecoration","option","textShadow","_timeChange","captionsTrack","LogoDefaults","margin","_settings","_img","Image","accommodateDock","backgroundImage","positions","logoInteractHandler","stopPropagation","dockButtons","belowDock","jwhide","onPlaylistItem","mediaTypeChangeModel","setImage","delayPosterLoad","stateChangeModel","playerAspectRatio","backgroundSize","imageAspectRatio","titleEl","update","titleStyle","paddingLeft","paddingRight","logo","padding","dockWidthGuess","make","middleware","currentState","ApiActions","passthroughs","ApiMutators","modelGetters","format","passthroughsChain","getPlaylistIndex","getItem","_eventMapping","onBufferChange","onBufferFull","onError","onSetupError","onFullscreen","onMeta","onMute","onPlaylist","onPlaylistComplete","onComplete","onSeek","onTime","onVolume","onBeforePlay","onBeforeComplete","onDisplayClick","onControls","onQualityLevels","onQualityChange","onCaptionsList","onCaptionsChange","onAdError","onAdClick","onAdImpression","onAdTime","onAdComplete","onAdCompanions","onAdSkipped","onAdPlay","onAdPause","onAdMeta","onCast","onAudioTrackChange","onAudioTracks","_stateMapping","onBuffer","onPause","onPlay","onIdle"],"mappings":"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b,sBAAS,OAAQ0b,UAAU,GAA3B;AACH;AACD,gBAAO1b,QAAQ,GAAf;AACH,MA1BD;;AA4BA,YAAO;AACH0M,cAAKsN,IADF;AAEHha,gBAAOua,MAFJ;AAGH2B,mBAAUnC,YAAYU,KAHnB;AAIHS,oBAAWA,SAJR;AAKHiB,oBAAWX,OALR,EAKiB;AACpBA,kBAASA;AANN,MAAP;AAQH,EA3ID,gJ;;;;;;;;;mCCAA,uEAA4C;AAC5C;AACA;AACA;;AAEA,sBAAqB;AACrB,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,sBAAsB;AACvC;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,mBAAmB;AACnC;AACA,+CAA8C;AAC9C;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA,UAAS,uBAAuB;AAChC;AACA;AACA,KAAI;AACJ;AACA,mBAAkB,uBAAuB;AACzC;AACA;AACA;AACA,uCAAsC;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA,kCAAiC,sBAAsB;AACvD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,EAAC;;;;;;;;;;;;AC7JD,kCAAO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","file":"jwplayer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jwplayer\"] = factory();\n\telse\n\t\troot[\"jwplayer\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// install a JSONP callback for chunk loading\n \tvar parentJsonpFunction = window[\"webpackJsonpjwplayer\"];\n \twindow[\"webpackJsonpjwplayer\"] = function webpackJsonpCallback(chunkIds, moreModules) {\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, callbacks = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId])\n \t\t\t\tcallbacks.push.apply(callbacks, installedChunks[chunkId]);\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(chunkIds, moreModules);\n \t\twhile(callbacks.length)\n \t\t\tcallbacks.shift().call(null, __webpack_require__);\n\n \t};\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// \"0\" means \"already loaded\"\n \t// Array means \"loading\", array contains callbacks\n \tvar installedChunks = {\n \t\t0:0\n \t};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId, callback) {\n \t\t// \"0\" is the signal for \"already loaded\"\n \t\tif(installedChunks[chunkId] === 0)\n \t\t\treturn callback.call(null, __webpack_require__);\n\n \t\t// an array means \"currently loading\".\n \t\tif(installedChunks[chunkId] !== undefined) {\n \t\t\tinstalledChunks[chunkId].push(callback);\n \t\t} else {\n \t\t\t// start chunk loading\n \t\t\tinstalledChunks[chunkId] = [callback];\n \t\t\tvar head = document.getElementsByTagName('head')[0];\n \t\t\tvar script = document.createElement('script');\n \t\t\tscript.type = 'text/javascript';\n \t\t\tscript.charset = 'utf-8';\n \t\t\tscript.async = true;\n\n \t\t\tscript.src = __webpack_require__.p + \"\" + ({\"1\":\"provider.html5\",\"2\":\"vttparser\",\"3\":\"provider.flash\",\"4\":\"provider.youtube\",\"5\":\"jwplayer.controls\",\"6\":\"polyfills.promise\",\"7\":\"polyfills.base64\",\"8\":\"polyfills.intersection-observer\",\"9\":\"polyfills.vttrenderer\"}[chunkId]||chunkId) + \".js\";\n \t\t\thead.appendChild(script);\n \t\t}\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a8bf8f3cb1a82cfe5f6e\n **/","define([\n    'api/global-api',\n    'utils/helpers'\n], function (GlobalApi, utils) {\n    /* global __webpack_public_path__:true*/\n    /* eslint camelcase: 0 */\n    __webpack_public_path__ = utils.loadFrom();\n\n    return GlobalApi.selectPlayer;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/jwplayer.js\n **/","define([\n    'api/api',\n    'utils/underscore',\n    'providers/providers',\n    'providers/providers-supported',\n    'plugins/plugins'\n], function(Api, _, Providers, ProvidersSupported, plugins) {\n    var _instances = [];\n    var _uniqueIndex = 0;\n\n    var selectPlayer = function (query) {\n        var player;\n        var domElement;\n\n        // prioritize getting a player over querying an element\n        if (!query) {\n            player = _instances[0];\n        } else if (typeof query === 'string') {\n            player = _playerById(query);\n            if (!player) {\n                domElement = document.getElementById(query);\n            }\n        } else if (typeof query === 'number') {\n            player = _instances[query];\n        } else if (query.nodeType) {\n            domElement = query;\n            player = _playerById(domElement.id);\n        }\n        // found player\n        if (player) {\n            return player;\n        }\n        // create player\n        if (domElement) {\n            return _addPlayer(new Api(domElement, _removePlayer));\n        }\n        // invalid query\n        return {\n            registerPlugin: plugins.registerPlugin\n        };\n    };\n\n    var _playerById = function (id) {\n        for (var p = 0; p < _instances.length; p++) {\n            if (_instances[p].id === id) {\n                return _instances[p];\n            }\n        }\n\n        return null;\n    };\n\n    var _addPlayer = function (api) {\n        _uniqueIndex++;\n        api.uniqueId = _uniqueIndex;\n        _instances.push(api);\n        return api;\n    };\n\n    var _removePlayer = function (api) {\n        for (var i = _instances.length; i--;) {\n            if (_instances[i].uniqueId === api.uniqueId) {\n                _instances.splice(i, 1);\n                break;\n            }\n        }\n    };\n\n    var api = {\n        selectPlayer: selectPlayer,\n        registerProvider: Providers.registerProvider,\n        availableProviders: ProvidersSupported,\n        registerPlugin: plugins.registerPlugin\n    };\n\n    selectPlayer.api = api;\n\n    return api;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/api/global-api.js\n **/","define([\n    'events/events',\n    'events/states',\n    'utils/backbone.events',\n    'utils/helpers',\n    'utils/timer',\n    'utils/underscore',\n    'controller/controller',\n    'api/api-actions',\n    'api/api-mutators',\n    'api/callbacks-deprecate',\n    'version'\n], function(events, states,\n            Events, utils, Timer, _, Controller, actionsInit, mutatorsInit, legacyInit, version) {\n\n    var Api = function (container, globalRemovePlayer) {\n        var _this = this;\n        var _controller;\n\n        // Set up event handling\n        _.extend(this, Events);\n\n        // Provide module access to plugins from the player instance\n        this.utils = utils;\n        this._ = _;\n        this.Events = Events;\n        this.version = version;\n\n        this.trigger = function(type, args) {\n            if (_.isObject(args)) {\n                args = _.extend({}, args);\n            } else {\n                args = {};\n            }\n            args.type = type;\n            var jwplayer = window.jwplayer;\n            if (jwplayer && jwplayer.debug) {\n                return Events.trigger.call(_this, type, args);\n            }\n            return Events.triggerSafe.call(_this, type, args);\n        };\n\n        // Required by vast\n        // <deprecate>\n        this.dispatchEvent = this.trigger;\n        this.removeEventListener = this.off.bind(this);\n        // </deprecate>\n\n        var _setupController = function() {\n            _controller = new Controller(container);\n\n            // Add a bunch of methods\n            actionsInit(_this, _controller);\n            mutatorsInit(_this, _controller);\n            _controller.on(events.JWPLAYER_MEDIA_META, function (data) {\n                var itemMeta = _controller._model.get('itemMeta');\n                _.extend(itemMeta, data.metadata);\n            });\n\n            // capture the ready event and add setup time to it\n            _controller.on(events.JWPLAYER_READY, function(event) {\n                _qoe.tick('ready');\n                event.setupTime = _qoe.between('setup', 'ready');\n            });\n            _controller.on('all', _this.trigger);\n        };\n        _setupController();\n        legacyInit(this);\n\n        // These should be read-only model properties\n        this.id = container.id;\n\n        // Intialize QOE timer\n        var _qoe = this._qoe = new Timer();\n        _qoe.tick('init');\n\n\n        var _reset = function() {\n            _this.off();\n\n            if (_controller) {\n                _controller.off();\n            }\n\n            // so players can be removed before loading completes\n            if (_controller && _controller.playerDestroy) {\n                _controller.playerDestroy();\n            }\n        };\n\n        this.getPlugin = function(name) {\n            return _this.plugins && _this.plugins[name];\n        };\n\n        this.addPlugin = function(name, pluginInstance) {\n            this.plugins = this.plugins || {};\n            this.plugins[name] = pluginInstance;\n\n\n            this.onReady(pluginInstance.addToPlayer);\n\n            // A swf plugin may rely on resize events\n            if (pluginInstance.resize) {\n                this.onResize(pluginInstance.resizeHandler);\n            }\n        };\n\n        this.setup = function (options) {\n            _qoe.tick('setup');\n\n            _reset();\n            _setupController();\n\n            // bind event listeners passed in to the config\n            utils.foreach(options.events, function(evt, val) {\n                var fn = _this[evt];\n                if (typeof fn === 'function') {\n                    fn.call(_this, val);\n                }\n            });\n\n            options.id = _this.id;\n            _controller.setup(options, this);\n\n            return _this;\n        };\n\n        this.qoe = function() {\n            var qoeItem = _controller.getItemQoe();\n\n            var setupTime = _qoe.between('setup', 'ready');\n            var firstFrame = qoeItem.getFirstFrame();\n\n            return {\n                setupTime: setupTime,\n                firstFrame: firstFrame,\n                player: _qoe.dump(),\n                item: qoeItem.dump()\n            };\n        };\n\n        // Request this from the view/controller\n        this.getContainer = function () {\n            if (_controller.getContainer) {\n                // If the controller has fully set up...\n                return _controller.getContainer();\n            }\n            // If the controller hasn't set up yet, and we need this (due a setup to error), send the container\n            return container;\n        };\n\n        this.getMeta = this.getItemMeta = function () {\n            return _controller._model.get('itemMeta') || {};\n        };\n\n        this.getPlaylistItem = function (index) {\n            if (!utils.exists(index)) {\n                return _controller._model.get('playlistItem');\n            }\n            var playlist = _this.getPlaylist();\n            if (playlist) {\n                return playlist[index];\n            }\n            return null;\n        };\n\n        this.getRenderingMode = function () {\n            return 'html5';\n        };\n\n        this.getMute = function () {\n            return _controller._model.getMute();\n        };\n\n        this.load = function (toLoad, feedData) {\n            _controller.load(toLoad, feedData);\n            return _this;\n        };\n\n        this.play = function (state, meta) {\n            if (_.isObject(state) && state.reason) {\n                meta = state;\n            }\n            if (!meta) {\n                meta = { reason: 'external' };\n            }\n            if (state === true) {\n                _controller.play(meta);\n                return _this;\n            } else if (state === false) {\n                _controller.pause(meta);\n                return _this;\n            }\n\n            state = _this.getState();\n            switch (state) {\n                case states.PLAYING:\n                case states.BUFFERING:\n                    _controller.pause(meta);\n                    break;\n                default:\n                    _controller.play(meta);\n            }\n\n            return _this;\n        };\n\n        this.pause = function (state, meta) {\n            if (_.isBoolean(state)) {\n                return this.play(!state, meta);\n            }\n\n            return this.play(meta);\n        };\n\n        this.seek = function(pos, meta = { reason: 'external' }) {\n            _controller.seek(pos, meta);\n            return _this;\n        };\n\n        this.playlistNext = function(meta = { reason: 'external' }) {\n            _controller.playlistNext(meta);\n            return _this;\n        };\n\n        this.playlistPrev = function(meta = { reason: 'external' }) {\n            _controller.playlistPrev(meta);\n            return _this;\n        };\n\n        this.playlistItem = function(index, meta = { reason: 'external' }) {\n            _controller.playlistItem(index, meta);\n            return _this;\n        };\n\n        this.createInstream = function () {\n            return _controller.createInstream();\n        };\n\n        this.castToggle = function() {\n            if (_controller && _controller.castToggle) {\n                _controller.castToggle();\n            }\n        };\n\n        // These may be overridden by ad plugins\n        this.playAd = this.pauseAd = utils.noop;\n\n        this.remove = function () {\n            // Remove from array of players\n            globalRemovePlayer(_this);\n\n            // terminate state\n            _this.trigger('remove');\n\n            // Unbind listeners and destroy controller/model/...\n            _reset();\n\n            return _this;\n        };\n\n        return this;\n    };\n\n    return Api;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/api/api.js\n **/","import setConfig from 'api/set-config';\n\ndefine([\n    'api/config',\n    'controller/instream-adapter',\n    'utils/underscore',\n    'controller/Setup',\n    'controller/captions',\n    'controller/model',\n    'controller/storage',\n    'playlist/playlist',\n    'playlist/loader',\n    'utils/helpers',\n    'view/view',\n    'utils/backbone.events',\n    'events/change-state-event',\n    'events/states',\n    'events/events',\n    'view/error',\n    'controller/events-middleware'\n], function(Config, InstreamAdapter, _, Setup, Captions, Model, Storage,\n            Playlist, PlaylistLoader, utils, View, Events, changeStateEvent, states, events, error, eventsMiddleware) {\n\n    function _queueCommand(command) {\n        return function() {\n            var args = Array.prototype.slice.call(arguments, 0);\n\n            if (!this._model.getVideo()) {\n                this.eventsQueue.push([command, args]);\n            } else {\n                this['_' + command].apply(this, args);\n            }\n        };\n    }\n\n    // The model stores a different state than the provider\n    function normalizeState(newstate) {\n        if (newstate === states.LOADING || newstate === states.STALLED) {\n            return states.BUFFERING;\n        }\n        return newstate;\n    }\n\n    var Controller = function(originalContainer) {\n        this.originalContainer = this.currentContainer = originalContainer;\n        this.eventsQueue = [];\n        _.extend(this, Events);\n\n        this._model = new Model();\n    };\n\n    Controller.prototype = {\n        /** Controller API / public methods **/\n        play: _queueCommand('play'),\n        pause: _queueCommand('pause'),\n        seek: _queueCommand('seek'),\n        stop: _queueCommand('stop'),\n        load: _queueCommand('load'),\n        playlistNext: _queueCommand('next'),\n        playlistPrev: _queueCommand('prev'),\n        playlistItem: _queueCommand('item'),\n        setCurrentCaptions: _queueCommand('setCurrentCaptions'),\n        setCurrentQuality: _queueCommand('setCurrentQuality'),\n        setFullscreen: _queueCommand('setFullscreen'),\n        setup: function(options, _api) {\n            var _model = this._model;\n            var _view;\n            var _captions;\n            var _setup;\n            var _preplay = false;\n            var _actionOnAttach;\n            var _stopPlaylist = false;\n            var _interruptPlay;\n            var _this = this;\n            var checkAutoStartLastContext = {};\n\n            var _video = function () {\n                return _model.getVideo();\n            };\n\n            var storage = new Storage();\n            storage.track(_model);\n            var config = new Config(options, storage);\n\n            var _eventQueuedUntilReady = [];\n\n            _model.setup(config, storage);\n            _view = this._view = new View(_api, _model);\n\n            _setup = new Setup(_api, _model, _view, _setPlaylist);\n\n            _setup.on(events.JWPLAYER_READY, _playerReady, this);\n            _setup.on(events.JWPLAYER_SETUP_ERROR, this.setupError, this);\n\n            _model.mediaController.on('all', _triggerAfterReady, this);\n            _model.mediaController.on(events.JWPLAYER_MEDIA_COMPLETE, function() {\n                // Insert a small delay here so that other complete handlers can execute\n                _.defer(_completeHandler);\n            });\n            _model.mediaController.on(events.JWPLAYER_MEDIA_ERROR, this.triggerError, this);\n\n            // If we attempt to load flash, assume it is blocked if we don't hear back within a second\n            _model.on('change:flashBlocked', function(model, isBlocked) {\n                if (!isBlocked) {\n                    this._model.set('errorEvent', undefined);\n                    return;\n                }\n                // flashThrottle indicates whether this is a throttled event or plugin blocked event\n                var throttled = !!model.get('flashThrottle');\n                var errorEvent = {\n                    message: throttled ? 'Click to run Flash' : 'Flash plugin failed to load'\n                };\n                // Only dispatch an error for Flash blocked, not throttled events\n                if (!throttled) {\n                    this.trigger(events.JWPLAYER_ERROR, errorEvent);\n                }\n                this._model.set('errorEvent', errorEvent);\n            }, this);\n\n            _model.on('change:state', changeStateEvent, this);\n\n            _model.on('change:duration', function(model, duration) {\n                var minDvrWindow = model.get('minDvrWindow');\n                var streamType = utils.streamType(duration, minDvrWindow);\n                model.setStreamType(streamType);\n            });\n\n            _model.on('change:castState', function(model, evt) {\n                _this.trigger(events.JWPLAYER_CAST_SESSION, evt);\n            });\n            _model.on('change:fullscreen', function(model, bool) {\n                _this.trigger(events.JWPLAYER_FULLSCREEN, {\n                    fullscreen: bool\n                });\n                if (bool) {\n                    // Stop autoplay behavior when the player enters fullscreen\n                    model.set('playOnViewable', false);\n                }\n            });\n            _model.on('itemReady', function() {\n                _this.triggerAfterReady(events.JWPLAYER_PLAYLIST_ITEM, {\n                    index: _model.get('item'),\n                    item: _model.get('playlistItem')\n                });\n            });\n            _model.on('change:playlist', function(model, playlist) {\n                if (playlist.length) {\n                    var eventData = {\n                        playlist: playlist\n                    };\n                    var feedData = _model.get('feedData');\n                    if (feedData) {\n                        var eventFeedData = _.extend({}, feedData);\n                        delete eventFeedData.playlist;\n                        eventData.feedData = eventFeedData;\n                    }\n                    _this.triggerAfterReady(events.JWPLAYER_PLAYLIST_LOADED, eventData);\n                }\n            });\n            _model.on('change:volume', function(model, vol) {\n                _this.trigger(events.JWPLAYER_MEDIA_VOLUME, {\n                    volume: vol\n                });\n            });\n            _model.on('change:mute', function(model, mute) {\n                _this.trigger(events.JWPLAYER_MEDIA_MUTE, {\n                    mute: mute\n                });\n            });\n\n            _model.on('change:playbackRate', function(model, rate) {\n                _this.trigger(events.JWPLAYER_PLAYBACK_RATE_CHANGED, {\n                    playbackRate: rate,\n                    position: model.get('position')\n                });\n            });\n\n            _model.on('change:scrubbing', function(model, state) {\n                if (state) {\n                    _pause();\n                } else {\n                    _play({ reason: 'interaction' });\n                }\n            });\n\n            // For onCaptionsList and onCaptionsChange\n            _model.on('change:captionsList', function(model, captionsList) {\n                _this.triggerAfterReady(events.JWPLAYER_CAPTIONS_LIST, {\n                    tracks: captionsList,\n                    track: _model.get('captionsIndex') || 0\n                });\n            });\n\n            _model.on('change:mediaModel', function(model) {\n                model.mediaModel.on('change:state', function(mediaModel, state) {\n                    model.set('state', normalizeState(state));\n                });\n            });\n\n            // Ensure captionsList event is raised after playlistItem\n            _captions = new Captions(_model);\n\n            function _triggerAfterReady(type, e) {\n                _this.triggerAfterReady(type, e);\n            }\n\n            function triggerControls(model, enable) {\n                _this.trigger(events.JWPLAYER_CONTROLS, {\n                    controls: enable\n                });\n            }\n\n            _model.on('change:viewSetup', function(model, viewSetup) {\n                if (viewSetup) {\n                    const mediaElement = this.currentContainer.querySelector('video, audio');\n                    _this.showView(_view.element());\n                    if (mediaElement) {\n                        const mediaContainer = _model.get('mediaContainer');\n                        mediaContainer.appendChild(mediaElement);\n                    }\n                }\n            }, this);\n\n            function _playerReady() {\n                _setup = null;\n\n                _view.on('all', _triggerAfterReady, _this);\n\n                const related = _api.getPlugin('related');\n                if (related) {\n                    related.on('nextUp', (nextUp) => {\n                        _model.set('nextUp', nextUp);\n                    });\n                }\n\n                // Fire 'ready' once the view has resized so that player width and height are available\n                // (requires the container to be in the DOM)\n                _view.once(events.JWPLAYER_RESIZE, _playerReadyNotify);\n\n                _view.init();\n            }\n\n            function _playerReadyNotify() {\n                _model.change('visibility', _updateViewable);\n                _model.on('change:controls', triggerControls);\n\n                // Tell the api that we are loaded\n                _this.trigger(events.JWPLAYER_READY, {\n                    // this will be updated by Api\n                    setupTime: 0\n                });\n\n                // Stop queueing certain events\n                _this.triggerAfterReady = _this.trigger;\n\n                // Send queued events\n                for (var i = 0; i < _eventQueuedUntilReady.length; i++) {\n                    var event = _eventQueuedUntilReady[i];\n                    _preplay = (event.type === events.JWPLAYER_MEDIA_BEFOREPLAY);\n                    _this.trigger(event.type, event.args);\n                    _preplay = false;\n                }\n\n                _checkAutoStart();\n                _model.change('viewable', viewableChange);\n                _model.change('viewable', _checkPlayOnViewable);\n                _model.once('change:autostartFailed change:autostartMuted change:mute', function(model) {\n                    model.off('change:viewable', _checkPlayOnViewable);\n                });\n            }\n\n            function _updateViewable(model, visibility) {\n                if (!_.isUndefined(visibility)) {\n                    _model.set('viewable', Math.round(visibility));\n                }\n            }\n\n            function _checkAutoStart() {\n                if (!utils.isMobile() && _model.get('autostart') === true) {\n                    // Autostart immediately if we're not mobile and not waiting for the player to become viewable first\n                    _autoStart();\n                }\n            }\n\n            function autostartFallbackOnItemReady() {\n                cancelAutostartFallbackOnItemReady();\n                checkAutoStartLastContext = { bail: false };\n                _model.once('itemReady', checkAutoStartLast, checkAutoStartLastContext);\n            }\n\n            function cancelAutostartFallbackOnItemReady() {\n                checkAutoStartLastContext.bail = true;\n                _model.off('itemReady', checkAutoStartLast);\n            }\n\n            function checkAutoStartLast() {\n                // Use promise as setImmediate() to allow synchonous calls to load() and play() set the playReason\n                Promise.resolve().then(() => {\n                    const context = this;\n                    if (context.bail) {\n                        return;\n                    }\n                    _checkAutoStart();\n                });\n            }\n\n            function viewableChange(model, viewable) {\n                _this.trigger('viewable', {\n                    viewable: viewable\n                });\n            }\n\n            function _checkPlayOnViewable(model, viewable) {\n                if (_model.get('playOnViewable')) {\n                    if (viewable) {\n                        _autoStart();\n                    } else if (utils.isMobile()) {\n                        _this.pause({ reason: 'autostart' });\n                    }\n                }\n            }\n\n            this.triggerAfterReady = function(type, args) {\n                _eventQueuedUntilReady.push({\n                    type: type,\n                    args: args\n                });\n            };\n\n            function _loadProvidersForPlaylist(playlist) {\n                var providersManager = _model.getProviders();\n                var providersNeeded = providersManager.required(playlist, _model.get('primary'));\n                return providersManager.load(providersNeeded)\n                    .then(function() {\n                        if (!_this.getProvider()) {\n                            _model.setProvider(_model.get('playlistItem'));\n\n                            _executeQueuedEvents();\n                        }\n                    });\n            }\n\n            function _executeQueuedEvents() {\n                while (_this.eventsQueue.length > 0) {\n                    var q = _this.eventsQueue.shift();\n                    var method = q[0];\n                    var args = q[1] || [];\n                    _this['_' + method].apply(_this, args);\n                }\n            }\n\n            function _load(item, feedData) {\n                if (_model.get('state') === states.ERROR) {\n                    _model.set('state', states.IDLE);\n                }\n                _model.set('preInstreamState', 'instream-idle');\n\n                _this.trigger('destroyPlugin', {});\n                _stop(true);\n\n                autostartFallbackOnItemReady();\n\n                _primeMediaElementForPlayback();\n\n                switch (typeof item) {\n                    case 'string':\n                        _loadPlaylist(item);\n                        break;\n                    case 'object':\n                        var success = _setPlaylist(item, feedData);\n                        if (success) {\n                            _setItem(0);\n                        }\n                        break;\n                    case 'number':\n                        _setItem(item);\n                        break;\n                    default:\n                        break;\n                }\n            }\n\n            function _loadPlaylist(toLoad) {\n                var loader = new PlaylistLoader();\n                loader.on(events.JWPLAYER_PLAYLIST_LOADED, function(data) {\n                    _load(data.playlist, data);\n                });\n                loader.on(events.JWPLAYER_ERROR, function(evt) {\n                    evt.message = 'Error loading playlist: ' + evt.message;\n                    _this.triggerError(evt);\n                }, _this);\n                loader.load(toLoad);\n            }\n\n            function _getAdState() {\n                return _this._instreamAdapter && _this._instreamAdapter.getState();\n            }\n\n            function _getState() {\n                var adState = _getAdState();\n                if (_.isString(adState)) {\n                    return adState;\n                }\n                return _model.get('state');\n            }\n\n            function _play(meta = {}) {\n                cancelAutostartFallbackOnItemReady();\n                _model.set('playReason', meta.reason);\n\n                if (_model.get('state') === states.ERROR) {\n                    return;\n                }\n\n                var adState = _getAdState();\n                if (_.isString(adState)) {\n                    // this will resume the ad. _api.playAd would load a new ad\n                    _api.pauseAd(false);\n                    return;\n                }\n\n                if (_model.get('state') === states.COMPLETE) {\n                    _stop(true);\n                    _setItem(0);\n                }\n\n                if (!_preplay) {\n                    _preplay = true;\n                    _this.triggerAfterReady(events.JWPLAYER_MEDIA_BEFOREPLAY, { playReason: _model.get('playReason') });\n                    _preplay = false;\n                    if (_interruptPlay) {\n                        _interruptPlay = false;\n                        _actionOnAttach = null;\n                        return;\n                    }\n                }\n\n                // TODO: The state is idle while providers load\n                var status;\n                if (_isIdle()) {\n                    if (_model.get('playlist').length === 0) {\n                        return;\n                    }\n                    status = utils.tryCatch(function() {\n                        // FIXME: playAttempt is not triggered until this is called. Should be on play()\n                        _model.loadVideo();\n                    });\n                } else if (_model.get('state') === states.PAUSED) {\n                    status = utils.tryCatch(function() {\n                        _model.playVideo();\n                    });\n                }\n\n                if (status instanceof utils.Error) {\n                    _this.triggerError(status);\n                    _actionOnAttach = null;\n                }\n            }\n\n            function _inInteraction(event) {\n                return event && /^(?:mouse|pointer|touch|gesture|click|key)/.test(event.type);\n            }\n\n            function _primeMediaElementForPlayback() {\n                // If we're in a user-gesture event call load() on video to allow async playback\n                if (_inInteraction(window.event)) {\n                    const mediaElement = _this.currentContainer.querySelector('video, audio');\n                    if (mediaElement && _isIdle()) {\n                        mediaElement.load();\n                    }\n                }\n            }\n\n            function _autoStart() {\n                var state = _model.get('state');\n\n                if (state === states.IDLE || state === states.PAUSED) {\n                    _play({ reason: 'autostart' });\n                }\n            }\n\n            function _stop(internal) {\n                cancelAutostartFallbackOnItemReady();\n\n                var fromApi = !internal;\n\n                _actionOnAttach = null;\n\n                var status = utils.tryCatch(function() {\n                    _model.stopVideo();\n                }, _this);\n\n                if (status instanceof utils.Error) {\n                    _this.triggerError(status);\n                    return false;\n                }\n\n                if (fromApi) {\n                    _stopPlaylist = true;\n                }\n\n                if (_preplay) {\n                    _interruptPlay = true;\n                }\n\n                return true;\n            }\n\n            function _pause(meta = {}) {\n                _actionOnAttach = null;\n\n                _model.set('pauseReason', meta.reason);\n                // Stop autoplay behavior if the video is paused by the user or an api call\n                if (meta.reason === 'interaction' || meta.reason === 'external') {\n                    _model.set('playOnViewable', false);\n                }\n\n                var adState = _getAdState();\n                if (_.isString(adState)) {\n                    _api.pauseAd(true);\n                    return;\n                }\n\n                switch (_model.get('state')) {\n                    case states.ERROR:\n                        return;\n                    case states.PLAYING:\n                    case states.BUFFERING:\n                        var status = utils.tryCatch(function() {\n                            _video().pause();\n                        }, this);\n\n                        if (status instanceof utils.Error) {\n                            _this.triggerError(status);\n                            return;\n                        }\n                        break;\n                    default:\n                        if (_preplay) {\n                            _interruptPlay = true;\n                        }\n                }\n                return;\n            }\n\n            function _isIdle() {\n                var state = _model.get('state');\n                return (state === states.IDLE || state === states.COMPLETE || state === states.ERROR);\n            }\n\n            function _seek(pos, meta) {\n                if (_model.get('state') === states.ERROR) {\n                    return;\n                }\n                if (!_model.get('scrubbing') && _model.get('state') !== states.PLAYING) {\n                    _play(meta);\n                }\n                _video().seek(pos);\n            }\n\n            function _item(index, meta) {\n                _stop(true);\n                if (_model.get('state') === states.ERROR) {\n                    _model.set('state', states.IDLE);\n                }\n                _setItem(index);\n                _play(meta);\n            }\n\n            function _setPlaylist(array, feedData) {\n                _model.set('feedData', feedData);\n\n                var playlist = Playlist(array);\n                playlist = Playlist.filterPlaylist(playlist, _model, feedData);\n\n                _model.set('playlist', playlist);\n\n                if (!_.isArray(playlist) || playlist.length === 0) {\n                    _this.triggerError({\n                        message: 'Error loading playlist: No playable sources found'\n                    });\n                    return false;\n                }\n\n                _loadProvidersForPlaylist(playlist);\n\n                return true;\n            }\n\n            function _setItem(index) {\n                _model.setItemIndex(index);\n            }\n\n            function _prev(meta) {\n                _item(_model.get('item') - 1, meta);\n            }\n\n            function _next(meta) {\n                _item(_model.get('item') + 1, meta);\n            }\n\n            function _completeHandler() {\n                if (!_isIdle()) {\n                    // Something has made an API call before the complete handler has fired.\n                    return;\n                } else if (_stopPlaylist) {\n                    // Stop called in onComplete event listener\n                    _stopPlaylist = false;\n                    return;\n                }\n\n                _actionOnAttach = _completeHandler;\n\n                var idx = _model.get('item');\n                if (idx === _model.get('playlist').length - 1) {\n                    // If it's the last item in the playlist\n                    if (_model.get('repeat')) {\n                        _next({ reason: 'repeat' });\n                    } else {\n                        // Exit fullscreen on IOS so that our overlays show to the user\n                        if (utils.isIOS()) {\n                            _setFullscreen(false);\n                        }\n                        // Autoplay/pause no longer needed since there's no more media to play\n                        // This prevents media from replaying when a completed video scrolls into view\n                        _model.set('playOnViewable', false);\n                        _model.set('state', states.COMPLETE);\n                        _this.trigger(events.JWPLAYER_PLAYLIST_COMPLETE, {});\n                    }\n                    return;\n                }\n\n                // It wasn't the last item in the playlist,\n                //  so go to the next one\n                _next({ reason: 'playlist' });\n            }\n\n            function _setCurrentQuality(index) {\n                if (_video()) {\n                    index = parseInt(index, 10) || 0;\n                    _video().setCurrentQuality(index);\n                }\n            }\n\n            function _getCurrentQuality() {\n                if (_video()) {\n                    return _video().getCurrentQuality();\n                }\n                return -1;\n            }\n\n            function _getConfig() {\n                return this._model ? this._model.getConfiguration() : undefined;\n            }\n\n            function _getVisualQuality() {\n                if (this._model.mediaModel) {\n                    return this._model.mediaModel.get('visualQuality');\n                }\n                // if quality is not implemented in the provider,\n                // return quality info based on current level\n                var qualityLevels = _getQualityLevels();\n                if (qualityLevels) {\n                    var levelIndex = _getCurrentQuality();\n                    var level = qualityLevels[levelIndex];\n                    if (level) {\n                        return {\n                            level: _.extend({\n                                index: levelIndex\n                            }, level),\n                            mode: '',\n                            reason: ''\n                        };\n                    }\n                }\n                return null;\n            }\n\n            function _getQualityLevels() {\n                if (_video()) {\n                    return _video().getQualityLevels();\n                }\n                return null;\n            }\n\n            function _setCurrentAudioTrack(index) {\n                if (_video()) {\n                    index = parseInt(index, 10) || 0;\n                    _video().setCurrentAudioTrack(index);\n                }\n            }\n\n            function _getCurrentAudioTrack() {\n                if (_video()) {\n                    return _video().getCurrentAudioTrack();\n                }\n                return -1;\n            }\n\n            function _getAudioTracks() {\n                if (_video()) {\n                    return _video().getAudioTracks();\n                }\n                return null;\n            }\n\n            function _setCurrentCaptions(index) {\n                index = parseInt(index, 10) || 0;\n\n                // update provider subtitle track\n                _model.persistVideoSubtitleTrack(index);\n\n                _this.trigger(events.JWPLAYER_CAPTIONS_CHANGED, {\n                    tracks: _getCaptionsList(),\n                    track: index\n                });\n\n            }\n\n            function _getCurrentCaptions() {\n                return _captions.getCurrentIndex();\n            }\n\n            function _getCaptionsList() {\n                return _captions.getCaptionsList();\n            }\n\n            /** Used for the InStream API **/\n            function _detachMedia() {\n                return _model.detachMedia();\n            }\n\n            function _attachMedia() {\n                // Called after instream ends\n                var status = utils.tryCatch(function() {\n                    _model.attachMedia();\n                });\n\n                if (status instanceof utils.Error) {\n                    utils.log('Error calling _attachMedia', status);\n                    return;\n                }\n\n                if (typeof _actionOnAttach === 'function') {\n                    _actionOnAttach();\n                }\n            }\n\n            function _setFullscreen(state) {\n                if (!_.isBoolean(state)) {\n                    state = !_model.get('fullscreen');\n                }\n\n                _model.set('fullscreen', state);\n                if (this._instreamAdapter && this._instreamAdapter._adModel) {\n                    this._instreamAdapter._adModel.set('fullscreen', state);\n                }\n            }\n\n            function _nextUp() {\n                const related = _api.getPlugin('related');\n                if (related) {\n                    const nextUp = _model.get('nextUp');\n                    if (nextUp) {\n                        _this.trigger('nextClick', {\n                            mode: nextUp.mode,\n                            ui: 'nextup',\n                            target: nextUp,\n                            itemsShown: [ nextUp ],\n                            feedData: nextUp.feedData,\n                        });\n                    }\n                    related.next();\n                }\n            }\n\n            /** Controller API / public methods **/\n            this._play = _play;\n            this._pause = _pause;\n            this._seek = _seek;\n            this._stop = _stop;\n            this._load = _load;\n            this._next = _next;\n            this._prev = _prev;\n            this._item = _item;\n            this._setCurrentCaptions = _setCurrentCaptions;\n            this._setCurrentQuality = _setCurrentQuality;\n            this._setFullscreen = _setFullscreen;\n\n            this.detachMedia = _detachMedia;\n            this.attachMedia = _attachMedia;\n            this.getCurrentQuality = _getCurrentQuality;\n            this.getQualityLevels = _getQualityLevels;\n            this.setCurrentAudioTrack = _setCurrentAudioTrack;\n            this.getCurrentAudioTrack = _getCurrentAudioTrack;\n            this.getAudioTracks = _getAudioTracks;\n            this.getCurrentCaptions = _getCurrentCaptions;\n            this.getCaptionsList = _getCaptionsList;\n            this.getVisualQuality = _getVisualQuality;\n            this.getConfig = _getConfig;\n            this.getState = _getState;\n\n            // Model passthroughs\n            this.setVolume = _model.setVolume.bind(_model);\n            this.setMute = _model.setMute.bind(_model);\n            this.setPlaybackRate = _model.setPlaybackRate.bind(_model);\n            this.getProvider = function() {\n                return _model.get('provider');\n            };\n            this.getWidth = function() {\n                return _model.get('containerWidth');\n            };\n            this.getHeight = function() {\n                return _model.get('containerHeight');\n            };\n\n            // View passthroughs\n            this.getContainer = function() {\n                return this.currentContainer;\n            };\n            this.resize = _view.resize;\n            this.getSafeRegion = _view.getSafeRegion;\n            this.setCues = _view.addCues;\n            this.setCaptions = _view.setCaptions;\n            this.next = _nextUp;\n            this.setConfig = (newConfig) => setConfig(_this, newConfig);\n            this.addButton = function(img, tooltip, callback, id, btnClass) {\n                var newButton = {\n                    img: img,\n                    tooltip: tooltip,\n                    callback: callback,\n                    id: id,\n                    btnClass: btnClass\n                };\n                var replaced = false;\n                var dock = _.map(_model.get('dock'), function(dockButton) {\n                    var replaceButton =\n                        dockButton !== newButton &&\n                        dockButton.id === newButton.id;\n\n                    // replace button if its of the same id/type,\n                    // but has different values\n                    if (replaceButton) {\n                        replaced = true;\n                        return newButton;\n                    }\n                    return dockButton;\n                });\n\n                // add button if it has not been replaced\n                if (!replaced) {\n                    dock.push(newButton);\n                }\n\n                _model.set('dock', dock);\n            };\n\n            this.removeButton = function(id) {\n                var dock = _model.get('dock') || [];\n                dock = _.reject(dock, _.matches({ id: id }));\n                _model.set('dock', dock);\n            };\n\n            this.checkBeforePlay = function() {\n                return _preplay;\n            };\n\n            this.getItemQoe = function() {\n                return _model._qoeItem;\n            };\n\n            this.setControls = function (mode) {\n                if (!_.isBoolean(mode)) {\n                    mode = !_model.get('controls');\n                }\n                _model.set('controls', mode);\n\n                var provider = _model.getVideo();\n                if (provider) {\n                    provider.setControls(mode);\n                }\n            };\n\n            this.playerDestroy = function () {\n                this.stop();\n                this.showView(this.originalContainer);\n\n                if (_view) {\n                    _view.destroy();\n                }\n                if (_model) {\n                    _model.destroy();\n                }\n                if (_setup) {\n                    _setup.destroy();\n                    _setup = null;\n                }\n            };\n\n            this.isBeforePlay = this.checkBeforePlay;\n\n            this.isBeforeComplete = function () {\n                return _model.checkComplete();\n            };\n\n            this.createInstream = function() {\n                this.instreamDestroy();\n                _primeMediaElementForPlayback();\n                this._instreamAdapter = new InstreamAdapter(this, _model, _view);\n                return this._instreamAdapter;\n            };\n\n            this.skipAd = function() {\n                if (this._instreamAdapter) {\n                    this._instreamAdapter.skipAd();\n                }\n            };\n\n            this.instreamDestroy = function() {\n                if (_this._instreamAdapter) {\n                    _this._instreamAdapter.destroy();\n                }\n            };\n\n            // Delegate trigger so we can run a middleware function before any event is bubbled through the API\n            this.trigger = function (type, args) {\n                var data = eventsMiddleware(_model, type, args);\n                return Events.trigger.call(this, type, data);\n            };\n\n            _setup.start();\n        },\n\n        showView: function(viewElement) {\n            if (!document.body.contains(this.currentContainer)) {\n                // This implies the player was removed from the DOM before setup completed\n                //   or a player has been \"re\" setup after being removed from the DOM\n                var newContainer = document.getElementById(this._model.get('id'));\n                if (newContainer) {\n                    this.currentContainer = newContainer;\n                }\n            }\n\n            if (this.currentContainer.parentElement) {\n                this.currentContainer.parentElement.replaceChild(viewElement, this.currentContainer);\n            }\n            this.currentContainer = viewElement;\n        },\n\n        triggerError: function(evt) {\n            this._model.set('errorEvent', evt);\n            this._model.set('state', states.ERROR);\n            this._model.once('change:state', function() {\n                this._model.set('errorEvent', undefined);\n            }, this);\n\n            this.trigger(events.JWPLAYER_ERROR, evt);\n        },\n\n        setupError: function(evt) {\n            var message = evt.message;\n            var errorElement = utils.createElement(error(this._model.get('id'), this._model.get('skin'), message));\n\n            var width = this._model.get('width');\n            var height = this._model.get('height');\n\n            utils.style(errorElement, {\n                width: width.toString().indexOf('%') > 0 ? width : (width + 'px'),\n                height: height.toString().indexOf('%') > 0 ? height : (height + 'px')\n            });\n\n            this.showView(errorElement);\n\n            var _this = this;\n            _.defer(function() {\n                _this.trigger(events.JWPLAYER_SETUP_ERROR, {\n                    message: message\n                });\n            });\n        }\n    };\n\n    return Controller;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/controller.js\n **/","const _ = require('utils/underscore');\n\nconst supportedFields = [\n    'repeat',\n    'volume',\n    'mute',\n    'autostart'\n];\n\nfunction setAutoStart(model, controller, autoStart) {\n    model.setAutoStart(autoStart);\n\n    if (model.get('state') === 'idle' && autoStart === true) {\n        controller.play({ reason: 'autostart' });\n    }\n}\n\nexport default (controller, newConfig) => {\n    const model = controller._model;\n\n    if (!_.size(newConfig)) {\n        return;\n    }\n\n    supportedFields.forEach(field => {\n        const newValue = newConfig[field];\n\n        if (_.isUndefined(newValue)) {\n            return;\n        }\n\n        switch (field) {\n            case 'mute':\n                controller.setMute(newValue);\n                break;\n            case 'volume':\n                controller.setVolume(newValue);\n                break;\n            case 'autostart':\n                setAutoStart(model, controller, newValue);\n                break;\n            default:\n                model.set(field, newValue);\n        }\n    });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/api/set-config.js\n **/","//     Underscore.js 1.6.0\n//     http://underscorejs.org\n//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n// https://github.com/jashkenas/underscore/blob/1f4bf626f23a99f7a676f5076dc1b1475554c8f7/underscore.js\n\n/* eslint no-eq-null: 0 */\n/* eslint eqeqeq: 0 */\n/* eslint no-void: 0 */\n/* eslint guard-for-in: 0 */\n/* eslint no-constant-condition: 0 */\n\ndefine([], function() {\n\n    // Establish the object that gets returned to break out of a loop iteration.\n    var breaker = {};\n\n    // Save bytes in the minified (but not gzipped) version:\n    var ArrayProto = Array.prototype;\n    var ObjProto = Object.prototype;\n    var FuncProto = Function.prototype;\n\n    // Create quick reference variables for speed access to core prototypes.\n    var slice = ArrayProto.slice;\n    var concat = ArrayProto.concat;\n    var toString = ObjProto.toString;\n    var hasOwnProperty = ObjProto.hasOwnProperty;\n\n    // All **ECMAScript 5** native function implementations that we hope to use\n    // are declared here.\n    var nativeMap = ArrayProto.map;\n    var nativeReduce = ArrayProto.reduce;\n    var nativeForEach = ArrayProto.forEach;\n    var nativeFilter = ArrayProto.filter;\n    var nativeEvery = ArrayProto.every;\n    var nativeSome = ArrayProto.some;\n    var nativeIndexOf = ArrayProto.indexOf;\n    var nativeIsArray = Array.isArray;\n    var nativeKeys = Object.keys;\n    var nativeBind = FuncProto.bind;\n\n\n    // Create a safe reference to the Underscore object for use below.\n    var _ = function (obj) {\n        if (obj instanceof _) {\n            return obj;\n        }\n        if (!(this instanceof _)) {\n            return new _(obj);\n        }\n    };\n\n    // Collection Functions\n    // --------------------\n\n    // The cornerstone, an `each` implementation, aka `forEach`.\n    // Handles objects with the built-in `forEach`, arrays, and raw objects.\n    // Delegates to **ECMAScript 5**'s native `forEach` if available.\n    var each = _.each = _.forEach = function (obj, iterator, context) {\n        var i;\n        var length;\n        if (obj == null) {\n            return obj;\n        }\n        if (nativeForEach && obj.forEach === nativeForEach) {\n            obj.forEach(iterator, context);\n        } else if (obj.length === +obj.length) {\n            for (i = 0, length = obj.length; i < length; i++) {\n                if (iterator.call(context, obj[i], i, obj) === breaker) {\n                    return;\n                }\n            }\n        } else {\n            var keys = _.keys(obj);\n            for (i = 0, length = keys.length; i < length; i++) {\n                if (iterator.call(context, obj[keys[i]], keys[i], obj) === breaker) {\n                    return;\n                }\n            }\n        }\n        return obj;\n    };\n\n    // Return the results of applying the iterator to each element.\n    // Delegates to **ECMAScript 5**'s native `map` if available.\n    _.map = _.collect = function (obj, iterator, context) {\n        var results = [];\n        if (obj == null) {\n            return results;\n        }\n        if (nativeMap && obj.map === nativeMap) {\n            return obj.map(iterator, context);\n        }\n        each(obj, function (value, index, list) {\n            results.push(iterator.call(context, value, index, list));\n        });\n        return results;\n    };\n\n    var reduceError = 'Reduce of empty array with no initial value';\n\n    // **Reduce** builds up a single result from a list of values, aka `inject`,\n    // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.\n    _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {\n        var initial = arguments.length > 2;\n        if (obj == null) {\n            obj = [];\n        }\n        if (nativeReduce && obj.reduce === nativeReduce) {\n            if (context) {\n                iterator = _.bind(iterator, context);\n            }\n            return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\n        }\n        each(obj, function(value, index, list) {\n            if (!initial) {\n                memo = value;\n                initial = true;\n            } else {\n                memo = iterator.call(context, memo, value, index, list);\n            }\n        });\n        if (!initial) {\n            throw new TypeError(reduceError);\n        }\n        return memo;\n    };\n\n    // Return the first value which passes a truth test. Aliased as `detect`.\n    _.find = _.detect = function (obj, predicate, context) {\n        var result;\n        any(obj, function (value, index, list) {\n            if (predicate.call(context, value, index, list)) {\n                result = value;\n                return true;\n            }\n        });\n        return result;\n    };\n\n\n    // Return all the elements that pass a truth test.\n    // Delegates to **ECMAScript 5**'s native `filter` if available.\n    // Aliased as `select`.\n    _.filter = _.select = function (obj, predicate, context) {\n        var results = [];\n        if (obj == null) {\n            return results;\n        }\n        if (nativeFilter && obj.filter === nativeFilter) {\n            return obj.filter(predicate, context);\n        }\n        each(obj, function (value, index, list) {\n            if (predicate.call(context, value, index, list)) {\n                results.push(value);\n            }\n        });\n        return results;\n    };\n\n    // Return all the elements for which a truth test fails.\n    _.reject = function(obj, predicate, context) {\n        return _.filter(obj, function(value, index, list) {\n            return !predicate.call(context, value, index, list);\n        }, context);\n    };\n\n    // Trim out all falsy values from an array.\n    _.compact = function(array) {\n        return _.filter(array, _.identity);\n    };\n\n\n    // Determine whether all of the elements match a truth test.\n    // Delegates to **ECMAScript 5**'s native `every` if available.\n    // Aliased as `all`.\n    _.every = _.all = function (obj, predicate, context) {\n        predicate || (predicate = _.identity);\n        var result = true;\n        if (obj == null) {\n            return result;\n        }\n        if (nativeEvery && obj.every === nativeEvery) {\n            return obj.every(predicate, context);\n        }\n        each(obj, function (value, index, list) {\n            if (!(result = result && predicate.call(context, value, index, list))) {\n                return breaker;\n            }\n        });\n        return !!result;\n    };\n\n    // Determine if at least one element in the object matches a truth test.\n    // Delegates to **ECMAScript 5**'s native `some` if available.\n    // Aliased as `any`.\n    var any = _.some = _.any = function (obj, predicate, context) {\n        predicate || (predicate = _.identity);\n        var result = false;\n        if (obj == null) {\n            return result;\n        }\n        if (nativeSome && obj.some === nativeSome) {\n            return obj.some(predicate, context);\n        }\n        each(obj, function (value, index, list) {\n            if (result || (result = predicate.call(context, value, index, list))) {\n                return breaker;\n            }\n        });\n        return !!result;\n    };\n\n    // returns the size of an object\n    _.size = function (obj) {\n        if (obj == null) {\n            return 0;\n        }\n        return obj.length === +obj.length ? obj.length : _.keys(obj).length;\n    };\n\n\n    // Array Functions\n    // ---------------\n\n\n    // Get the last element of an array. Passing **n** will return the last N\n    // values in the array. The **guard** check allows it to work with `_.map`.\n    _.last = function(array, n, guard) {\n        if (array == null) {\n            return void 0;\n        }\n        if ((n == null) || guard) {\n            return array[array.length - 1];\n        }\n        return slice.call(array, Math.max(array.length - n, 0));\n    };\n\n\n    // Returns a function that will only be executed after being called N times.\n    _.after = function (times, func) {\n        return function () {\n            if (--times < 1) {\n                return func.apply(this, arguments);\n            }\n        };\n    };\n\n    // Returns a function that will only be executed up to (but not including) the Nth call.\n    _.before = function(times, func) {\n        var memo;\n        return function() {\n            if (--times > 0) {\n                memo = func.apply(this, arguments);\n            }\n            if (times <= 1) {\n                func = null;\n            }\n            return memo;\n        };\n    };\n\n    // An internal function to generate lookup iterators.\n    var lookupIterator = function (value) {\n        if (value == null) {\n            return _.identity;\n        }\n        if (_.isFunction(value)) {\n            return value;\n        }\n        return _.property(value);\n    };\n\n\n    // An internal function used for aggregate \"group by\" operations.\n    var group = function(behavior) {\n        return function(obj, iterator, context) {\n            var result = {};\n            iterator = lookupIterator(iterator);\n            each(obj, function(value, index) {\n                var key = iterator.call(context, value, index, obj);\n                behavior(result, key, value);\n            });\n            return result;\n        };\n    };\n\n    // Groups the object's values by a criterion. Pass either a string attribute\n    // to group by, or a function that returns the criterion.\n    _.groupBy = group(function(result, key, value) {\n        _.has(result, key) ? result[key].push(value) : result[key] = [value];\n    });\n\n\n    // Indexes the object's values by a criterion, similar to `groupBy`, but for\n    // when you know that your index values will be unique.\n    _.indexBy = group(function(result, key, value) {\n        result[key] = value;\n    });\n\n\n    // Use a comparator function to figure out the smallest index at which\n    // an object should be inserted so as to maintain order. Uses binary search.\n    _.sortedIndex = function (array, obj, iterator, context) {\n        iterator = lookupIterator(iterator);\n        var value = iterator.call(context, obj);\n        var low = 0;\n        var high = array.length;\n        while (low < high) {\n            var mid = (low + high) >>> 1;\n            iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;\n        }\n        return low;\n    };\n\n    _.contains = _.include = function (obj, target) {\n        if (obj == null) {\n            return false;\n        }\n        if (obj.length !== +obj.length) {\n            obj = _.values(obj);\n        }\n        return _.indexOf(obj, target) >= 0;\n    };\n\n    // Convenience version of a common use case of `map`: fetching a property.\n    _.pluck = function(obj, key) {\n        return _.map(obj, _.property(key));\n    };\n\n    // Convenience version of a common use case of `filter`: selecting only objects\n    // containing specific `key:value` pairs.\n    _.where = function (obj, attrs) {\n        return _.filter(obj, _.matches(attrs));\n    };\n\n    // Convenience version of a common use case of `find`: getting the first object\n    // containing specific `key:value` pairs.\n    _.findWhere = function(obj, attrs) {\n        return _.find(obj, _.matches(attrs));\n    };\n\n    // Return the maximum element or (element-based computation).\n    // Can't optimize arrays of integers longer than 65,535 elements.\n    // See [WebKit Bug 80797](https://bugs.webkit.org/show_bug.cgi?id=80797)\n    _.max = function(obj, iterator, context) {\n        if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n            return Math.max.apply(Math, obj);\n        }\n        var result = -Infinity;\n        var lastComputed = -Infinity;\n        each(obj, function(value, index, list) {\n            var computed = iterator ? iterator.call(context, value, index, list) : value;\n            if (computed > lastComputed) {\n                result = value;\n                lastComputed = computed;\n            }\n        });\n        return result;\n    };\n\n    // Take the difference between one array and a number of other arrays.\n    // Only the elements present in just the first array will remain.\n    _.difference = function (array) {\n        var rest = concat.apply(ArrayProto, slice.call(arguments, 1));\n        return _.filter(array, function (value) {\n            return !_.contains(rest, value);\n        });\n    };\n\n    // Return a version of the array that does not contain the specified value(s).\n    _.without = function (array) {\n        return _.difference(array, slice.call(arguments, 1));\n    };\n\n    // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),\n    // we need this function. Return the position of the first occurrence of an\n    // item in an array, or -1 if the item is not included in the array.\n    // Delegates to **ECMAScript 5**'s native `indexOf` if available.\n    // If the array is large and already in sort order, pass `true`\n    // for **isSorted** to use binary search.\n    _.indexOf = function (array, item, isSorted) {\n        if (array == null) {\n            return -1;\n        }\n        var i = 0;\n        var length = array.length;\n        if (isSorted) {\n            if (typeof isSorted == 'number') {\n                i = (isSorted < 0 ? Math.max(0, length + isSorted) : isSorted);\n            } else {\n                i = _.sortedIndex(array, item);\n                return array[i] === item ? i : -1;\n            }\n        }\n        if (nativeIndexOf && array.indexOf === nativeIndexOf) {\n            return array.indexOf(item, isSorted);\n        }\n        for (; i < length; i++) {\n            if (array[i] === item) {\n                return i;\n            }\n        }\n        return -1;\n    };\n\n\n    // Function (ahem) Functions\n    // ------------------\n\n\n    // Reusable constructor function for prototype setting.\n    var ctor = function() {};\n\n    // Create a function bound to a given object (assigning `this`, and arguments,\n    // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n    // available.\n    _.bind = function(func, context) {\n        var args;\n        var bound;\n        if (nativeBind && func.bind === nativeBind) {\n            return nativeBind.apply(func, slice.call(arguments, 1));\n        }\n        if (!_.isFunction(func)) {\n            throw new TypeError;\n        }\n        args = slice.call(arguments, 2);\n        bound = function() {\n            if (!(this instanceof bound)) {\n                return func.apply(context, args.concat(slice.call(arguments)));\n            }\n            ctor.prototype = func.prototype;\n            var self = new ctor;\n            ctor.prototype = null;\n            var result = func.apply(self, args.concat(slice.call(arguments)));\n            if (Object(result) === result) {\n                return result;\n            }\n            return self;\n        };\n        return bound;\n    };\n\n    // Partially apply a function by creating a version that has had some of its\n    // arguments pre-filled, without changing its dynamic `this` context. _ acts\n    // as a placeholder, allowing any combination of arguments to be pre-filled.\n    _.partial = function (func) {\n        var boundArgs = slice.call(arguments, 1);\n        return function () {\n            var position = 0;\n            var args = boundArgs.slice();\n            for (var i = 0, length = args.length; i < length; i++) {\n                if (args[i] === _) {\n                    args[i] = arguments[position++];\n                }\n            }\n            while (position < arguments.length) {\n                args.push(arguments[position++]);\n            }\n            return func.apply(this, args);\n        };\n    };\n\n    // Returns a function that will be executed at most one time, no matter how\n    // often you call it. Useful for lazy initialization.\n    _.once = _.partial(_.before, 2);\n\n    // Returns the first function passed as an argument to the second,\n    // allowing you to adjust arguments, run code before and after, and\n    // conditionally execute the original function.\n    // _.wrap = function(func, wrapper) {\n    //    return _.partial(wrapper, func);\n    // };\n\n\n    // Memoize an expensive function by storing its results.\n    _.memoize = function (func, hasher) {\n        var memo = {};\n        hasher || (hasher = _.identity);\n        return function () {\n            var key = hasher.apply(this, arguments);\n            return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));\n        };\n    };\n\n    // Delays a function for the given number of milliseconds, and then calls\n    // it with the arguments supplied.\n    _.delay = function (func, wait) {\n        var args = slice.call(arguments, 2);\n        return setTimeout(function () {\n            return func.apply(null, args);\n        }, wait);\n    };\n\n    // Defers a function, scheduling it to run after the current call stack has\n    // cleared.\n    _.defer = function (func) {\n        return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n    };\n\n\n    // Returns a function, that, when invoked, will only be triggered at most once\n    // during a given window of time. Normally, the throttled function will run\n    // as much as it can, without ever going more than once per `wait` duration;\n    // but if you'd like to disable the execution on the leading edge, pass\n    // `{leading: false}`. To disable execution on the trailing edge, ditto.\n    _.throttle = function(func, wait, options) {\n        var context;\n        var args;\n        var result;\n        var timeout = null;\n        var previous = 0;\n        options || (options = {});\n        var later = function() {\n            previous = options.leading === false ? 0 : _.now();\n            timeout = null;\n            result = func.apply(context, args);\n            context = args = null;\n        };\n        return function() {\n            var now = _.now();\n            if (!previous && options.leading === false) {\n                previous = now;\n            }\n            var remaining = wait - (now - previous);\n            context = this;\n            args = arguments;\n            if (remaining <= 0) {\n                clearTimeout(timeout);\n                timeout = null;\n                previous = now;\n                result = func.apply(context, args);\n                context = args = null;\n            } else if (!timeout && options.trailing !== false) {\n                timeout = setTimeout(later, remaining);\n            }\n            return result;\n        };\n    };\n\n\n    // Retrieve the names of an object's properties.\n    // Delegates to **ECMAScript 5**'s native `Object.keys`\n    _.keys = function (obj) {\n        if (!_.isObject(obj)) {\n            return [];\n        }\n        if (nativeKeys) {\n            return nativeKeys(obj);\n        }\n        var keys = [];\n        for (var key in obj) {\n            if (_.has(obj, key)) {\n                keys.push(key);\n            }\n        }\n        return keys;\n    };\n\n    _.invert = function (obj) {\n        var result = {};\n        var keys = _.keys(obj);\n        for (var i = 0, length = keys.length; i < length; i++) {\n            result[obj[keys[i]]] = keys[i];\n        }\n        return result;\n    };\n\n    // Fill in a given object with default properties.\n    _.defaults = function(obj) {\n        each(slice.call(arguments, 1), function(source) {\n            if (source) {\n                for (var prop in source) {\n                    if (obj[prop] === void 0) {\n                        obj[prop] = source[prop];\n                    }\n                }\n            }\n        });\n        return obj;\n    };\n\n    // Extend a given object with all the properties in passed-in object(s).\n    _.extend = function(obj) {\n        each(slice.call(arguments, 1), function(source) {\n            if (source) {\n                for (var prop in source) {\n                    obj[prop] = source[prop];\n                }\n            }\n        });\n        return obj;\n    };\n\n    // Return a copy of the object only containing the whitelisted properties.\n    _.pick = function (obj) {\n        var copy = {};\n        var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n        each(keys, function (key) {\n            if (key in obj) {\n                copy[key] = obj[key];\n            }\n        });\n        return copy;\n    };\n\n    // Return a copy of the object without the blacklisted properties.\n    _.omit = function(obj) {\n        var copy = {};\n        var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n        for (var key in obj) {\n            if (!_.contains(keys, key)) {\n                copy[key] = obj[key];\n            }\n        }\n        return copy;\n    };\n\n    // Create a (shallow-cloned) duplicate of an object.\n    _.clone = function(obj) {\n        if (!_.isObject(obj)) {\n            return obj;\n        }\n        return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n    };\n\n    // Is a given value an array?\n    // Delegates to ECMA5's native Array.isArray\n    _.isArray = nativeIsArray || function (obj) {\n        return toString.call(obj) == '[object Array]';\n    };\n\n    // Is a given variable an object?\n    _.isObject = function (obj) {\n        return obj === Object(obj);\n    };\n\n    // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n    each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function (name) {\n        _['is' + name] = function (obj) {\n            return toString.call(obj) == '[object ' + name + ']';\n        };\n    });\n\n    // Define a fallback version of the method in browsers (ahem, IE), where\n    // there isn't any inspectable \"Arguments\" type.\n    if (!_.isArguments(arguments)) {\n        _.isArguments = function (obj) {\n            return !!(obj && _.has(obj, 'callee'));\n        };\n    }\n\n    // Optimize `isFunction` if appropriate.\n    if (typeof (/./) !== 'function') {\n        _.isFunction = function (obj) {\n            return typeof obj === 'function';\n        };\n    }\n\n    // Is a given object a finite number?\n    _.isFinite = function (obj) {\n        return isFinite(obj) && !isNaN(parseFloat(obj));\n    };\n\n    // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n    _.isNaN = function (obj) {\n        return _.isNumber(obj) && obj != +obj;\n    };\n\n    // Is a given value a boolean?\n    _.isBoolean = function (obj) {\n        return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\n    };\n\n    // Is a given value equal to null?\n    _.isNull = function (obj) {\n        return obj === null;\n    };\n\n    // Is a given variable undefined?\n    _.isUndefined = function (obj) {\n        return obj === void 0;\n    };\n\n    // Shortcut function for checking if an object has a given property directly\n    // on itself (in other words, not on a prototype).\n    _.has = function (obj, key) {\n        return hasOwnProperty.call(obj, key);\n    };\n\n    // Keep the identity function around for default iterators.\n    _.identity = function (value) {\n        return value;\n    };\n\n    _.constant = function (value) {\n        return function () {\n            return value;\n        };\n    };\n\n    _.property = function (key) {\n        return function (obj) {\n            return obj[key];\n        };\n    };\n\n    _.propertyOf = function(obj) {\n        return obj == null ? function() {} : function(key) {\n            return obj[key];\n        };\n    };\n\n    // Returns a predicate for checking whether an object has a given set of `key:value` pairs.\n    _.matches = function (attrs) {\n        return function (obj) {\n            // avoid comparing an object to itself.\n            if (obj === attrs) {\n                return true;\n            }\n            for (var key in attrs) {\n                if (attrs[key] !== obj[key]) {\n                    return false;\n                }\n            }\n            return true;\n        };\n    };\n\n\n    // A (possibly faster) way to get the current timestamp as an integer.\n    _.now = Date.now || function() { return new Date().getTime(); };\n\n    // If the value of the named `property` is a function then invoke it with the\n    // `object` as context; otherwise, return it.\n    _.result = function (object, property) {\n        if (object == null) {\n            return void 0;\n        }\n        var value = object[property];\n        return _.isFunction(value) ? value.call(object) : value;\n    };\n\n\n    // Generate a unique integer id (unique within the entire client session).\n    // Useful for temporary DOM ids.\n    var idCounter = 0;\n    _.uniqueId = function(prefix) {\n        var id = ++idCounter + '';\n        return prefix ? prefix + id : id;\n    };\n\n    return _;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/underscore.js\n **/","define([\n    'utils/helpers',\n    'utils/underscore'\n], function(utils, _) {\n    /* global __webpack_public_path__:true*/\n    /* eslint camelcase: 0 */\n    // Defaults\n    const Defaults = {\n        autostart: false,\n        controls: true,\n        displaytitle: true,\n        displaydescription: true,\n        mobilecontrols: false,\n        defaultPlaybackRate: 1,\n        playbackRateControls: false,\n        repeat: false,\n        castAvailable: false,\n        skin: 'seven',\n        stretching: 'uniform',\n        mute: false,\n        volume: 90,\n        width: 480,\n        height: 270,\n        audioMode: false,\n        localization: {\n            player: 'Video Player',\n            play: 'Play',\n            playback: 'Start playback',\n            pause: 'Pause',\n            volume: 'Volume',\n            prev: 'Previous',\n            next: 'Next',\n            cast: 'Chromecast',\n            airplay: 'Airplay',\n            fullscreen: 'Fullscreen',\n            playlist: 'Playlist',\n            hd: 'Quality',\n            cc: 'Closed captions',\n            audioTracks: 'Audio tracks',\n            playbackRates: 'Playback rates',\n            replay: 'Replay',\n            buffer: 'Loading',\n            more: 'More',\n            liveBroadcast: 'Live broadcast',\n            loadingAd: 'Loading ad',\n            rewind: 'Rewind 10s',\n            nextUp: 'Next Up',\n            nextUpClose: 'Next Up Close',\n            related: 'Discover',\n            close: 'Close',\n        },\n        renderCaptionsNatively: true,\n        nextUpDisplay: true\n    };\n\n    function _deserialize(options) {\n        _.each(options, function(val, key) {\n            options[key] = utils.serialize(val);\n        });\n    }\n\n    function _normalizeSize(val) {\n        if (val.slice && val.slice(-2) === 'px') {\n            val = val.slice(0, -2);\n        }\n        return val;\n    }\n\n    const createConfig = function (options, storage) {\n        const persisted = storage && storage.getAllItems();\n        let allOptions = _.extend({}, (window.jwplayer || {}).defaults, persisted, options);\n\n        _deserialize(allOptions);\n\n        allOptions.localization = _.extend({}, Defaults.localization, allOptions.localization);\n\n        let config = _.extend({}, Defaults, allOptions);\n        if (config.base === '.') {\n            config.base = utils.getScriptPath('jwplayer.js');\n        }\n        config.base = (config.base || utils.loadFrom()).replace(/\\/?$/, '/');\n        __webpack_public_path__ = config.base;\n        config.width = _normalizeSize(config.width);\n        config.height = _normalizeSize(config.height);\n        const pathToFlash = (utils.getScriptPath('jwplayer.js') || config.base);\n        config.flashplayer = config.flashplayer || pathToFlash + 'jwplayer.flash.swf';\n        config.flashloader = config.flashloader || pathToFlash + 'jwplayer.loader.swf';\n\n        // Non ssl pages can only communicate with flash when it is loaded\n        //   from a non ssl location\n        if (window.location.protocol === 'http:') {\n            config.flashplayer = config.flashplayer.replace('https', 'http');\n            config.flashloader = config.flashloader.replace('https', 'http');\n        }\n\n        config.aspectratio = _evaluateAspectRatio(config.aspectratio, config.width);\n\n        if (_.isObject(config.skin)) {\n            config.skinUrl = config.skin.url;\n            config.skinColorInactive = config.skin.inactive; // default icon color\n            config.skinColorActive = config.skin.active;  // icon hover, on, slider color\n            config.skinColorBackground = config.skin.background; // control elements background\n            config.skin = _.isString(config.skin.name) ? config.skin.name : Defaults.skin; // get skin name if it exists\n        }\n\n        if (_.isString(config.skin) && config.skin.indexOf('.xml') > 0) {\n            console.warn('JW Player does not support XML skins, please update your config');\n            config.skin = config.skin.replace('.xml', '');\n        }\n\n        let rateControls = config.playbackRateControls;\n\n        if (rateControls) {\n            let rates = [0.5, 1, 1.25, 1.5, 2];\n\n            if (_.isArray(rateControls)) {\n                rates = rateControls\n                    .filter(rate => _.isNumber(rate) && rate >= 0.25 && rate <= 4)\n                    .map(rate => Math.round(rate * 4) / 4);\n\n                if (rates.indexOf(1) < 0) {\n                    rates.push(1);\n                }\n\n                rates.sort();\n            }\n\n            config.playbackRateControls = rates;\n        }\n\n        // Set defaultPlaybackRate to 1 if the value from storage isn't in the playbackRateControls menu\n        if (!config.playbackRateControls || config.playbackRateControls.indexOf(config.defaultPlaybackRate) < 0) {\n            config.defaultPlaybackRate = 1;\n        }\n\n        config.playbackRate = config.defaultPlaybackRate;\n\n        if (!config.aspectratio) {\n            delete config.aspectratio;\n        }\n\n        const configPlaylist = config.playlist;\n        if (!configPlaylist) {\n            // This is a legacy fallback, assuming a playlist item has been flattened into the config\n            const obj = _.pick(config, [\n                'title',\n                'description',\n                'type',\n                'mediaid',\n                'image',\n                'file',\n                'sources',\n                'tracks',\n                'preload'\n            ]);\n\n            config.playlist = [ obj ];\n        } else if (_.isArray(configPlaylist.playlist)) {\n            // The \"playlist\" in the config is actually a feed that contains a playlist\n            config.feedData = configPlaylist;\n            config.playlist = configPlaylist.playlist;\n        }\n\n        config.qualityLabels = config.qualityLabels || config.hlslabels;\n\n        return config;\n    };\n\n\n    function _evaluateAspectRatio(ar, width) {\n        if (width.toString().indexOf('%') === -1) {\n            return 0;\n        }\n        if (typeof ar !== 'string' || !utils.exists(ar)) {\n            return 0;\n        }\n        if (/^\\d*\\.?\\d+%$/.test(ar)) {\n            return ar;\n        }\n        const index = ar.indexOf(':');\n        if (index === -1) {\n            return 0;\n        }\n        const w = parseFloat(ar.substr(0, index));\n        const h = parseFloat(ar.substr(index + 1));\n        if (w <= 0 || h <= 0) {\n            return 0;\n        }\n        return (h / w * 100) + '%';\n    }\n\n\n    return createConfig;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/api/config.js\n **/","define([\n    'utils/strings',\n    'utils/underscore',\n    'utils/browser',\n    'utils/dom',\n    'utils/css',\n    'utils/parser',\n    'utils/id3Parser',\n    'utils/ajax',\n    'utils/validator',\n    'utils/playerutils',\n    'utils/timer',\n    'utils/trycatch',\n    'utils/stream-type',\n    'utils/quality-labels'\n], function(strings, _, browser, dom, css, parser, id3Parser, ajax, validator, playerutils, Timer, trycatch, streamType, qualityLabels) {\n    var utils = {};\n\n    utils.log = function () {\n        /* eslint no-console: 0 */\n        if (!window.console) {\n            return;\n        }\n        if (typeof console.log === 'object') {\n            console.log(Array.prototype.slice.call(arguments, 0));\n        } else {\n            console.log.apply(console, arguments);\n        }\n    };\n\n    utils.between = function (num, min, max) {\n        return Math.max(Math.min(num, max), min);\n    };\n\n    /**\n     * Iterates over an object and executes a callback function for each property (if it exists)\n     * This is a safe way to iterate over objects if another script has modified the object prototype\n     */\n    utils.foreach = function (aData, fnEach) {\n        var key;\n        var val;\n\n        for (key in aData) {\n            if (utils.typeOf(aData.hasOwnProperty) === 'function') {\n                if (aData.hasOwnProperty(key)) {\n                    val = aData[key];\n                    fnEach(key, val);\n                }\n            } else {\n                // IE8 has a problem looping through XML nodes\n                val = aData[key];\n                fnEach(key, val);\n            }\n        }\n    };\n\n    utils.indexOf = _.indexOf;\n    utils.noop = function () {\n    };\n\n    utils.seconds = strings.seconds;\n    utils.prefix = strings.prefix;\n    utils.suffix = strings.suffix;\n\n    utils.Timer = Timer;\n\n    _.extend(utils, parser, id3Parser, validator, browser, ajax, dom, css, playerutils, trycatch, streamType, qualityLabels);\n\n    return utils;\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/helpers.js\n **/","define([\n    'utils/underscore',\n    'utils/parser'\n], function(_, parser) {\n    var noop = function() {};\n    var useDomParser = false;\n\n    var crossdomain = function(uri) {\n        var a = document.createElement('a');\n        var b = document.createElement('a');\n        a.href = location.href;\n        try {\n            b.href = uri;\n            b.href = b.href; /* IE fix for relative urls */\n            return a.protocol + '//' + a.host !== b.protocol + '//' + b.host;\n        } catch (e) {/* swallow */}\n        return true;\n    };\n\n    var ajax = function (url, completeCallback, errorCallback, args) {\n        if (_.isObject(url)) {\n            args = url;\n            url = args.url;\n        }\n        var xhr;\n        var options = _.extend({\n            xhr: null,\n            url: url,\n            withCredentials: false,\n            retryWithoutCredentials: false,\n            timeout: 60000,\n            timeoutId: -1,\n            oncomplete: completeCallback || noop,\n            onerror: errorCallback || noop,\n            mimeType: (args && !args.responseType) ? 'text/xml' : '',\n            requireValidXML: false, /* Require responseXML */\n            responseType: (args && args.plainText) ? 'text' : '' /* xhr.responseType ex: \"json\" or \"text\" */\n        }, args);\n\n        if ('XDomainRequest' in window && crossdomain(url)) {\n            // IE8 / 9\n            xhr = options.xhr = new window.XDomainRequest();\n            xhr.onload = _ajaxComplete(options);\n            xhr.ontimeout = xhr.onprogress = noop;\n            useDomParser = true;\n        } else if ('XMLHttpRequest' in window) {\n            // Firefox, Chrome, Opera, Safari\n            xhr = options.xhr = new window.XMLHttpRequest();\n            xhr.onreadystatechange = _readyStateChangeHandler(options);\n        } else {\n            // browser cannot make xhr requests\n            options.onerror('', url);\n            return;\n        }\n        var requestError = _requestError('Error loading file', options);\n        xhr.onerror = requestError;\n\n        if ('overrideMimeType' in xhr) {\n            if (options.mimeType) {\n                xhr.overrideMimeType(options.mimeType);\n            }\n        } else {\n            useDomParser = true;\n        }\n\n        try {\n            // remove anchors from the URL since they can't be loaded in IE\n            url = url.replace(/#.*$/, '');\n            xhr.open('GET', url, true);\n        } catch (e) {\n            requestError(e);\n            return xhr;\n        }\n\n        if (options.responseType) {\n            try {\n                xhr.responseType = options.responseType;\n            } catch (e) {/* ignore */}\n        }\n\n        if (options.timeout) {\n            options.timeoutId = setTimeout(function() {\n                _abortAjax(xhr);\n                options.onerror('Timeout', url, xhr);\n            }, options.timeout);\n            xhr.onabort = function() {\n                clearTimeout(options.timeoutId);\n            };\n        }\n\n        try {\n            // xhr.withCredentials must must be set after xhr.open() is called\n            // otherwise older WebKit browsers will throw INVALID_STATE_ERR (PhantomJS 1.x)\n            if (options.withCredentials && 'withCredentials' in xhr) {\n                xhr.withCredentials = true;\n            }\n            xhr.send();\n        } catch (e) {\n            requestError(e);\n        }\n        return xhr;\n    };\n\n    function _abortAjax(xhr) {\n        xhr.onload = null;\n        xhr.onprogress = null;\n        xhr.onreadystatechange = null;\n        xhr.onerror = null;\n        if ('abort' in xhr) {\n            xhr.abort();\n        }\n    }\n\n    function _requestError(message, options) {\n        return function(e) {\n            var xhr = e.currentTarget || options.xhr;\n            clearTimeout(options.timeoutId);\n            // Handle Access-Control-Allow-Origin wildcard error when using withCredentials to send cookies\n            if (options.retryWithoutCredentials && options.xhr.withCredentials) {\n                _abortAjax(xhr);\n                var args = _.extend({}, options, {\n                    xhr: null,\n                    withCredentials: false,\n                    retryWithoutCredentials: false\n                });\n                ajax(args);\n                return;\n            }\n            options.onerror(message, options.url, xhr);\n        };\n    }\n\n    function _readyStateChangeHandler(options) {\n        return function(e) {\n            var xhr = e.currentTarget || options.xhr;\n            if (xhr.readyState === 4) {\n                clearTimeout(options.timeoutId);\n                if (xhr.status >= 400) {\n                    var message;\n                    if (xhr.status === 404) {\n                        message = 'File not found';\n                    } else {\n                        message = '' + xhr.status + '(' + xhr.statusText + ')';\n                    }\n                    return options.onerror(message, options.url, xhr);\n                }\n                if (xhr.status === 200) {\n                    return _ajaxComplete(options)(e);\n                }\n            }\n        };\n    }\n\n    function _ajaxComplete(options) {\n        return function(e) {\n            var xhr = e.currentTarget || options.xhr;\n            clearTimeout(options.timeoutId);\n            if (options.responseType) {\n                if (options.responseType === 'json') {\n                    return _jsonResponse(xhr, options);\n                }\n            } else {\n                // Handle the case where an XML document was returned with an incorrect MIME type.\n                var xml = xhr.responseXML;\n                var firstChild;\n                if (xml) {\n                    try {\n                        // This will throw an error on Windows Mobile 7.5.\n                        // We want to trigger the error so that we can move down to the next section\n                        firstChild = xml.firstChild;\n                    } catch (error) {\n                        /* ignore */\n                    }\n                }\n                if (xml && firstChild) {\n                    return _xmlResponse(xhr, xml, options);\n                }\n                // IE9\n                if (useDomParser && xhr.responseText && !xml) {\n                    xml = parser.parseXML(xhr.responseText);\n                    if (xml && xml.firstChild) {\n                        return _xmlResponse(xhr, xml, options);\n                    }\n                }\n                if (options.requireValidXML) {\n                    options.onerror('Invalid XML', options.url, xhr);\n                    return;\n                }\n            }\n            options.oncomplete(xhr);\n        };\n    }\n\n    function _jsonResponse(xhr, options) {\n        // insure that xhr.response is parsed JSON\n        if (!xhr.response ||\n            (_.isString(xhr.response) && xhr.responseText.substr(1) !== '\"')) {\n            try {\n                xhr = _.extend({}, xhr, {\n                    response: JSON.parse(xhr.responseText)\n                });\n            } catch (err) {\n                options.onerror('Invalid JSON', options.url, xhr);\n                return;\n            }\n        }\n        return options.oncomplete(xhr);\n    }\n\n\n    function _xmlResponse(xhr, xml, options) {\n        // Handle DOMParser 'parsererror'\n        var doc = xml.documentElement;\n        if (options.requireValidXML &&\n                (doc.nodeName === 'parsererror' || doc.getElementsByTagName('parsererror').length)) {\n            options.onerror('Invalid XML', options.url, xhr);\n            return;\n        }\n        if (!xhr.responseXML) {\n            xhr = _.extend({}, xhr, {\n                responseXML: xml\n            });\n        }\n        return options.oncomplete(xhr);\n    }\n\n    return {\n        ajax: ajax,\n        crossdomain: crossdomain\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/ajax.js\n **/","define([\n    'utils/underscore',\n    'utils/validator'\n], function(_, validator) {\n    var parser = {};\n\n    // Gets an absolute file path based on a relative filepath\n    parser.getAbsolutePath = function (path, base) {\n        if (!validator.exists(base)) {\n            base = document.location.href;\n        }\n\n        if (!validator.exists(path)) {\n            return;\n        }\n\n        if (isAbsolutePath(path)) {\n            return path;\n        }\n\n        var protocol = base.substring(0, base.indexOf('://') + 3);\n        var domain = base.substring(protocol.length, base.indexOf('/', protocol.length + 1));\n        var patharray;\n\n        if (path.indexOf('/') === 0) {\n            patharray = path.split('/');\n        } else {\n            var basepath = base.split('?')[0];\n            basepath = basepath.substring(protocol.length + domain.length + 1, basepath.lastIndexOf('/'));\n            patharray = basepath.split('/').concat(path.split('/'));\n        }\n        var result = [];\n        for (var i = 0; i < patharray.length; i++) {\n            if (patharray[i] && validator.exists(patharray[i]) && patharray[i] !== '.') {\n                if (patharray[i] === '..') {\n                    result.pop();\n                } else {\n                    result.push(patharray[i]);\n                }\n            }\n        }\n        return protocol + domain + '/' + result.join('/');\n    };\n\n    function isAbsolutePath(path) {\n        return /^(?:(?:https?|file)\\:)?\\/\\//.test(path);\n    }\n\n    parser.getScriptPath = _.memoize(function(scriptName) {\n        var scripts = document.getElementsByTagName('script');\n        for (var i = 0; i < scripts.length; i++) {\n            var src = scripts[i].src;\n            if (src) {\n                var index = src.indexOf('/' + scriptName);\n                if (index >= 0) {\n                    return src.substr(0, index + 1);\n                }\n            }\n        }\n        return '';\n    });\n\n    function containsParserErrors(childNodes) {\n        return _.some(childNodes, function(node) {\n            return node.nodeName === 'parsererror';\n        });\n    }\n\n    /** Takes an XML string and returns an XML object **/\n    parser.parseXML = function (input) {\n        var parsedXML = null;\n        try {\n            // Parse XML in FF/Chrome/Safari/Opera\n            if ('DOMParser' in window) {\n                parsedXML = (new window.DOMParser()).parseFromString(input, 'text/xml');\n                // In Firefox the XML doc may contain the parsererror, other browsers it's further down\n                if (containsParserErrors(parsedXML.childNodes) ||\n                    (parsedXML.childNodes && containsParserErrors(parsedXML.childNodes[0].childNodes))) {\n                    parsedXML = null;\n                }\n            } else {\n                // Internet Explorer\n                parsedXML = new window.ActiveXObject('Microsoft.XMLDOM');\n                parsedXML.async = 'false';\n                parsedXML.loadXML(input);\n            }\n        } catch (e) {/* Expected when content is not XML */}\n\n        return parsedXML;\n    };\n\n    /**\n     * String representations of booleans and numbers that are 5 characters in length or less\n     * are returned typed\n     */\n    parser.serialize = function (val) {\n        if (val === undefined) {\n            return null;\n        }\n        if (typeof val === 'string' && val.length < 6) {\n            var lowercaseVal = val.toLowerCase();\n            if (lowercaseVal === 'true') {\n                return true;\n            }\n            if (lowercaseVal === 'false') {\n                return false;\n            }\n            if (!isNaN(Number(val)) && !isNaN(parseFloat(val))) {\n                return Number(val);\n            }\n        }\n        return val;\n    };\n\n    /**\n     * Cleans up a css dimension (e.g. '420px') and returns an integer.\n     */\n    parser.parseDimension = function(dimension) {\n        if (typeof dimension === 'string') {\n            if (dimension === '') {\n                return 0;\n            } else if (dimension.lastIndexOf('%') > -1) {\n                return dimension;\n            }\n            return parseInt(dimension.replace('px', ''), 10);\n        }\n        return dimension;\n    };\n\n    /** Format the elapsed / remaining text. **/\n    parser.timeFormat = function(sec, allowNegative) {\n        if ((sec <= 0 && !allowNegative) || _.isNaN(parseInt(sec))) {\n            return '00:00';\n        }\n\n        // If negative add a minus sign\n        var prefix = (sec < 0) ? '-' : '';\n        sec = Math.abs(sec);\n\n        var hrs = Math.floor(sec / 3600);\n        var mins = Math.floor((sec - hrs * 3600) / 60);\n        var secs = Math.floor(sec % 60);\n\n        return prefix + (hrs ? hrs + ':' : '') + (mins < 10 ? '0' : '') + mins + ':' + (secs < 10 ? '0' : '') + secs;\n    };\n\n\n    return parser;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/parser.js\n **/","define([\n    'utils/underscore'\n], function(_) {\n    var validator = {};\n\n    // Returns true if the value of the object is null, undefined or the empty string\n    validator.exists = function (item) {\n        switch (typeof (item)) {\n            case 'string':\n                return (item.length > 0);\n            case 'object':\n                return (item !== null);\n            case 'undefined':\n                return false;\n            default:\n                return true;\n        }\n    };\n\n    /** Determines if the current page is HTTPS **/\n    validator.isHTTPS = function () {\n        return (window.location.href.indexOf('https') === 0);\n    };\n\n    /**\n     * Determines if a URL is an RTMP link\n     */\n    validator.isRtmp = function (file, type) {\n        return (file.indexOf('rtmp') === 0 || type === 'rtmp');\n    };\n\n    /**\n     * Determines if a URL is a YouTube link\n     */\n    validator.isYouTube = function (path, type) {\n        return (type === 'youtube') || (/^(http|\\/\\/).*(youtube\\.com|youtu\\.be)\\/.+/).test(path);\n    };\n\n    /**\n     * Returns a YouTube ID from a number of YouTube URL formats:\n     *\n     * Matches the following YouTube URL types:\n     *  - http://www.youtube.com/watch?v=YE7VzlLtp-4\n     *  - http://www.youtube.com/watch?v=YE7VzlLtp-4&extra_param=123\n     *  - http://www.youtube.com/watch#!v=YE7VzlLtp-4\n     *  - http://www.youtube.com/watch#!v=YE7VzlLtp-4?extra_param=123&another_param=456\n     *  - http://www.youtube.com/v/YE7VzlLtp-4\n     *  - http://www.youtube.com/v/YE7VzlLtp-4?extra_param=123&another_param=456\n     *  - http://youtu.be/YE7VzlLtp-4\n     *  - http://youtu.be/YE7VzlLtp-4?extra_param=123&another_param=456\n     *  - YE7VzlLtp-4\n     **/\n    validator.youTubeID = function (path) {\n        // Left as a dense regular expression for brevity.\n        var matches = (/v[=\\/]([^?&]*)|youtu\\.be\\/([^?]*)|^([\\w-]*)$/i).exec(path);\n        if (!matches) {\n            return '';\n        }\n        return matches.slice(1).join('').replace('?', '');\n    };\n\n\n    /** Returns the true type of an object * */\n    validator.typeOf = function (value) {\n        if (value === null) {\n            return 'null';\n        }\n        var typeofString = typeof value;\n        if (typeofString === 'object') {\n            if (_.isArray(value)) {\n                return 'array';\n            }\n        }\n        return typeofString;\n    };\n\n    return validator;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/validator.js\n **/","define([\n    'utils/underscore'\n], function(_) {\n    var trim = function (inputString) {\n        return inputString.replace(/^\\s+|\\s+$/g, '');\n    };\n\n    var pad = function (str, length, padder) {\n        str = '' + str;\n        padder = padder || '0';\n        while (str.length < length) {\n            str = padder + str;\n        }\n        return str;\n    };\n\n    // Get the value of a case-insensitive attribute in an XML node\n    var xmlAttribute = function (xml, attribute) {\n        for (var attrib = 0; attrib < xml.attributes.length; attrib++) {\n            if (xml.attributes[attrib].name && xml.attributes[attrib].name.toLowerCase() === attribute.toLowerCase()) {\n                return xml.attributes[attrib].value.toString();\n            }\n        }\n        return '';\n    };\n\n    // This does not return the file extension, instead it returns a media type extension\n    function getAzureFileFormat(path) {\n        if ((/[\\(,]format=m3u8-/i).test(path)) {\n            return 'm3u8';\n        } else if ((/[\\(,]format=mpd-/i).test(path)) {\n            return 'mpd';\n        }\n        return false;\n    }\n\n    var extension = function (path) {\n        if (!path || path.substr(0, 4) === 'rtmp') {\n            return '';\n        }\n\n        var azureFormat = getAzureFileFormat(path);\n        if (azureFormat) {\n            return azureFormat;\n        }\n\n        path = path.split('?')[0].split('#')[0];\n        if (path.lastIndexOf('.') > -1) {\n            return path.substr(path.lastIndexOf('.') + 1, path.length).toLowerCase();\n        }\n    };\n\n    // Convert seconds to HH:MN:SS.sss\n    var hms = function(seconds) {\n        var h = parseInt(seconds / 3600);\n        var m = parseInt(seconds / 60) % 60;\n        var s = seconds % 60;\n        return pad(h, 2) + ':' + pad(m, 2) + ':' + pad(s.toFixed(3), 6);\n    };\n\n    // Convert a time-representing string to a number\n    var seconds = function (str, frameRate) {\n        if (_.isNumber(str)) {\n            return str;\n        }\n\n        str = str.replace(',', '.');\n        var arr = str.split(':');\n        var arrLength = arr.length;\n        var sec = 0;\n        if (str.slice(-1) === 's') {\n            sec = parseFloat(str);\n        } else if (str.slice(-1) === 'm') {\n            sec = parseFloat(str) * 60;\n        } else if (str.slice(-1) === 'h') {\n            sec = parseFloat(str) * 3600;\n        } else if (arrLength > 1) {\n            var secIndex = arrLength - 1;\n            if (arrLength === 4) {\n                // if frame is included in the string, calculate seconds by dividing by frameRate\n                if (frameRate) {\n                    sec = parseFloat(arr[secIndex]) / frameRate;\n                }\n                secIndex -= 1;\n            }\n            sec += parseFloat(arr[secIndex]);\n            sec += parseFloat(arr[secIndex - 1]) * 60;\n            if (arrLength >= 3) {\n                sec += parseFloat(arr[secIndex - 2]) * 3600;\n            }\n        } else {\n            sec = parseFloat(str);\n        }\n        return sec;\n    };\n\n\n    var prefix = function(arr, add) {\n        return _.map(arr, function(val) {\n            return add + val;\n        });\n    };\n\n    var suffix = function(arr, add) {\n        return _.map(arr, function(val) {\n            return val + add;\n        });\n    };\n\n    return {\n        trim: trim,\n        pad: pad,\n        xmlAttribute: xmlAttribute,\n        extension: extension,\n        hms: hms,\n        seconds: seconds,\n        suffix: suffix,\n        prefix: prefix\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/strings.js\n **/","define([\n    'utils/underscore'\n], function(_) {\n    var browser = {};\n\n    var _userAgentMatch = _.memoize(function (regex) {\n        var agent = navigator.userAgent.toLowerCase();\n        return (agent.match(regex) !== null);\n    });\n\n    function _browserCheck(regex) {\n        return function () {\n            return _userAgentMatch(regex);\n        };\n    }\n\n    var _isInt = browser.isInt = function (value) {\n        return parseFloat(value) % 1 === 0;\n    };\n\n    browser.isFlashSupported = function () {\n        var flashVersion = browser.flashVersion();\n        return flashVersion && flashVersion >= __FLASH_VERSION__;\n    };\n\n    browser.isFF = _browserCheck(/gecko\\//i);\n    browser.isIPod = _browserCheck(/iP(hone|od)/i);\n    browser.isIPad = _browserCheck(/iPad/i);\n    browser.isSafari602 = _browserCheck(/Macintosh.*Mac OS X 10_8.*6\\.0\\.\\d* Safari/i);\n    browser.isOSX = _browserCheck(/Mac OS X/i);\n    // Check for Facebook App Version to see if it's Facebook\n    browser.isFacebook = _browserCheck(/FBAV/i);\n\n    var _isEdge = browser.isEdge = function(browserVersion) {\n        if (browserVersion) {\n            return _userAgentMatch(new RegExp('\\\\sedge\\\\/' + browserVersion, 'i'));\n        }\n        return _userAgentMatch(/\\sEdge\\/\\d+/i);\n    };\n\n\n    var _isIETrident = browser.isIETrident = _browserCheck(/trident\\/.+rv:\\s*11/i);\n\n\n    var _isMSIE = browser.isMSIE = function(browserVersion) {\n        if (browserVersion) {\n            browserVersion = parseFloat(browserVersion).toFixed(1);\n            return _userAgentMatch(new RegExp('msie\\\\s*' + browserVersion, 'i'));\n        }\n        return _userAgentMatch(/msie/i);\n    };\n\n    browser.isChrome = function() {\n        return _userAgentMatch(/\\s(?:Chrome|CriOS)\\//i) && !browser.isEdge();\n    };\n\n    browser.isIE = function(browserVersion) {\n        if (browserVersion) {\n            browserVersion = parseFloat(browserVersion).toFixed(1);\n            if (browserVersion >= 12) {\n                return _isEdge(browserVersion);\n            } else if (browserVersion >= 11) {\n                return _isIETrident();\n            }\n            return _isMSIE(browserVersion);\n        }\n        return _isEdge() || _isIETrident() || _isMSIE();\n    };\n\n    browser.isSafari = function() {\n        return (_userAgentMatch(/safari/i) && !_userAgentMatch(/chrome/i) && !_userAgentMatch(/crios/i) &&\n        !_userAgentMatch(/chromium/i) && !_userAgentMatch(/android/i));\n    };\n\n    /** Matches iOS devices **/\n    var _isIOS = browser.isIOS = function(osVersion) {\n        if (osVersion) {\n            return _userAgentMatch(\n                new RegExp('iP(hone|ad|od).+\\\\s(OS\\\\s' + osVersion + '|.*\\\\sVersion/' + osVersion + ')', 'i')\n            );\n        }\n        return _userAgentMatch(/iP(hone|ad|od)/i);\n    };\n\n    /** Matches Android devices **/\n    browser.isAndroidNative = function(osVersion) {\n        return _isAndroid(osVersion, true);\n    };\n\n    var _isAndroid = browser.isAndroid = function(osVersion, excludeChrome) {\n        // Android Browser appears to include a user-agent string for Chrome/18\n        if (excludeChrome && _userAgentMatch(/chrome\\/[123456789]/i) && !_userAgentMatch(/chrome\\/18/)) {\n            return false;\n        }\n        if (osVersion) {\n            // make sure whole number version check ends with point '.'\n            if (_isInt(osVersion) && !/\\./.test(osVersion)) {\n                osVersion = '' + osVersion + '.';\n            }\n            return _userAgentMatch(new RegExp('Android\\\\s*' + osVersion, 'i'));\n        }\n        return _userAgentMatch(/Android/i);\n    };\n\n    /** Matches iOS and Android devices **/\n    browser.isMobile = function () {\n        return _isIOS() || _isAndroid();\n    };\n\n    browser.isIframe = function () {\n        try {\n            return window.self !== window.top;\n        } catch (e) {\n            return true;\n        }\n    };\n\n    /**\n     * If the browser has flash capabilities, return the flash version\n     */\n    browser.flashVersion = function () {\n        if (browser.isAndroid()) {\n            return 0;\n        }\n\n        var plugins = navigator.plugins;\n        var flash;\n\n        if (plugins) {\n            flash = plugins['Shockwave Flash'];\n            if (flash && flash.description) {\n                return parseFloat(flash.description.replace(/\\D+(\\d+\\.?\\d*).*/, '$1'));\n            }\n        }\n\n        if (typeof window.ActiveXObject !== 'undefined') {\n            try {\n                flash = new window.ActiveXObject('ShockwaveFlash.ShockwaveFlash');\n                if (flash) {\n                    return parseFloat(flash.GetVariable('$version').split(' ')[1].replace(/\\s*,\\s*/, '.'));\n                }\n            } catch (e) {\n                return 0;\n            }\n\n            return flash;\n        }\n        return 0;\n    };\n\n    return browser;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/browser.js\n **/","define([\n    'utils/strings',\n    'utils/underscore',\n    'utils/jqueryfuncs'\n], function(strings, _, jqueryfuncs) {\n\n    var dom = {};\n\n    // Given a string, convert to element and return\n    dom.createElement = function (html) {\n        var newElement = document.createElement('div');\n        newElement.innerHTML = html;\n        return newElement.firstChild;\n    };\n\n    // Used for styling dimensions in CSS\n    // Return the string unchanged if it's a percentage width; add 'px' otherwise\n    dom.styleDimension = function (dimension) {\n        return dimension + (dimension.toString().indexOf('%') > 0 ? '' : 'px');\n    };\n\n    var classNameArray = function(element) {\n        return _.isString(element.className) ? element.className.split(' ') : [];\n    };\n\n    var setClassName = function(element, className) {\n        className = strings.trim(className);\n        if (element.className !== className) {\n            element.className = className;\n        }\n    };\n\n    dom.classList = function (element) {\n        if (element.classList) {\n            return element.classList;\n        }\n        /* ie9 does not support classList http://caniuse.com/#search=classList */\n        return classNameArray(element);\n    };\n\n    dom.hasClass = jqueryfuncs.hasClass;\n\n    dom.addClass = function (element, classes) {\n        // TODO:: use _.union on the two arrays\n\n        var originalClasses = classNameArray(element);\n        var addClasses = _.isArray(classes) ? classes : classes.split(' ');\n\n        _.each(addClasses, function (c) {\n            if (!_.contains(originalClasses, c)) {\n                originalClasses.push(c);\n            }\n        });\n\n        setClassName(element, originalClasses.join(' '));\n    };\n\n    dom.removeClass = function (element, c) {\n        var originalClasses = classNameArray(element);\n        var removeClasses = _.isArray(c) ? c : c.split(' ');\n\n        setClassName(element, _.difference(originalClasses, removeClasses).join(' '));\n    };\n\n    dom.replaceClass = function (element, pattern, replaceWith) {\n        var classes = (element.className || '');\n        if (pattern.test(classes)) {\n            classes = classes.replace(pattern, replaceWith);\n        } else if (replaceWith) {\n            classes += ' ' + replaceWith;\n        }\n        setClassName(element, classes);\n    };\n\n    dom.toggleClass = function (element, c, toggleTo) {\n        var hasClass = dom.hasClass(element, c);\n        toggleTo = _.isBoolean(toggleTo) ? toggleTo : !hasClass;\n\n        // short circuit if nothing to do\n        if (toggleTo === hasClass) {\n            return;\n        }\n\n        if (toggleTo) {\n            dom.addClass(element, c);\n        } else {\n            dom.removeClass(element, c);\n        }\n    };\n\n    dom.emptyElement = function (element) {\n        while (element.firstChild) {\n            element.removeChild(element.firstChild);\n        }\n    };\n\n    dom.addStyleSheet = function(url) {\n        var link = document.createElement('link');\n        link.rel = 'stylesheet';\n        link.href = url;\n        document.getElementsByTagName('head')[0].appendChild(link);\n    };\n\n    dom.empty = function(element) {\n        if (!element) {\n            return;\n        }\n        while (element.childElementCount > 0) {\n            element.removeChild(element.children[0]);\n        }\n    };\n\n    dom.bounds = function(element) {\n        var bounds = {\n            left: 0,\n            right: 0,\n            width: 0,\n            height: 0,\n            top: 0,\n            bottom: 0\n        };\n\n        if (!element || !document.body.contains(element)) {\n            return bounds;\n        }\n\n        var rect = element.getBoundingClientRect();\n        var scrollOffsetY = window.pageYOffset;\n        var scrollOffsetX = window.pageXOffset;\n\n        if (!rect.width && !rect.height && !rect.left && !rect.top) {\n            // element is not visible / no layout\n            return bounds;\n        }\n\n        bounds.left = rect.left + scrollOffsetX;\n        bounds.right = rect.right + scrollOffsetX;\n        bounds.top = rect.top + scrollOffsetY;\n        bounds.bottom = rect.bottom + scrollOffsetY;\n        bounds.width = rect.right - rect.left;\n        bounds.height = rect.bottom - rect.top;\n\n        return bounds;\n    };\n\n    return dom;\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/dom.js\n **/","// Code in this module uses code from jQuery\n// jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | Released under the MIT license | jquery.org/license\n\ndefine([], function() {\n    return {\n        hasClass: function (element, searchClass) {\n            var className = ' ' + searchClass + ' ';\n\n            return (element.nodeType === 1 && (' ' + element.className + ' ')\n                    .replace(/[\\t\\r\\n\\f]/g, ' ').indexOf(className) >= 0);\n        }\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/jqueryfuncs.js\n **/","define([\n    'utils/strings',\n    'simple-style-loader/addStyles'\n], function(Strings, styleLoader) {\n\n    var _css = function(selector, styles, playerId, important) {\n        playerId = playerId || 'all-players';\n        var cssText = '';\n        if (typeof styles === 'object') {\n            var el = document.createElement('div');\n            _style(el, styles);\n            var styleCSSText = el.style.cssText;\n            if (important && styleCSSText) {\n                styleCSSText = styleCSSText.replace(/;/g, ' !important;');\n            }\n            cssText = '{' + styleCSSText + '}';\n        } else if (typeof styles === 'string') {\n            cssText = styles;\n        }\n\n        if (cssText === '' || cssText === '{}') {\n            styleLoader.clear(playerId, selector);\n            return;\n        }\n\n        styleLoader.style([[selector, selector + cssText]], playerId);\n    };\n\n    var _style = function (elements, styles) {\n        if (elements === undefined || elements === null) {\n            return;\n        }\n        if (elements.length === undefined) {\n            elements = [elements];\n        }\n\n        var style;\n        var cssRules = {};\n        for (style in styles) {\n            if (Object.prototype.hasOwnProperty.call(styles, style)) {\n                cssRules[style] = _styleValue(style, styles[style]);\n            }\n        }\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var styleName;\n\n            if (element !== undefined && element !== null) {\n                for (style in cssRules) {\n                    if (Object.prototype.hasOwnProperty.call(cssRules, style)) {\n                        styleName = _styleAttributeName(style);\n                        if (element.style[styleName] !== cssRules[style]) {\n                            element.style[styleName] = cssRules[style];\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    function _styleAttributeName(name) {\n        name = name.split('-');\n        for (var i = 1; i < name.length; i++) {\n            name[i] = name[i].charAt(0).toUpperCase() + name[i].slice(1);\n        }\n        return name.join('');\n    }\n\n    function _styleValue(style, value) {\n        if (value === '' || value === undefined || value === null) {\n            return '';\n        }\n        // string\n        if (typeof value === 'string' && isNaN(value)) {\n            if ((/png|gif|jpe?g/i).test(value) && value.indexOf('url') < 0) {\n                return 'url(' + value + ')';\n            }\n            return value;\n        }\n        // number\n        if (value === 0 ||\n            style === 'z-index' ||\n            style === 'opacity') {\n            return '' + value;\n        }\n        if ((/color/i).test(style)) {\n            return '#' + Strings.pad(value.toString(16).replace(/^0x/i, ''), 6);\n        }\n        return Math.ceil(value) + 'px';\n    }\n\n    var transform = function (element, value) {\n        _style(element, {\n            transform: value,\n            webkitTransform: value,\n            msTransform: value,\n            mozTransform: value,\n            oTransform: value\n        });\n    };\n\n    var canvasColorContext;\n    var getRgba = function (color, opacity) {\n        var style = 'rgb';\n        var hasAlpha = (opacity !== undefined && opacity !== 100);\n        if (hasAlpha) {\n            style += 'a';\n        }\n        if (!canvasColorContext) {\n            var canvas = document.createElement('canvas');\n            canvas.height = 1;\n            canvas.width = 1;\n            canvasColorContext = canvas.getContext('2d');\n        }\n        if (!color) {\n            color = '#000000';\n        } else if (!isNaN(parseInt(color, 16))) {\n            color = '#' + color;\n        }\n        canvasColorContext.clearRect(0, 0, 1, 1);\n        canvasColorContext.fillStyle = color;\n        canvasColorContext.fillRect(0, 0, 1, 1);\n        var data = canvasColorContext.getImageData(0, 0, 1, 1).data;\n        style += '(' + data[0] + ', ' + data[1] + ', ' + data[2];\n        if (hasAlpha) {\n            style += ', ' + (opacity / 100);\n        }\n        return style + ')';\n    };\n\n    return {\n        css: _css,\n        style: _style,\n        clearCss: styleLoader.clear,\n        transform: transform,\n        hexToRgba: getRgba, // deprecate in favor of getRgba\n        getRgba: getRgba\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/css.js\n **/","define(function (require, exports, module) {/*\r\n MIT License http://www.opensource.org/licenses/mit-license.php\r\n Author Tobias Koppers @sokra\r\n */\r\n\r\n\tvar stylesInDom = {},\r\n\t\tplayerStyleElements = {},\r\n\t\tmemoize = function(fn) {\r\n\t\t\tvar memo;\r\n\t\t\treturn function () {\r\n\t\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\t\treturn memo;\r\n\t\t\t};\r\n\t\t},\r\n\t\tgetHeadElement = memoize(function () {\r\n\t\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t\t});\r\n\r\n\tmodule.exports = {\r\n\t\tstyle: style,\r\n\t\tclear: clear\r\n\t};\r\n\r\n\tfunction style (list, playerId) {\r\n\t\taddStylesToDom(playerId, listToStyles(list));\r\n\t}\r\n\r\n\tfunction clear (playerId, selector) {\r\n\t\tvar playerStyles = stylesInDom[playerId];\r\n\t\tif (!playerStyles) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (selector) {\r\n\t\t\t// delete all rules for a specific selector\r\n\t\t\tvar ruleObj = playerStyles[selector];\r\n\t\t\tif (ruleObj) {\r\n\t\t\t\tfor (var h = 0; h < ruleObj.parts.length; h += 1) {\r\n\t\t\t\t\truleObj.parts[h]();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar styleKeys = Object.keys(playerStyles);\r\n\t\tfor (var i = 0; i < styleKeys.length; i += 1) {\r\n\t\t\tvar styleObj = playerStyles[styleKeys[i]];\r\n\t\t\tfor (var j = 0; j < styleObj.parts.length; j += 1) {\r\n\t\t\t\tstyleObj.parts[j]();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdelete stylesInDom[playerId];\r\n\t}\r\n\r\n\tfunction addStylesToDom(playerId, styles) {\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = (stylesInDom[playerId] || {})[item.id];\r\n\t\t\tif(domStyle) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t\t}\r\n\t\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\t\tdomStyle.parts.push(addStyle(playerId, item.parts[j]));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar parts = [];\r\n\t\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\t\tparts.push(addStyle(playerId, item.parts[j]));\r\n\t\t\t\t}\r\n\t\t\t\tstylesInDom[playerId] = stylesInDom[playerId] || {};\r\n\t\t\t\tstylesInDom[playerId][item.id] = {id: item.id, parts: parts};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction listToStyles(list) {\r\n\t\tvar styles = [];\r\n\t\tvar newStyles = {};\r\n\t\tfor(var i = 0; i < list.length; i++) {\r\n\t\t\tvar item = list[i];\r\n\t\t\t// The id isn't a css selector - it's just used internally\r\n\t\t\tvar id = item[0];\r\n\t\t\tvar css = item[1];\r\n\t\t\tvar media = item[2];\r\n\t\t\tvar part = {css: css, media: media};\r\n\t\t\tif(!newStyles[id])\r\n\t\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\t\telse\r\n\t\t\t\tnewStyles[id].parts.push(part);\r\n\t\t}\r\n\t\treturn styles;\r\n\t}\r\n\r\n\tfunction insertStyleElement(styleElement) {\r\n\t\tgetHeadElement().appendChild(styleElement);\r\n\t}\r\n\r\n\tfunction createStyleElement(playerId) {\r\n\t\tvar styleElement = document.createElement(\"style\");\r\n\t\tstyleElement.type = \"text/css\";\r\n\t\tstyleElement.setAttribute('data-jwplayer-id', playerId);\r\n\t\tinsertStyleElement(styleElement);\r\n\t\treturn styleElement;\r\n\t}\r\n\r\n\tfunction addStyle(playerId, obj) {\r\n\t\tvar styleElement, update, remove;\r\n\t\tvar singleton = playerStyleElements[playerId];\r\n\r\n\t\tif (!singleton) {\r\n\t\t\tsingleton = playerStyleElements[playerId] = {\r\n\t\t\t\telement: createStyleElement(playerId),\r\n\t\t\t\tcounter: 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tvar styleIndex = singleton.counter++;\r\n\t\tstyleElement = singleton.element;\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\r\n\t\tupdate(obj);\r\n\r\n\t\treturn function updateStyle(newObj) {\r\n\t\t\tif(newObj) {\r\n\t\t\t\tif(newObj.css === obj.css && newObj.media === obj.media)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tupdate(obj = newObj);\r\n\t\t\t} else {\r\n\t\t\t\tremove();\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tvar replaceText = (function () {\r\n\t\tvar textStore = [];\r\n\r\n\t\treturn function (index, replacement) {\r\n\t\t\ttextStore[index] = replacement;\r\n\t\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t\t};\r\n\t})();\r\n\r\n\tfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\t\tvar css = remove ? \"\" : obj.css;\r\n\t\tif (styleElement.styleSheet) {\r\n\t\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t\t} else {\r\n\t\t\tvar cssNode = document.createTextNode(css);\r\n\t\t\tvar childNodes = styleElement.childNodes;\r\n\t\t\tvar child = childNodes[index];\r\n\t\t\tif (child) {\r\n\t\t\t\tstyleElement.replaceChild(cssNode, child);\r\n\t\t\t} else {\r\n\t\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/simple-style-loader/addStyles.js\n ** module id = 17\n ** module chunks = 0\n **/","define([\n    'utils/underscore'\n], function(_) {\n    var id3Parser = {};\n    var friendlyNames = {\n        TIT2: 'title',\n        TT2: 'title',\n        WXXX: 'url',\n        TPE1: 'artist',\n        TP1: 'artist',\n        TALB: 'album',\n        TAL: 'album'\n    };\n\n    id3Parser.utf8ArrayToStr = function (array, startingIndex) {\n        // Based on code by Masanao Izumo <iz@onicos.co.jp>\n        // posted at http://www.onicos.com/staff/iz/amuse/javascript/expert/utf.txt\n    \n        var out, i, len, c;\n        var char2, char3;\n    \n        out = '';\n        len = array.length;\n        i = startingIndex || 0;\n        while (i < len) {\n            c = array[i++];\n            // If the character is 3 (END_OF_TEXT) or 0 (NULL) then skip it\n            if (c === 0x00 || c === 0x03) {\n                continue;\n            }\n            switch (c >> 4) {\n                case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:\n                // 0xxxxxxx\n                    out += String.fromCharCode(c);\n                    break;\n                case 12: case 13:\n                // 110x xxxx   10xx xxxx\n                    char2 = array[i++];\n                    out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));\n                    break;\n                case 14:\n                    // 1110 xxxx  10xx xxxx  10xx xxxx\n                    char2 = array[i++];\n                    char3 = array[i++];\n                    out += String.fromCharCode(((c & 0x0F) << 12) |\n                        ((char2 & 0x3F) << 6) |\n                        ((char3 & 0x3F) << 0));\n                    break;\n            }\n        }\n    \n        return out;\n    };\n    \n    id3Parser.utf16BigEndianArrayToStr = function (array, startingIndex) {\n        var out, i, lastDoubleByte;\n    \n        out = '';\n        lastDoubleByte = array.length - 1;\n        i = startingIndex || 0;\n        while (i < lastDoubleByte) {\n            if (array[i] === 254 && array[i + 1] === 255) {\n                // Byte order mark\n            } else {\n                out += String.fromCharCode((array[i] << 8) + array[i + 1]);\n            }\n            i += 2;\n        }\n        return out;\n    };\n    \n    id3Parser.syncSafeInt = function(sizeArray) {\n        var size = id3Parser.arrayToInt(sizeArray);\n        return (size & 0x0000007F) |\n            ((size & 0x00007F00) >> 1) |\n            ((size & 0x007F0000) >> 2) |\n            ((size & 0x7F000000) >> 3);\n    };\n    \n    id3Parser.arrayToInt = function(array) {\n        var sizeString = '0x';\n        for (var i = 0; i < array.length; i++) {\n            if (array[i] < 16) {\n                sizeString += '0';\n            }\n            sizeString += array[i].toString(16);\n        }\n        return parseInt(sizeString);\n    };\n    \n    id3Parser.parseID3 = function(activeCues) {\n        return _.reduce(activeCues, function(data, cue) {\n            if (!('value' in cue)) {\n                // Cue is not in Safari's key/data format\n                if ('data' in cue && cue.data instanceof ArrayBuffer) {\n                    // EdgeHTML 13.10586 cue point format - contains raw data in an ArrayBuffer.\n    \n                    var oldCue = cue;\n                    var array = new Uint8Array(oldCue.data);\n                    var arrayLength = array.length;\n    \n                    cue = { value: { key: '', data: '' } };\n    \n                    var i = 10;\n                    while (i < 14 && i < array.length) {\n                        if (array[i] === 0) {\n                            break;\n                        }\n                        cue.value.key += String.fromCharCode(array[i]);\n                        i++;\n                    }\n    \n                    // If the first byte is 3 (END_OF_TEXT) or 0 (NULL) then skip it\n                    var startPos = 19;\n                    var firstByte = array[startPos];\n                    if (firstByte === 0x03 || firstByte === 0x00) {\n                        firstByte = array[++startPos];\n                        arrayLength--;\n                    }\n\n                    var infoDelimiterPosition = 0;\n                    // Find info/value pair delimiter if present.\n                    // If first byte shows theres utf 16 encoding, there is no info since info cannot be utf 16 encoded\n                    if (firstByte !== 0x01 && firstByte !== 0x02) {\n                        for (var j = startPos + 1; j < arrayLength; j++) {\n                            if (array[j] === 0x00) {\n                                infoDelimiterPosition = j - startPos;\n                                break;\n                            }\n                        }\n                    }\n    \n                    if (infoDelimiterPosition > 0) {\n                        var info = id3Parser.utf8ArrayToStr(\n                            array.subarray(startPos, startPos += infoDelimiterPosition), 0);\n                        if (cue.value.key === 'PRIV') {\n                            if (info === 'com.apple.streaming.transportStreamTimestamp') {\n                                var pts_33_bit = id3Parser.syncSafeInt(\n                                        array.subarray(startPos, startPos += 4)) & 0x00000001;\n                                var transportStreamTimestamp = id3Parser.syncSafeInt(\n                                    array.subarray(startPos, startPos += 4));\n                                if (pts_33_bit) {\n                                    transportStreamTimestamp += 0x100000000;\n                                }\n                                cue.value.data = transportStreamTimestamp;\n                            } else {\n                                cue.value.data = id3Parser.utf8ArrayToStr(array, startPos + 1);\n                            }\n                            cue.value.info = info;\n                        } else {\n                            cue.value.info = info;\n                            cue.value.data = id3Parser.utf8ArrayToStr(array, startPos + 1);\n                        }\n                    } else {\n                        var encoding = array[startPos];\n                        if (encoding === 1 || encoding === 2) {\n                            cue.value.data = id3Parser.utf16BigEndianArrayToStr(array, startPos + 1);\n                        } else {\n                            cue.value.data = id3Parser.utf8ArrayToStr(array, startPos + 1);\n                        }\n                    }\n                }\n            }\n    \n            // These friendly names mapping provides compatibility with our Flash implementation prior to 7.3\n            if (friendlyNames.hasOwnProperty(cue.value.key)) {\n                data[friendlyNames[cue.value.key]] = cue.value.data;\n            }\n            /* The meta event includes a metadata object with flattened cue key/data pairs\n             * If a cue also includes an info field, then create a collection of info/data pairs for the cue key\n             *   TLEN: 03:50                                        // key: \"TLEN\", data: \"03:50\"\n             *   WXXX: {\"artworkURL\":\"http://domain.com/cover.jpg\"} // key: \"WXXX\", info: \"artworkURL\" ...\n             */\n            if (cue.value.info) {\n                var collection = data[cue.value.key];\n                if (!_.isObject(collection)) {\n                    collection = {};\n                    data[cue.value.key] = collection;\n                }\n                collection[cue.value.info] = cue.value.data;\n            } else {\n                data[cue.value.key] = cue.value.data;\n            }\n            return data;\n        }, {});\n    };\n    return id3Parser;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/id3Parser.js\n **/","define([\n    'utils/constants',\n    'utils/underscore',\n    'utils/validator',\n    'utils/parser',\n    'version'\n], function(Constants, _, validator, parser, version) {\n    var playerUtils = {};\n\n    /** Gets the repository location **/\n    playerUtils.repo = _.memoize(function () {\n        if (__SELF_HOSTED__) {\n            return parser.getScriptPath('jwplayer.js');\n        }\n\n        var semver = version.split('+')[0];\n        var repo = Constants.repo + semver + '/';\n        if (validator.isHTTPS()) {\n            return repo.replace(/^http:/, 'https:');\n        }\n        return repo;\n    });\n\n    // Is the player at least a minimum required version?\n    playerUtils.versionCheck = function (target) {\n        var tParts = ('0' + target).split(/\\W/);\n        var jParts = version.split(/\\W/);\n        var tMajor = parseFloat(tParts[0]);\n        var jMajor = parseFloat(jParts[0]);\n        if (tMajor > jMajor) {\n            return false;\n        } else if (tMajor === jMajor) {\n            if (parseFloat('0' + tParts[1]) > parseFloat(jParts[1])) {\n                return false;\n            }\n        }\n        return true;\n    };\n\n    playerUtils.loadFrom = function () {\n        if (__DEBUG__ || __SELF_HOSTED__) {\n            return parser.getScriptPath('jwplayer.js');\n        }\n        return playerUtils.repo();\n    };\n\n    return playerUtils;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/playerutils.js\n **/","define([], function() {\n    return {\n        repo: __REPO__,\n        SkinsIncluded: ['seven'],\n        SkinsLoadable: ['beelden', 'bekle', 'five', 'glow', 'roundster', 'six', 'stormtrooper', 'vapor'],\n        dvrSeekLimit: -25\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/constants.js\n **/","define([], function() {\n    // This is replaced by compiler\n    return __BUILD_VERSION__;\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/version.js\n **/","import { dateTime } from 'utils/clock';\n\n/**\n * QoE metrics returned by `jwplayer()._qoe.dump()`.\n * {@link Api#qoe jwplayer().qoe():PlayerQoE} returns these for the player and the current playlist item.\n * @typedef {object} TimerMetrics\n * @property {object} counts - Lists event counts by event name\n * @property {object} events - Lists last event timestamps (epoch ms) by event name\n * @property {object} sums - Lists total event/state duration by event/state name\n */\n\ndefine([\n    'utils/underscore',\n], function(_) {\n    /**\n     * The Timer used to measure player and playlist item QoE\n     * @class Timer\n     */\n    const Timer = function() {\n        const startTimes = {};\n        const sum = {};\n        const counts = {};\n\n        const ticks = {};\n\n        /** @lends Timer */\n        return {\n            // Profile methods\n            /**\n             * Start timing a method. Increment {@link TimerMetrics} count.\n             * If the method was already started, but not finished, it's start will be reset.\n             * @memberOf Timer\n             * @instance\n             * @param {string} methodName - The method or player state name.\n             */\n            start: function(methodName) {\n                startTimes[methodName] = dateTime();\n                counts[methodName] = counts[methodName] + 1 || 1;\n            },\n            /**\n             * Finish timing a method. The time since `start` is added to {@link TimerMetrics#sums} sums.\n             * @memberOf Timer\n             * @instance\n             * @param {string} methodName - The method or player state name.\n             */\n            end: function(methodName) {\n                if (!startTimes[methodName]) {\n                    return;\n                }\n                const now = dateTime();\n                const e = now - startTimes[methodName];\n                delete startTimes[methodName];\n                sum[methodName] = sum[methodName] + e || e;\n            },\n            /**\n             * Output the timer metrics.\n             * @memberOf Timer\n             * @instance\n             * @returns {TimerMetrics}\n             */\n            dump: function() {\n                // Add running sum of latest method\n                // This lets `jwplayer().qoe().item.sums` return a tally of running playing/paused time\n                const runningSums = _.extend({}, sum);\n                for (const methodName in startTimes) {\n                    if (Object.prototype.hasOwnProperty.call(startTimes, methodName)) {\n                        const now = dateTime();\n                        const e = now - startTimes[methodName];\n                        runningSums[methodName] = runningSums[methodName] + e || e;\n                    }\n                }\n                return {\n                    counts: _.extend({}, counts),\n                    sums: runningSums,\n                    events: _.extend({}, ticks)\n                };\n            },\n\n            // Profile events\n            /**\n             * Add or update an event timestamp. The timestamp \"tick\" is added to {@link TimerMetrics#events} events.\n             * @memberOf Timer\n             * @instance\n             * @param {string} event - The event name.\n             */\n            tick: function(event) {\n                ticks[event] = dateTime();\n            },\n\n            /**\n             * Remove an event timestamp. The timestamp \"tick\" is removed from {@link TimerMetrics#events} events.\n             * @memberOf Timer\n             * @instance\n             * @param {string} event - The event name.\n             */\n            clear: function(event) {\n                delete ticks[event];\n            },\n\n            /**\n             * Get the difference between two events.\n             * @memberOf Timer\n             * @instance\n             * @param left - The first event name.\n             * @param right - The second event name.\n             * @returns {number|null}\n             */\n            between: function(left, right) {\n                if (ticks[right] && ticks[left]) {\n                    return ticks[right] - ticks[left];\n                }\n                return null;\n            }\n        };\n    };\n\n    return Timer;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/timer.js\n **/","const Date = window.Date;\nconst performance = window.performance || {\n    timing: {}\n};\nconst startDate = performance.timing.navigationStart || (new Date().getTime());\n\nif (!('now' in performance)) {\n    performance.now = () => (new Date().getTime()) - startDate;\n}\n\nexport function now() {\n    return performance.now();\n}\n\nexport function dateTime() {\n    return startDate + performance.now();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/clock.js\n **/","define([\n], function() {\n    var tryCatch = function (fn, ctx, args) {\n        // IE8 requires these not be undefined\n        ctx = ctx || this;\n        args = args || [];\n\n        // if in debug mode, let 'er blow!\n        var jwplayer = window.jwplayer;\n        if (jwplayer && jwplayer.debug) {\n            return fn.apply(ctx, args);\n        }\n\n        // else be careful\n        try {\n            return fn.apply(ctx, args);\n        } catch (e) {\n            return new JWError(fn.name, e);\n        }\n    };\n\n    var JWError = function (name, error) {\n        this.name = name;\n        this.message = error.message || error.toString();\n        this.error = error;\n    };\n\n    return {\n        tryCatch: tryCatch,\n        Error: JWError\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/trycatch.js\n **/","define([\n    'utils/underscore'\n], function(_) {\n    var streamTypeUtil = {};\n\n    // It's DVR if the duration is above the minDvrWindow, Live otherwise\n    streamTypeUtil.isDvr = function (duration, minDvrWindow) {\n        return Math.abs(duration) >= Math.max(minDvrWindow, 0);\n    };\n\n    // Determine the adaptive type - Live, DVR, or VOD\n    // Duration can be positive or negative, but minDvrWindow should always be positive\n    streamTypeUtil.streamType = function(duration, minDvrWindow) {\n        var _minDvrWindow = _.isUndefined(minDvrWindow) ? 120 : minDvrWindow;\n        var streamType = 'VOD';\n\n        if (duration === Infinity) {\n            // Live streams are always Infinity duration\n            streamType = 'LIVE';\n        } else if (duration < 0) {\n            streamType = streamTypeUtil.isDvr(duration, _minDvrWindow) ? 'DVR' : 'LIVE';\n        }\n\n        // Default option is VOD (i.e. positive or non-infinite)\n        return streamType;\n    };\n\n    return streamTypeUtil;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/stream-type.js\n **/","const _ = require('utils/underscore');\n\n// Try and find a corresponding custom label. If there are no custom labels, create one using height, bandwidth, or both\nfunction generateLabel(level, qualityLabels, redundant) {\n    if (!level) {\n        return '';\n    }\n    // Flash uses bitrate instead of bandwidth\n    const bandwidth = level.bitrate || level.bandwidth;\n    // Flash, in some cases, will create its own label. Prefer it over creating a new label\n    return getCustomLabel(qualityLabels, bandwidth) ||\n        level.label ||\n        createLabel(level.height, bandwidth, redundant);\n}\n\n// Prefer creating a label with height with a fallback to bandwidth. Make a label using both if redundant\nfunction createLabel(height, bandwidth, redundant) {\n    if (!height && !bandwidth) {\n        return '';\n    }\n\n    const bandwidthString = `${toKbps(bandwidth)} kbps`;\n    let label = bandwidthString;\n\n    if (height) {\n        label = `${height}p`;\n        if (bandwidth && redundant) {\n            label += ` (${bandwidthString})`;\n        }\n    }\n\n    return label;\n}\n\n// Ensures that we're able to find a custom label. As long as there is at least 1 quality label and a defined\n// bandwidth, a quality label will always be found. Return null otherwise\nfunction getCustomLabel(qualityLabels, bandwidth) {\n    let label = null;\n    const bandwidths = _.keys(qualityLabels);\n\n    if (bandwidth && qualityLabels && bandwidths.length) {\n        const key = parseFloat(bandwidth);\n        if (!isNaN(key)) {\n            label = qualityLabels[findClosestBandwidth(bandwidths, toKbps(key))];\n        }\n    }\n\n    return label;\n}\n\n// Finds the bandwidth with the smallest difference from the target bandwidth\nfunction findClosestBandwidth(bandwidths, targetBandwidth) {\n    let closest = null;\n    let smallestDiff = Infinity;\n    let curDiff;\n\n    if (_.isArray(bandwidths)) {\n        _.forEach(bandwidths, function (cur) {\n            curDiff = Math.abs(cur - targetBandwidth);\n            if (curDiff < smallestDiff) {\n                closest = cur;\n                smallestDiff = curDiff;\n            }\n        });\n    }\n\n    return closest;\n}\n\nfunction toKbps(bandwidth) {\n    return Math.floor(bandwidth / 1000);\n}\n\n// Use an empty object as the context and populate it like a hash map\nfunction hasRedundantLevels(levels) {\n    if (!_.isArray(levels)) {\n        return false;\n    }\n    return _.some(levels, function (level) {\n        const key = level.height || level.bitrate || level.bandwidth;\n        const foundDuplicate = this[key];\n        this[key] = 1;\n        return foundDuplicate;\n    }, {});\n}\n\nexport {\n    generateLabel,\n    createLabel,\n    getCustomLabel,\n    findClosestBandwidth,\n    toKbps,\n    hasRedundantLevels\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/quality-labels.js\n **/","define([\n    'controller/instream-html5',\n    'controller/instream-flash',\n    'events/events',\n    'events/states',\n    'utils/helpers',\n    'utils/backbone.events',\n    'utils/underscore'\n], function(InstreamHtml5, InstreamFlash, events, states, utils, Events, _) {\n\n    function chooseInstreamMethod(_model) {\n        var providerName = '';\n        var provider = _model.get('provider');\n        if (provider) {\n            providerName = provider.name;\n        }\n        if (providerName.indexOf('flash') >= 0) {\n            return InstreamFlash;\n        }\n\n        return InstreamHtml5;\n    }\n\n    var _defaultOptions = {\n        skipoffset: null,\n        tag: null\n    };\n\n    var InstreamAdapter = function(_controller, _model, _view) {\n        var InstreamMethod = chooseInstreamMethod(_model);\n        var _instream = new InstreamMethod(_controller, _model);\n\n        var _array;\n        var _arrayOptions;\n        var _arrayIndex = 0;\n        var _options = {};\n        var _oldProvider;\n        var _oldpos;\n        var _olditem;\n        var _this = this;\n\n        var _clickHandler = _.bind(function(evt) {\n            evt = evt || {};\n            evt.hasControls = !!_model.get('controls');\n\n            this.trigger(events.JWPLAYER_INSTREAM_CLICK, evt);\n\n            // toggle playback after click event\n            if (!_instream || !_instream._adModel) {\n                return;\n            }\n            if (_instream._adModel.get('state') === states.PAUSED) {\n                if (evt.hasControls) {\n                    _instream.instreamPlay();\n                }\n            } else {\n                _instream.instreamPause();\n            }\n        }, this);\n\n        var _doubleClickHandler = _.bind(function() {\n            if (!_instream || !_instream._adModel) {\n                return;\n            }\n            if (_instream._adModel.get('state') === states.PAUSED) {\n                if (_model.get('controls')) {\n                    _controller.setFullscreen();\n                    _controller.play();\n                }\n            }\n        }, this);\n\n        this.type = 'instream';\n\n        this.init = function(sharedVideoTag) {\n            // Keep track of the original player state\n            _oldProvider = _model.getVideo();\n            _oldpos = _model.get('position');\n            _olditem = _model.get('playlist')[_model.get('item')];\n            // Reset playback rate to 1 in case we reuse the video tag used to play back ad content\n            _oldProvider.setPlaybackRate(1);\n\n            _instream.on('all', _instreamForward, this);\n            _instream.on(events.JWPLAYER_MEDIA_TIME, _instreamTime, this);\n            _instream.on(events.JWPLAYER_MEDIA_COMPLETE, _instreamItemComplete, this);\n            _instream.init();\n\n            // Make sure the original player's provider stops broadcasting events (pseudo-lock...)\n            _controller.detachMedia();\n\n            _model.mediaModel.set('state', states.BUFFERING);\n\n            if (_controller.checkBeforePlay() || (_oldpos === 0 && !_model.checkComplete())) {\n                // make sure video restarts after preroll\n                _oldpos = 0;\n                _model.set('preInstreamState', 'instream-preroll');\n            } else if (_oldProvider && _model.checkComplete() || _model.get('state') === states.COMPLETE) {\n                _model.set('preInstreamState', 'instream-postroll');\n            } else {\n                _model.set('preInstreamState', 'instream-midroll');\n            }\n\n            // If the player's currently playing, pause the video tag\n            var currState = _model.get('state');\n            if (!sharedVideoTag && (currState === states.PLAYING || currState === states.BUFFERING)) {\n                _oldProvider.pause();\n            }\n\n            // Show instream state instead of normal player state\n            _view.setupInstream(_instream._adModel);\n            _instream._adModel.set('state', states.BUFFERING);\n\n            // don't trigger api play/pause on display click\n            if (_view.clickHandler()) {\n                _view.clickHandler().setAlternateClickHandlers(utils.noop, null);\n            }\n\n            this.setText(_model.get('localization').loadingAd);\n            return this;\n        };\n\n        function _loadNextItem() {\n            // We want a play event for the next item, so we ensure the state != playing\n            _instream._adModel.set('state', 'buffering');\n\n            // destroy skip button\n            _model.set('skipButton', false);\n\n            _arrayIndex++;\n            var item = _array[_arrayIndex];\n            var options;\n            if (_arrayOptions) {\n                options = _arrayOptions[_arrayIndex];\n            }\n            _this.loadItem(item, options);\n        }\n\n        function _instreamForward(type, data) {\n            if (type === 'complete') {\n                return;\n            }\n            data = data || {};\n\n            if (_options.tag && !data.tag) {\n                data.tag = _options.tag;\n            }\n\n            this.trigger(type, data);\n\n            if (type === 'mediaError' || type === 'error') {\n                if (_array && _arrayIndex + 1 < _array.length) {\n                    _loadNextItem();\n                }\n            }\n        }\n\n        function _instreamTime(evt) {\n            _instream._adModel.set('duration', evt.duration);\n            _instream._adModel.set('position', evt.position);\n        }\n\n        function _instreamItemComplete(e) {\n            var data = {};\n            if (_options.tag) {\n                data.tag = _options.tag;\n            }\n            this.trigger(events.JWPLAYER_MEDIA_COMPLETE, data);\n            _instreamItemNext.call(this, e);\n        }\n\n        var _instreamItemNext = function(e) {\n            if (_array && _arrayIndex + 1 < _array.length) {\n                _loadNextItem();\n            } else {\n                // notify vast of breakEnd\n                this.trigger('adBreakEnd', {});\n                if (e.type === events.JWPLAYER_MEDIA_COMPLETE) {\n                    // Dispatch playlist complete event for ad pods\n                    this.trigger(events.JWPLAYER_PLAYLIST_COMPLETE, {});\n                }\n                this.destroy();\n            }\n        };\n\n        this.loadItem = function(item, options) {\n            if (utils.isAndroid(2.3)) {\n                this.trigger({\n                    type: events.JWPLAYER_ERROR,\n                    message: 'Error loading instream: Cannot play instream on Android 2.3'\n                });\n                return;\n            }\n            // Copy the playlist item passed in and make sure it's formatted as a proper playlist item\n            var playlist = item;\n            if (_.isArray(item)) {\n                _array = item;\n                _arrayOptions = options;\n                item = _array[_arrayIndex];\n                if (_arrayOptions) {\n                    options = _arrayOptions[_arrayIndex];\n                }\n            } else {\n                playlist = [item];\n            }\n\n            var providersManager = _model.getProviders();\n            var primary = (InstreamMethod === InstreamFlash) ? 'flash' : undefined;\n            var providersNeeded = providersManager.required(playlist, primary);\n\n            _model.set('hideAdsControls', false);\n            _instream._adModel.set('state', states.BUFFERING);\n            providersManager.load(providersNeeded)\n                .then(function() {\n                    if (_instream === null) {\n                        return;\n                    }\n                    // Dispatch playlist item event for ad pods\n                    _this.trigger(events.JWPLAYER_PLAYLIST_ITEM, {\n                        index: _arrayIndex,\n                        item: item\n                    });\n\n                    _options = _.extend({}, _defaultOptions, options);\n                    _instream.load(item);\n\n                    _this.addClickHandler();\n\n                    var skipoffset = item.skipoffset || _options.skipoffset;\n                    if (skipoffset) {\n                        _this.setupSkipButton(skipoffset, _options);\n                    }\n                });\n        };\n\n        this.setupSkipButton = function(skipoffset, options, customNext) {\n            _model.set('skipButton', false);\n            if (customNext) {\n                _instreamItemNext = customNext;\n            }\n            _instream._adModel.set('skipMessage', options.skipMessage);\n            _instream._adModel.set('skipText', options.skipText);\n            _instream._adModel.set('skipOffset', skipoffset);\n            _model.set('skipButton', true);\n        };\n\n        this.applyProviderListeners = function(provider) {\n            _instream.applyProviderListeners(provider);\n\n            this.addClickHandler();\n        };\n\n        this.play = function() {\n            _instream.instreamPlay();\n        };\n\n        this.pause = function() {\n            _instream.instreamPause();\n        };\n\n        this.addClickHandler = function() {\n            // start listening for ad click\n            if (_view.clickHandler()) {\n                _view.clickHandler().setAlternateClickHandlers(_clickHandler, _doubleClickHandler);\n            }\n\n            _instream.on(events.JWPLAYER_MEDIA_META, this.metaHandler, this);\n        };\n\n        this.skipAd = function(evt) {\n            var skipAdType = events.JWPLAYER_AD_SKIPPED;\n            this.trigger(skipAdType, evt);\n            _instreamItemNext.call(this, {\n                type: skipAdType\n            });\n        };\n\n        /** Handle the JWPLAYER_MEDIA_META event **/\n        this.metaHandler = function (evt) {\n            // If we're getting video dimension metadata from the provider, allow the view to resize the media\n            if (evt.width && evt.height) {\n                _view.resizeMedia();\n            }\n        };\n\n        this.destroy = function() {\n            this.off();\n\n            _model.set('skipButton', false);\n\n            if (_instream) {\n                if (_view.clickHandler()) {\n                    _view.clickHandler().revertAlternateClickHandlers();\n                }\n\n                _model.off(null, null, _instream);\n                _instream.off(null, null, _this);\n                _instream.instreamDestroy();\n\n                // Must happen after instream.instreamDestroy()\n                _view.destroyInstream();\n\n                _instream = null;\n\n                // Re-attach the controller\n                _controller.attachMedia();\n\n                var oldMode = _model.get('preInstreamState');\n                switch (oldMode) {\n                    case 'instream-preroll':\n                    case 'instream-midroll':\n                        // On error, mediaModel has buffering states in mobile, but oldProvider's state is playing.\n                        // So, changing mediaModel's state to playing does not change provider state unless we do this\n                        if (utils.isMobile() && (_model.mediaModel.get('state') === states.BUFFERING)) {\n                            _oldProvider.setState(states.BUFFERING);\n                        }\n\n                        var item = _.extend({}, _olditem);\n                        item.starttime = _oldpos;\n                        _model.loadVideo(item);\n                        break;\n                    case 'instream-postroll':\n                    case 'instream-idle':\n                        _oldProvider.stop();\n                        break;\n                    default:\n                        break;\n                }\n            }\n        };\n\n        this.getState = function() {\n            if (_instream && _instream._adModel) {\n                return _instream._adModel.get('state');\n            }\n            // api expects false to know we aren't in instreamMode\n            return false;\n        };\n\n        this.setText = function(text) {\n            _view.setAltText(text ? text : '');\n        };\n\n        // This method is triggered by plugins which want to hide player controls\n        this.hide = function() {\n            _model.set('hideAdsControls', true);\n        };\n\n    };\n\n    _.extend(InstreamAdapter.prototype, Events);\n\n    return InstreamAdapter;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/instream-adapter.js\n **/","define([\n    'utils/underscore',\n    'utils/backbone.events',\n    'events/change-state-event',\n    'events/events',\n    'events/states',\n    'controller/model'\n], function(_, Events, changeStateEvent, events, states, Model) {\n\n    var InstreamHtml5 = function(_controller, _model) {\n        var _adModel;\n        var _currentProvider;\n        var _this = _.extend(this, Events);\n\n        // Listen for player resize events\n        _controller.on(events.JWPLAYER_FULLSCREEN, function(data) {\n            this.trigger(events.JWPLAYER_FULLSCREEN, data);\n        }, _this);\n\n        /** ***************************************\n         *****  Public instream API methods  *****\n         *****************************************/\n\n        this.init = function() {\n            // Initialize the instream player's model copied from main player's model\n            _adModel = new Model().setup({\n                id: _model.get('id'),\n                volume: _model.get('volume'),\n                fullscreen: _model.get('fullscreen'),\n                mute: _model.get('mute') || _model.get('autostartMuted'),\n                instreamMode: true\n            });\n            _adModel.on('fullscreenchange', _nativeFullscreenHandler);\n\n            this._adModel = _adModel;\n        };\n\n        /** Load an instream item and initialize playback **/\n        _this.load = function(item) {\n\n            _adModel.set('item', 0);\n            _adModel.set('playlistItem', item);\n            // Make sure it chooses a provider\n            _adModel.setActiveItem(item);\n\n            // check provider after item change\n            _checkProvider();\n\n            // Match the main player's controls state\n            _adModel.off(events.JWPLAYER_ERROR);\n            _adModel.on(events.JWPLAYER_ERROR, function(data) {\n                this.trigger(events.JWPLAYER_ERROR, data);\n            }, _this);\n\n            // Load the instream item\n            _adModel.loadVideo(item);\n        };\n\n        _this.applyProviderListeners = function(provider) {\n            // check provider after item change\n            _checkProvider(provider);\n\n            if (!provider) {\n                return;\n            }\n\n            // Match the main player's controls state\n            provider.off(events.JWPLAYER_ERROR);\n            provider.on(events.JWPLAYER_ERROR, function(data) {\n                this.trigger(events.JWPLAYER_ERROR, data);\n            }, _this);\n            _model.on('change:volume', function(data, value) {\n                _currentProvider.volume(value);\n            }, _this);\n            _model.on('change:mute', function(data, value) {\n                _currentProvider.mute(value);\n            }, _this);\n            _model.on('change:autostartMuted', function(data, value) {\n                if (!value) {\n                    _currentProvider.mute(_model.get('mute'));\n                }\n            }, _this);\n        };\n\n        /** Stop the instream playback and revert the main player back to its original state **/\n        this.instreamDestroy = function() {\n            if (!_adModel) {\n                return;\n            }\n\n            _adModel.off();\n\n            // We don't want the instream provider to be attached to the video tag anymore\n            this.off();\n            if (_currentProvider) {\n                _currentProvider.detachMedia();\n                _currentProvider.off();\n                if (_adModel.getVideo()) {\n                    _currentProvider.destroy();\n                }\n            }\n\n            // Return the view to its normal state\n            _adModel = null;\n\n            // Remove all callbacks for 'this' for all events\n            _controller.off(null, null, this);\n            _controller = null;\n        };\n\n        /** Start instream playback **/\n        _this.instreamPlay = function() {\n            if (!_adModel.getVideo()) {\n                return;\n            }\n            _adModel.getVideo().play(true);\n        };\n\n        /** Pause instream playback **/\n        _this.instreamPause = function() {\n            if (!_adModel.getVideo()) {\n                return;\n            }\n            _adModel.getVideo().pause(true);\n        };\n\n\n        /** ***************************\n         ****** Private methods ******\n         *****************************/\n\n        function _checkProvider(pseudoProvider) {\n            var provider = pseudoProvider || _adModel.getVideo();\n\n            if (_currentProvider !== provider) {\n                _currentProvider = provider;\n\n                if (!provider) {\n                    return;\n                }\n\n                var isVpaidProvider = provider.type === 'vpaid';\n\n                provider.off();\n\n                provider.on('all', function(type, data) {\n                    if (isVpaidProvider && (type === events.JWPLAYER_MEDIA_COMPLETE)) {\n                        return;\n                    }\n                    this.trigger(type, _.extend({}, data, { type: type }));\n                }, _this);\n\n                provider.on(events.JWPLAYER_MEDIA_BUFFER_FULL, _bufferFullHandler);\n\n                provider.on(events.JWPLAYER_PLAYER_STATE, stateHandler);\n                provider.attachMedia();\n                provider.volume(_model.get('volume'));\n                provider.mute(_model.get('mute') || _model.get('autostartMuted'));\n\n                _adModel.on('change:state', changeStateEvent, _this);\n            }\n        }\n\n        function stateHandler(evt) {\n            switch (evt.newstate) {\n                case states.PLAYING:\n                case states.PAUSED:\n                    _adModel.set('state', evt.newstate);\n                    break;\n                default:\n                    break;\n            }\n        }\n\n\n        function _nativeFullscreenHandler(evt) {\n            _model.trigger(evt.type, evt);\n            _this.trigger(events.JWPLAYER_FULLSCREEN, {\n                fullscreen: evt.jwstate\n            });\n        }\n\n        /** Handle the JWPLAYER_MEDIA_BUFFER_FULL event **/\n        function _bufferFullHandler() {\n            _adModel.getVideo().play();\n        }\n\n        return _this;\n    };\n\n    return InstreamHtml5;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/instream-html5.js\n **/","//     Backbone.js 1.1.2\n\n    // Backbone.Events\n    // ---------------\n\n    // A module that can be mixed in to *any object* in order to provide it with\n    // custom events. You may bind with `on` or remove with `off` callback\n    // functions to an event; `trigger`-ing an event fires all callbacks in\n    // succession.\n    //\n    //     var object = {};\n    //     _.extend(object, Backbone.Events);\n    //     object.on('expand', function(){ alert('expanded'); });\n    //     object.trigger('expand');\n    //\ndefine([\n    'utils/underscore'\n], function(_) {\n\n    var array = [];\n    // var push = array.push;\n    var slice = array.slice;\n    // var splice = array.splice;\n\n    var Events = {\n\n        // Bind an event to a `callback` function. Passing `\"all\"` will bind\n        // the callback to all events fired.\n        on: function (name, callback, context) {\n            if (!eventsApi(this, 'on', name, [callback, context]) || !callback) return this;\n            this._events || (this._events = {});\n            var events = this._events[name] || (this._events[name] = []);\n            events.push({ callback: callback, context: context });\n            return this;\n        },\n\n        // Bind an event to only be triggered a single time. After the first time\n        // the callback is invoked, it will be removed.\n        once: function (name, callback, context) {\n            if (!eventsApi(this, 'once', name, [callback, context]) || !callback) return this;\n            var self = this;\n            var once = _.once(function () {\n                self.off(name, once);\n                callback.apply(this, arguments);\n            });\n            once._callback = callback;\n            return this.on(name, once, context);\n        },\n\n        // Remove one or many callbacks. If `context` is null, removes all\n        // callbacks with that function. If `callback` is null, removes all\n        // callbacks for the event. If `name` is null, removes all bound\n        // callbacks for all events.\n        off: function (name, callback, context) {\n            var retain, ev, events, names, i, l, j, k;\n            if (!this._events || !eventsApi(this, 'off', name, [callback, context])) return this;\n            if (!name && !callback && !context) {\n                this._events = void 0;\n                return this;\n            }\n            names = name ? [name] : _.keys(this._events);\n            for (i = 0, l = names.length; i < l; i++) {\n                name = names[i];\n                if (events = this._events[name]) {\n                    this._events[name] = retain = [];\n                    if (callback || context) {\n                        for (j = 0, k = events.length; j < k; j++) {\n                            ev = events[j];\n                            if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                                (context && context !== ev.context)) {\n                                retain.push(ev);\n                            }\n                        }\n                    }\n                    if (!retain.length) delete this._events[name];\n                }\n            }\n\n            return this;\n        },\n\n        // Trigger one or many events, firing all bound callbacks. Callbacks are\n        // passed the same arguments as `trigger` is, apart from the event name\n        // (unless you're listening on `\"all\"`, which will cause your callback to\n        // receive the true name of the event as the first argument).\n        trigger: function (name) {\n            if (!this._events) return this;\n            var args = slice.call(arguments, 1);\n            if (!eventsApi(this, 'trigger', name, args)) return this;\n            var events = this._events[name];\n            var allEvents = this._events.all;\n            if (events) triggerEvents(events, args, this);\n            if (allEvents) triggerEvents(allEvents, arguments, this);\n            return this;\n        },\n        // This is a c/p of the above trigger method, swapping out triggerEvents for safeTriggerEvents\n        //  this will have worse performance but safely allows plugins to not wreck eachother\n        triggerSafe: function (name) {\n            if (!this._events) return this;\n            var args = slice.call(arguments, 1);\n            if (!eventsApi(this, 'trigger', name, args)) return this;\n            var events = this._events[name];\n            var allEvents = this._events.all;\n            if (events) safeTriggerEvents(events, args, this, name);\n            if (allEvents) safeTriggerEvents(allEvents, arguments, this, name);\n            return this;\n        }\n\n        /*\n         // Tell this object to stop listening to either specific events ... or\n         // to every object it's currently listening to.\n         stopListening: function(obj, name, callback) {\n         var listeningTo = this._listeningTo;\n         if (!listeningTo) return this;\n         var remove = !name && !callback;\n         if (!callback && typeof name === 'object') callback = this;\n         if (obj) (listeningTo = {})[obj._listenId] = obj;\n         for (var id in listeningTo) {\n         obj = listeningTo[id];\n         obj.off(name, callback, this);\n         if (remove || _.isEmpty(obj._events)) delete this._listeningTo[id];\n         }\n         return this;\n         }\n         */\n\n    };\n\n\n    // Regular expression used to split event strings.\n    var eventSplitter = /\\s+/;\n\n    // Implement fancy features of the Events API such as multiple event\n    // names `\"change blur\"` and jQuery-style event maps `{change: action}`\n    // in terms of the existing API.\n    var eventsApi = function (obj, action, name, rest) {\n        if (!name) return true;\n\n        // Handle event maps.\n        if (typeof name === 'object') {\n            for (var key in name) {\n                obj[action].apply(obj, [key, name[key]].concat(rest));\n            }\n            return false;\n        }\n\n        // Handle space separated event names.\n        if (eventSplitter.test(name)) {\n            var names = name.split(eventSplitter);\n            for (var i = 0, l = names.length; i < l; i++) {\n                obj[action].apply(obj, [names[i]].concat(rest));\n            }\n            return false;\n        }\n\n        return true;\n    };\n\n    // A difficult-to-believe, but optimized internal dispatch function for\n    // triggering events. Tries to keep the usual cases speedy (most internal\n    // Backbone events have 3 arguments).\n    var triggerEvents = function (events, args, context) {\n        var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n        switch (args.length) {\n            case 0:\n                while (++i < l) (ev = events[i]).callback.call(ev.context || context);\n                return;\n            case 1:\n                while (++i < l) (ev = events[i]).callback.call(ev.context || context, a1);\n                return;\n            case 2:\n                while (++i < l) (ev = events[i]).callback.call(ev.context || context, a1, a2);\n                return;\n            case 3:\n                while (++i < l) (ev = events[i]).callback.call(ev.context || context, a1, a2, a3);\n                return;\n            default:\n                while (++i < l) (ev = events[i]).callback.apply(ev.context || context, args);\n                return;\n        }\n    };\n\n    // This is a deconstruction of the above default while loop, with try/catch inserted\n    var safeTriggerEvents = function(events, args, context, name) {\n        var ev, i = -1, l = events.length;\n        while (++i < l) {\n            try {\n                ev = events[i];\n                ev.callback.apply(ev.context || context, args);\n            } catch(e) {\n                console.log('Error in \"' + name + '\" event handler:', e);\n            }\n        }\n    };\n\n    /*\n     var listenMethods = {listenTo: 'on', listenToOnce: 'once'};\n\n     // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n     // listen to an event in another object ... keeping track of what it's\n     // listening to.\n     _.each(listenMethods, function(implementation, method) {\n     Events[method] = function(obj, name, callback) {\n     var listeningTo = this._listeningTo || (this._listeningTo = {});\n     var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n     listeningTo[id] = obj;\n     if (!callback && typeof name === 'object') callback = this;\n     obj[implementation](name, callback, this);\n     return this;\n     };\n     });\n     */\n\n    return Events;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/backbone.events.js\n **/","define([\n    'events/states'\n], function(states) {\n    // The api should dispatch an idle event when the model's state changes to complete\n    // This is to avoid conflicts with the complete event and to maintain legacy event flow\n    function normalizeApiState(newstate) {\n        if (newstate === states.COMPLETE || newstate === states.ERROR) {\n            return states.IDLE;\n        }\n        return newstate;\n    }\n\n    return function ChangeStateEvent(model, newstate, oldstate) {\n        newstate = normalizeApiState(newstate);\n        oldstate = normalizeApiState(oldstate);\n        // do not dispatch idle a second time after complete\n        if (newstate !== oldstate) {\n            // buffering, playing and paused states become:\n            // buffer, play and pause events\n            var eventType = newstate.replace(/(?:ing|d)$/, '');\n            var evt = {\n                type: eventType,\n                newstate: newstate,\n                oldstate: oldstate,\n                reason: model.mediaModel.get('state')\n            };\n            // add reason for play/pause events\n            if (eventType === 'play') {\n                evt.playReason = model.get('playReason');\n            } else if (eventType === 'pause') {\n                evt.pauseReason = model.get('pauseReason');\n            }\n            this.trigger(eventType, evt);\n        }\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/events/change-state-event.js\n **/","define([], function() {\n    return {\n        BUFFERING: 'buffering',\n        IDLE: 'idle',\n        COMPLETE: 'complete',\n        PAUSED: 'paused',\n        PLAYING: 'playing',\n        ERROR: 'error',\n\n        // These exist at the provider level, but are converted to BUFFERING at higher levels\n        LOADING: 'loading',\n        STALLED: 'stalled'\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/events/states.js\n **/","define([], function() {\n    var touchEvents = {\n        DRAG: 'drag',\n        DRAG_START: 'dragStart',\n        DRAG_END: 'dragEnd',\n        CLICK: 'click',\n        DOUBLE_CLICK: 'doubleClick',\n        TAP: 'tap',\n        DOUBLE_TAP: 'doubleTap',\n        OVER: 'over',\n        MOVE: 'move',\n        OUT: 'out'\n    };\n\n    var events = {\n        // Script Loaders\n        COMPLETE: 'complete',\n        ERROR: 'error',\n\n        // Ad events\n        JWPLAYER_AD_CLICK: 'adClick',\n        JWPLAYER_AD_COMPANIONS: 'adCompanions',\n        JWPLAYER_AD_COMPLETE: 'adComplete',\n        JWPLAYER_AD_ERROR: 'adError',\n        JWPLAYER_AD_IMPRESSION: 'adImpression',\n        JWPLAYER_AD_META: 'adMeta',\n        JWPLAYER_AD_PAUSE: 'adPause',\n        JWPLAYER_AD_PLAY: 'adPlay',\n        JWPLAYER_AD_SKIPPED: 'adSkipped',\n        JWPLAYER_AD_TIME: 'adTime',\n        JWPLAYER_CAST_AD_CHANGED: 'castAdChanged',\n\n        // Events\n        JWPLAYER_MEDIA_COMPLETE: 'complete',\n        JWPLAYER_READY: 'ready',\n        JWPLAYER_MEDIA_SEEK: 'seek',\n        JWPLAYER_MEDIA_BEFOREPLAY: 'beforePlay',\n        JWPLAYER_MEDIA_BEFORECOMPLETE: 'beforeComplete',\n        JWPLAYER_MEDIA_BUFFER_FULL: 'bufferFull',\n        JWPLAYER_DISPLAY_CLICK: 'displayClick',\n        JWPLAYER_PLAYLIST_COMPLETE: 'playlistComplete',\n        JWPLAYER_CAST_SESSION: 'cast',\n        JWPLAYER_MEDIA_ERROR: 'mediaError',\n        JWPLAYER_MEDIA_FIRST_FRAME: 'firstFrame',\n        JWPLAYER_MEDIA_PLAY_ATTEMPT: 'playAttempt',\n        JWPLAYER_MEDIA_LOADED: 'loaded',\n        JWPLAYER_MEDIA_SEEKED: 'seeked',\n\n        // Setup Events\n        JWPLAYER_SETUP_ERROR: 'setupError',\n\n        // Utility\n        JWPLAYER_ERROR: 'error',\n        JWPLAYER_PLAYER_STATE: 'state',\n        JWPLAYER_CAST_AVAILABLE: 'castAvailable',\n\n        // Model Changes\n        JWPLAYER_MEDIA_BUFFER: 'bufferChange',\n        JWPLAYER_MEDIA_TIME: 'time',\n        JWPLAYER_MEDIA_TYPE: 'mediaType',\n        JWPLAYER_MEDIA_VOLUME: 'volume',\n        JWPLAYER_MEDIA_MUTE: 'mute',\n        JWPLAYER_MEDIA_META: 'meta',\n        JWPLAYER_MEDIA_LEVELS: 'levels',\n        JWPLAYER_MEDIA_LEVEL_CHANGED: 'levelsChanged',\n        JWPLAYER_CONTROLS: 'controls',\n        JWPLAYER_FULLSCREEN: 'fullscreen',\n        JWPLAYER_RESIZE: 'resize',\n        JWPLAYER_PLAYLIST_ITEM: 'playlistItem',\n        JWPLAYER_PLAYLIST_LOADED: 'playlist',\n        JWPLAYER_AUDIO_TRACKS: 'audioTracks',\n        JWPLAYER_AUDIO_TRACK_CHANGED: 'audioTrackChanged',\n        JWPLAYER_PLAYBACK_RATE_CHANGED: 'playbackRateChanged',\n\n        // View Component Actions\n        JWPLAYER_LOGO_CLICK: 'logoClick',\n\n        // Model - Captions\n        JWPLAYER_CAPTIONS_LIST: 'captionsList',\n        JWPLAYER_CAPTIONS_CHANGED: 'captionsChanged',\n\n        // Provider Communication\n        JWPLAYER_PROVIDER_CHANGED: 'providerChanged',\n        JWPLAYER_PROVIDER_FIRST_FRAME: 'providerFirstFrame',\n\n        // UI Events\n        JWPLAYER_USER_ACTION: 'userAction',\n        JWPLAYER_PROVIDER_CLICK: 'providerClick',\n        JWPLAYER_VIEW_TAB_FOCUS: 'tabFocus',\n        JWPLAYER_CONTROLBAR_DRAGGING: 'scrubbing',\n        JWPLAYER_INSTREAM_CLICK: 'instreamClick',\n        JWPLAYER_BREAKPOINT: 'breakpoint'\n    };\n\n    events.touchEvents = touchEvents;\n\n    return events;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/events/events.js\n **/","define([\n    'utils/helpers',\n    'providers/providers',\n    'controller/qoe',\n    'utils/underscore',\n    'utils/backbone.events',\n    'utils/simplemodel',\n    'events/events',\n    'events/states'\n], function(utils, Providers, QOE, _, Events, SimpleModel, events, states) {\n\n    // Represents the state of the player\n    var Model = function() {\n        var _this = this;\n        var _providers;\n        var _provider;\n        var _beforecompleted = false;\n        var _attached = true;\n\n        this.mediaController = _.extend({}, Events);\n        this.mediaModel = new MediaModel();\n\n        QOE.model(this);\n\n        this.set('mediaModel', this.mediaModel);\n\n        this.setup = function(config) {\n\n            _.extend(this.attributes, config, {\n                // always start on first playlist item\n                item: 0,\n                itemMeta: {},\n                playlistItem: undefined,\n                // Initial state, upon setup\n                state: states.IDLE,\n                // Initially we don't assume Flash is needed\n                flashBlocked: false,\n                provider: undefined,\n                duration: 0,\n                position: 0,\n                buffer: 0\n            });\n\n            this.updateProviders();\n\n            return this;\n        };\n\n        this.getConfiguration = function() {\n            return _.omit(this.clone(), ['mediaModel']);\n        };\n\n        this.updateProviders = function() {\n            _providers = new Providers(this.getConfiguration());\n        };\n\n        function _videoEventHandler(type, data) {\n            var evt = _.extend({}, data, { type: type });\n            var mediaModel = this.mediaModel;\n            switch (type) {\n                case 'flashThrottle':\n                    var throttled = (data.state !== 'resume');\n                    this.set('flashThrottle', throttled);\n                    this.set('flashBlocked', throttled);\n                    break;\n                case 'flashBlocked':\n                    this.set('flashBlocked', true);\n                    return;\n                case 'flashUnblocked':\n                    this.set('flashBlocked', false);\n                    return;\n                case 'volume':\n                    this.set(type, data[type]);\n                    return;\n                case 'mute':\n                    if (!this.get('autostartMuted')) {\n                        // Don't persist mute state with muted autostart\n                        this.set(type, data[type]);\n                    }\n                    return;\n                case 'ratechange':\n                    var rate = data.playbackRate;\n                    // Check if its a generally usable rate.  Shaka changes rate to 0 when pause or buffering.\n                    if (rate > 0) {\n                        this.set('playbackRate', rate);\n                    }\n                    return;\n                case events.JWPLAYER_MEDIA_TYPE:\n                    if (mediaModel.get('mediaType') !== data.mediaType) {\n                        mediaModel.set('mediaType', data.mediaType);\n                        this.mediaController.trigger(type, evt);\n                    }\n                    return;\n                case events.JWPLAYER_PLAYER_STATE:\n                    mediaModel.set('state', data.newstate);\n\n                    // This \"return\" is important because\n                    //  we are choosing to not propagate this event.\n                    //  Instead letting the master controller do so\n                    return;\n                case events.JWPLAYER_MEDIA_BUFFER:\n                    this.set('buffer', data.bufferPercent);\n                /* falls through */\n                case events.JWPLAYER_MEDIA_META:\n                    var duration = data.duration;\n                    if (_.isNumber(duration) && !_.isNaN(duration)) {\n                        mediaModel.set('duration', duration);\n                        this.set('duration', duration);\n                    }\n                    break;\n                case events.JWPLAYER_MEDIA_BUFFER_FULL:\n                    // media controller\n                    if (mediaModel.get('playAttempt')) {\n                        this.playVideo();\n                    } else {\n                        mediaModel.on('change:playAttempt', function() {\n                            this.playVideo();\n                        }, this);\n                    }\n                    this.setPlaybackRate(this.get('defaultPlaybackRate'));\n                    break;\n                case events.JWPLAYER_MEDIA_TIME:\n                    mediaModel.set('position', data.position);\n                    this.set('position', data.position);\n                    if (_.isNumber(data.duration)) {\n                        mediaModel.set('duration', data.duration);\n                        this.set('duration', data.duration);\n                    }\n                    break;\n                case events.JWPLAYER_PROVIDER_CHANGED:\n                    this.set('provider', _provider.getName());\n                    break;\n                case events.JWPLAYER_MEDIA_LEVELS:\n                    this.setQualityLevel(data.currentQuality, data.levels);\n                    mediaModel.set('levels', data.levels);\n                    break;\n                case events.JWPLAYER_MEDIA_LEVEL_CHANGED:\n                    this.setQualityLevel(data.currentQuality, data.levels);\n                    this.persistQualityLevel(data.currentQuality, data.levels);\n                    break;\n                case events.JWPLAYER_MEDIA_COMPLETE:\n                    _beforecompleted = true;\n                    this.mediaController.trigger(events.JWPLAYER_MEDIA_BEFORECOMPLETE, evt);\n                    if (_attached) {\n                        this.playbackComplete();\n                    }\n                    return;\n                case events.JWPLAYER_AUDIO_TRACKS:\n                    this.setCurrentAudioTrack(data.currentTrack, data.tracks);\n                    mediaModel.set('audioTracks', data.tracks);\n                    break;\n                case events.JWPLAYER_AUDIO_TRACK_CHANGED:\n                    this.setCurrentAudioTrack(data.currentTrack, data.tracks);\n                    break;\n                case 'subtitlesTrackChanged':\n                    this.persistVideoSubtitleTrack(data.currentTrack, data.tracks);\n                    break;\n                case 'visualQuality':\n                    var visualQuality = _.extend({}, data);\n                    mediaModel.set('visualQuality', visualQuality);\n                    break;\n                case 'autoplayFailed':\n                    this.set('autostartFailed', true);\n                    if (mediaModel.get('state') === states.PLAYING) {\n                        mediaModel.set('state', states.PAUSED);\n                    }\n                    break;\n                default:\n                    break;\n            }\n\n            this.mediaController.trigger(type, evt);\n        }\n\n        this.setQualityLevel = function(quality, levels) {\n            if (quality > -1 && levels.length > 1 && _provider.getName().name !== 'youtube') {\n                this.mediaModel.set('currentLevel', parseInt(quality));\n\n            }\n        };\n\n        this.persistQualityLevel = function(quality, levels) {\n            var currentLevel = levels[quality] || {};\n            var label = currentLevel.label;\n            this.set('qualityLabel', label);\n        };\n\n        this.setCurrentAudioTrack = function(currentTrack, tracks) {\n            if (currentTrack > -1 && tracks.length > 0 && currentTrack < tracks.length) {\n                this.mediaModel.set('currentAudioTrack', parseInt(currentTrack));\n            }\n        };\n\n        this.onMediaContainer = function() {\n            var container = this.get('mediaContainer');\n            _provider.setContainer(container);\n        };\n\n        this.changeVideoProvider = function(Provider) {\n            this.off('change:mediaContainer', this.onMediaContainer);\n\n            if (_provider) {\n                _provider.off(null, null, this);\n                if (_provider.getContainer()) {\n                    _provider.remove();\n                }\n                delete _provider.instreamMode;\n            }\n\n            if (!Provider) {\n                this.resetProvider();\n                this.set('provider', undefined);\n                return;\n            }\n\n            _provider = new Provider(_this.get('id'), _this.getConfiguration());\n\n            var container = this.get('mediaContainer');\n            if (container) {\n                _provider.setContainer(container);\n            } else {\n                this.once('change:mediaContainer', this.onMediaContainer);\n            }\n\n            if (_provider.getName().name.indexOf('flash') === -1) {\n                this.set('flashThrottle', undefined);\n                this.set('flashBlocked', false);\n            }\n\n            _provider.volume(_this.get('volume'));\n\n            // Mute the video if autostarting on mobile. Otherwise, honor the model's mute value\n            _provider.mute(this.autoStartOnMobile() || _this.get('mute'));\n\n            _provider.on('all', _videoEventHandler, this);\n\n            // Attempt setting the playback rate to be the user selected value\n            this.setPlaybackRate(this.get('defaultPlaybackRate'));\n\n            // Set playbackRate because provider support for playbackRate may have changed and not sent an update\n            this.set('playbackRate', _provider.getPlaybackRate());\n\n            if (this.get('instreamMode') === true) {\n                _provider.instreamMode = true;\n            }\n\n            this.set('renderCaptionsNatively', _provider.renderNatively);\n        };\n\n        this.checkComplete = function() {\n            return _beforecompleted;\n        };\n\n        this.detachMedia = function() {\n            _attached = false;\n            _provider.off('all', _videoEventHandler, this);\n            return _provider.detachMedia();\n        };\n\n        this.attachMedia = function() {\n            _attached = true;\n            _provider.off('all', _videoEventHandler, this);\n            _provider.on('all', _videoEventHandler, this);\n            if (_beforecompleted) {\n                this.playbackComplete();\n            }\n\n            _provider.attachMedia();\n\n            // Restore the playback rate to the provider in case it changed while detached and we reused a video tag.\n            this.setPlaybackRate(this.get('defaultPlaybackRate'));\n        };\n\n        this.playbackComplete = function() {\n            _beforecompleted = false;\n            _provider.setState(states.COMPLETE);\n            this.mediaController.trigger(events.JWPLAYER_MEDIA_COMPLETE, {});\n        };\n\n        this.destroy = function() {\n            this.off();\n            if (_provider) {\n                _provider.off(null, null, this);\n                _provider.destroy();\n            }\n        };\n\n        this.getVideo = function() {\n            return _provider;\n        };\n\n        this.setFullscreen = function(state) {\n            state = !!state;\n            if (state !== _this.get('fullscreen')) {\n                _this.set('fullscreen', state);\n            }\n        };\n\n        // Give the option for a provider to be forced\n        this.chooseProvider = function(source) {\n            // if _providers.choose is null, something went wrong in filtering\n            return _providers.choose(source).provider;\n        };\n\n        this.setItemIndex = function(index) {\n            var playlist = this.get('playlist');\n\n            // If looping past the end, or before the beginning\n            index = parseInt(index, 10) || 0;\n            index = (index + playlist.length) % playlist.length;\n\n            this.set('item', index);\n            this.set('playlistItem', playlist[index]);\n            this.setActiveItem(playlist[index]);\n        };\n\n        this.setActiveItem = function(item) {\n            // Item is actually changing\n            this.mediaModel.off();\n            this.mediaModel = new MediaModel();\n            this.set('itemMeta', {});\n            this.set('mediaModel', this.mediaModel);\n            this.set('position', item.starttime || 0);\n            this.set('minDvrWindow', item.minDvrWindow);\n            this.set('duration', (item.duration && utils.seconds(item.duration)) || 0);\n            this.setProvider(item);\n        };\n\n        this.setProvider = function(item) {\n            var source = item && item.sources && item.sources[0];\n            if (source === undefined) {\n                // source is undefined when resetting index with empty playlist\n                return;\n            }\n\n            var provider = this.chooseProvider(source);\n            // If we are changing video providers\n            if (!provider || !(_provider instanceof provider)) {\n                _this.changeVideoProvider(provider);\n            }\n\n            if (!_provider) {\n                return;\n            }\n\n            // this allows the providers to preload\n            if (_provider.init) {\n                _provider.init(item);\n            }\n\n            // Set the Provider after calling init because some Provider properties are only set afterwards\n            this.set('provider', _provider.getName());\n\n            // Listening for change:item won't suffice when loading the same index or file\n            // We also can't listen for change:mediaModel because it triggers whether or not\n            //  an item was actually loaded\n            this.trigger('itemReady', item);\n        };\n\n        this.getProviders = function() {\n            return _providers;\n        };\n\n        this.resetProvider = function() {\n            _provider = null;\n        };\n\n        this.setVolume = function(volume) {\n            volume = Math.round(volume);\n            this.set('volume', volume);\n            if (_provider) {\n                _provider.volume(volume);\n            }\n            var mute = (volume === 0);\n            if (mute !== (this.getMute())) {\n                this.setMute(mute);\n            }\n        };\n\n        this.getMute = function() {\n            return this.get('autostartMuted') || this.get('mute');\n        };\n\n        this.setMute = function(mute) {\n            if (!utils.exists(mute)) {\n                mute = !(this.getMute());\n            }\n            this.set('mute', mute);\n            if (_provider) {\n                _provider.mute(mute);\n            }\n            if (!mute) {\n                var volume = Math.max(10, this.get('volume'));\n                this.set('autostartMuted', false);\n                this.setVolume(volume);\n            }\n        };\n\n        this.setStreamType = function(streamType) {\n            this.set('streamType', streamType);\n            if (streamType === 'LIVE') {\n                this.setPlaybackRate(1);\n            }\n        };\n\n        this.setPlaybackRate = function(playbackRate) {\n            if (!_attached || !_.isNumber(playbackRate)) {\n                return;\n            }\n\n            // Clamp the rate between 0.25x and 4x\n            playbackRate = utils.between(playbackRate, 0.25, 4);\n\n            if (this.get('streamType') === 'LIVE') {\n                playbackRate = 1;\n            }\n\n            this.set('defaultPlaybackRate', playbackRate);\n\n            if (_provider && _provider.setPlaybackRate) {\n                _provider.setPlaybackRate(playbackRate);\n            }\n        };\n\n        // The model is also the mediaController for now\n        this.loadVideo = function(item) {\n            if (!item) {\n                item = this.get('playlist')[this.get('item')];\n            }\n            this.set('position', item.starttime || 0);\n            this.set('duration', (item.duration && utils.seconds(item.duration)) || 0);\n            this.mediaModel.set('playAttempt', true);\n            this.mediaController.trigger(events.JWPLAYER_MEDIA_PLAY_ATTEMPT, { playReason: this.get('playReason') });\n\n            _provider.load(item);\n        };\n\n        this.stopVideo = function() {\n            if (_provider) {\n                _provider.stop();\n            }\n        };\n\n        this.playVideo = function() {\n            _provider.play();\n        };\n\n        this.persistCaptionsTrack = function() {\n            var track = this.get('captionsTrack');\n\n            if (track) {\n                // update preference if an option was selected\n                this.set('captionLabel', track.name);\n            } else {\n                this.set('captionLabel', 'Off');\n            }\n        };\n\n\n        this.setVideoSubtitleTrack = function(trackIndex, tracks) {\n            this.set('captionsIndex', trackIndex);\n            /*\n             * Tracks could have changed even if the index hasn't.\n             * Need to ensure track has data for captionsrenderer.\n             */\n            if (trackIndex && tracks && trackIndex <= tracks.length && tracks[trackIndex - 1].data) {\n                this.set('captionsTrack', tracks[trackIndex - 1]);\n            }\n\n            if (_provider && _provider.setSubtitlesTrack) {\n                _provider.setSubtitlesTrack(trackIndex);\n            }\n        };\n\n        this.persistVideoSubtitleTrack = function(trackIndex, tracks) {\n            this.setVideoSubtitleTrack(trackIndex, tracks);\n            this.persistCaptionsTrack();\n        };\n\n        function _autoStartSupportedIOS() {\n            if (!utils.isIOS()) {\n                return false;\n            }\n            // Autostart only supported in iOS 10 or higher - check if the version is 9 or less\n            return !(utils.isIOS(6) || utils.isIOS(7) || utils.isIOS(8) || utils.isIOS(9));\n        }\n\n        function platformCanAutostart() {\n            var autostartAdsIsEnabled = (!_this.get('advertising') || _this.get('advertising').autoplayadsmuted);\n            var iosBrowserIsSupported = _autoStartSupportedIOS() && (utils.isSafari() || utils.isChrome() || utils.isFacebook());\n            var androidBrowserIsSupported = utils.isAndroid() && utils.isChrome();\n            var mobileBrowserIsSupported = (iosBrowserIsSupported || androidBrowserIsSupported);\n            var isAndroidSdk = _this.get('sdkplatform') === 1;\n            return (!_this.get('sdkplatform') && autostartAdsIsEnabled && mobileBrowserIsSupported) || isAndroidSdk;\n        }\n\n        this.autoStartOnMobile = function() {\n            return this.get('autostart') && platformCanAutostart();\n        };\n\n        // Mobile players always wait to become viewable.\n        // Desktop players must have autostart set to viewable\n        this.setAutoStart = function(autoStart) {\n            if (!_.isUndefined(autoStart)) {\n                this.set('autostart', autoStart);\n            }\n\n            const autoStartOnMobile = this.autoStartOnMobile();\n            if (autoStartOnMobile) {\n                this.set('autostartMuted', true);\n            }\n            this.set('playOnViewable', autoStartOnMobile || this.get('autostart') === 'viewable');\n        };\n    };\n\n    // Represents the state of the provider/media element\n    var MediaModel = Model.MediaModel = function() {\n        this.set('state', states.IDLE);\n    };\n\n    _.extend(Model.prototype, SimpleModel);\n    _.extend(MediaModel.prototype, SimpleModel);\n\n    return Model;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/model.js\n **/","define([\n    'providers/default',\n    'providers/providers-supported',\n    'providers/providers-loaded',\n    'utils/underscore',\n    'utils/defaults'\n], function(Default, ProvidersSupported, ProvidersLoaded, _, defaults) {\n\n    function Providers(config) {\n        this.config = config || {};\n        this.providers = this.reorderProviders(this.config.primary);\n    }\n\n    Providers.loaders = {\n        html5: function(resolvePromise) {\n            require.ensure(['providers/html5'], function(require) {\n                var provider = require('providers/html5');\n                registerProvider(provider);\n                resolvePromise(provider);\n            }, 'provider.html5');\n        },\n        flash: function(resolvePromise) {\n            require.ensure(['providers/flash'], function(require) {\n                var provider = require('providers/flash');\n                registerProvider(provider);\n                resolvePromise(provider);\n            }, 'provider.flash');\n        },\n        youtube: function(resolvePromise) {\n            require.ensure(['providers/youtube'], function(require) {\n                var provider = require('providers/youtube');\n                registerProvider(provider);\n                resolvePromise(provider);\n            }, 'provider.youtube');\n        }\n    };\n\n    var registerProvider = Providers.registerProvider = function(provider) {\n        var name = provider.getName().name;\n\n        // Only register the provider if it isn't registered already.  This is an issue on pages with multiple embeds.\n        if (ProvidersLoaded[name]) {\n            return;\n        }\n\n        // If there isn't a \"supports\" val for this guy\n        if (!_.find(ProvidersSupported, _.matches({ name: name }))) {\n            if (!_.isFunction(provider.supports)) {\n                throw new Error('Tried to register a provider with an invalid object');\n            }\n\n            // The most recent provider will be in the front of the array, and chosen first\n            ProvidersSupported.unshift({\n                name: name,\n                supports: provider.supports\n            });\n        }\n\n        // Fill in any missing properties with the defaults - looks at the prototype chain\n        defaults(provider.prototype, Default);\n\n        // After registration, it is loaded\n        ProvidersLoaded[name] = provider;\n    };\n\n    _.extend(Providers.prototype, {\n\n        load: function(providersToLoad) {\n            return Promise.all(_.map(providersToLoad, function(provider) {\n                return new Promise(function(resolvePromise) {\n                    var providerLoaderMethod = Providers.loaders[provider.name];\n                    if (providerLoaderMethod) {\n                        providerLoaderMethod(resolvePromise);\n                    } else {\n                        resolvePromise(/* unknown registered module */);\n                    }\n                });\n            }));\n        },\n\n        reorderProviders: function (primary) {\n            var providers = _.clone(ProvidersSupported);\n\n            if (primary === 'flash') {\n                var flashIdx = _.indexOf(providers, _.findWhere(providers, { name: 'flash' }));\n                var flashProvider = providers.splice(flashIdx, 1)[0];\n                var html5Idx = _.indexOf(providers, _.findWhere(providers, { name: 'html5' }));\n                providers.splice(html5Idx, 0, flashProvider);\n            }\n            return providers;\n        },\n\n        providerSupports: function(provider, source) {\n            return provider.supports(source);\n        },\n\n        required: function(playlist, primary) {\n            var _this = this;\n            var providers = this.reorderProviders(primary);\n\n            playlist = playlist.slice();\n            return _.compact(_.map(providers, function(provider) {\n                // remove items from copied playlist that can be played by provider\n                // remaining providers will be checked against any remaining items\n                // provider will be loaded if there are matches\n                var loadProvider = false;\n                for (var i = playlist.length; i--;) {\n                    var item = playlist[i];\n                    var supported = _this.providerSupports(provider, item.sources[0]);\n                    if (supported) {\n                        playlist.splice(i, 1);\n                    }\n                    loadProvider = loadProvider || supported;\n                }\n                if (loadProvider) {\n                    return provider;\n                }\n            }));\n        },\n\n        // Find the name of the first provider which can support the media source-type\n        choose: function(source) {\n            // prevent throw on missing source\n            source = _.isObject(source) ? source : {};\n\n            var count = this.providers.length;\n            for (var i = 0; i < count; i++) {\n                var provider = this.providers[i];\n                if (this.providerSupports(provider, source)) {\n                    // prefer earlier providers\n                    var priority = count - i - 1;\n\n                    return {\n                        priority: priority,\n                        name: provider.name,\n                        type: source.type,\n                        providerToCheck: provider,\n                        // If provider isn't loaded, this will be undefined\n                        provider: ProvidersLoaded[provider.name]\n                    };\n                }\n            }\n\n            return null;\n        }\n    });\n\n    return Providers;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/providers/providers.js\n **/","define([\n    'utils/helpers',\n    'events/events',\n    'events/states',\n    'utils/underscore'\n], function(utils, events, states, _) {\n\n    var noop = utils.noop;\n    var returnFalse = _.constant(false);\n\n    var DefaultProvider = {\n        // This function is required to determine if a provider can work on a given source\n        supports: returnFalse,\n\n        // Basic playback features\n        play: noop,\n        load: noop,\n        stop: noop,\n        volume: noop,\n        mute: noop,\n        seek: noop,\n        resize: noop,\n        remove: noop,  // removes from page\n        destroy: noop, // frees memory\n\n        setVisibility: noop,\n        setFullscreen: returnFalse,\n        getFullscreen: noop,\n\n        // If setContainer has been set, this returns the element.\n        //  It's value is used to determine if we should remove the <video> element when setting a new provider.\n        getContainer: noop,\n\n        // Sets the parent element, causing provider to append <video> into it\n        setContainer: returnFalse,\n\n        getName: noop,\n        getQualityLevels: noop,\n        getCurrentQuality: noop,\n        setCurrentQuality: noop,\n\n        getAudioTracks: noop,\n        getCurrentAudioTrack: noop,\n        setCurrentAudioTrack: noop,\n\n        setPlaybackRate: noop,\n        getPlaybackRate: function() {\n            return 1;\n        },\n\n        // TODO :: The following are targets for removal after refactoring\n        checkComplete: noop,\n        setControls: noop,\n        attachMedia: noop,\n        detachMedia: noop,\n\n        setState: function(state) {\n            var oldState = this.state || states.IDLE;\n            this.state = state;\n\n            if (state === oldState) {\n                return;\n            }\n\n            this.trigger(events.JWPLAYER_PLAYER_STATE, {\n                newstate: state\n            });\n        },\n\n        sendMediaType: function(levels) {\n            var type = levels[0].type;\n            var isAudioFile = (type === 'oga' || type === 'aac' || type === 'mp3' ||\n                type === 'mpeg' || type === 'vorbis');\n\n            this.trigger(events.JWPLAYER_MEDIA_TYPE, {\n                mediaType: isAudioFile ? 'audio' : 'video'\n            });\n        }\n    };\n\n\n    // Make available to other providers for extending\n    return DefaultProvider;\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/providers/default.js\n **/","define([\n    'providers/html5-android-hls',\n    'utils/helpers',\n    'utils/underscore',\n    'utils/video'\n], function(getIsAndroidHLS, utils, _, video) {\n\n    var SupportsMatrix = [\n        {\n            name: 'youtube',\n            supports: function (source) {\n                return (utils.isYouTube(source.file, source.type));\n            }\n        },\n        {\n            name: 'html5',\n            supports: function (source) {\n                var MimeTypes = {\n                    aac: 'audio/mp4',\n                    mp4: 'video/mp4',\n                    f4v: 'video/mp4',\n                    m4v: 'video/mp4',\n                    mov: 'video/mp4',\n                    mp3: 'audio/mpeg',\n                    mpeg: 'audio/mpeg',\n                    ogv: 'video/ogg',\n                    ogg: 'video/ogg',\n                    oga: 'video/ogg',\n                    vorbis: 'video/ogg',\n                    webm: 'video/webm',\n                    // The following are not expected to work in Chrome\n                    f4a: 'video/aac',\n                    m3u8: 'application/vnd.apple.mpegurl',\n                    m3u: 'application/vnd.apple.mpegurl',\n                    hls: 'application/vnd.apple.mpegurl'\n                };\n\n                var file = source.file;\n                var type = source.type;\n\n                var isAndroidHLS = getIsAndroidHLS(source);\n                if (isAndroidHLS !== null) {\n                    return isAndroidHLS;\n                }\n\n                // Ensure RTMP files are not seen as videos\n                if (utils.isRtmp(file, type)) {\n                    return false;\n                }\n\n                // Not OK to use HTML5 with no extension\n                if (!MimeTypes[type]) {\n                    return false;\n                }\n\n                // Last, but not least, we ask the browser\n                // (But only if it's a video with an extension known to work in HTML5)\n                if (video.canPlayType) {\n                    var result = video.canPlayType(MimeTypes[type]);\n                    return !!result;\n                }\n                return false;\n            }\n        },\n        {\n            name: 'flash',\n            supports: function (source) {\n                var flashExtensions = {\n                    flv: 'video',\n                    f4v: 'video',\n                    mov: 'video',\n                    m4a: 'video',\n                    m4v: 'video',\n                    mp4: 'video',\n                    aac: 'video',\n                    f4a: 'video',\n                    mp3: 'sound',\n                    mpeg: 'sound',\n                    smil: 'rtmp'\n                };\n                var PLAYABLE = _.keys(flashExtensions);\n                if (!utils.isFlashSupported()) {\n                    return false;\n                }\n\n                var file = source.file;\n                var type = source.type;\n\n                if (utils.isRtmp(file, type)) {\n                    return true;\n                }\n\n                return _.contains(PLAYABLE, type);\n            }\n        }\n    ];\n\n    return SupportsMatrix;\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/providers/providers-supported.js\n **/","define([\n    'utils/browser'\n], function(browser) {\n\n    return function getIsAndroidHLS(source) {\n        if (source.type === 'hls') {\n            if (source.androidhls === false && browser.isAndroid()) {\n                return false;\n            }\n            // When androidhls is not set to false, allow HLS playback on Android 4.1 and up\n            var isAndroidNative = browser.isAndroidNative;\n            if (isAndroidNative(2) || isAndroidNative(3) || isAndroidNative('4.0')) {\n                return false;\n            } else if (browser.isAndroid() && !browser.isFF()) {\n                // skip canPlayType check\n                // canPlayType returns '' in native browser even though HLS will play\n                return true;\n            }\n        }\n        return null;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/providers/html5-android-hls.js\n **/","define([], function() {\n    return document.createElement('video');\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/video.js\n **/","define([\n    // Any providers required here will be bundled in jwplayer.js embed\n    //  because they are commented out, html5 and flash js will be split into seperate files starting in 7.5.0\n    // 'providers/html5',\n    // 'providers/flash'\n], function() {\n\n    return {\n        // html5: html5,\n        // flash: flash\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/providers/providers-loaded.js\n **/","define([\n    'utils/underscore'\n], function (_) {\n    // Adds properties to the first object from the rest\n    // Does not add properties which exist anywhere in the object or it's prototype chain (no shadowing, no overriding)\n    return function Defaults(obj) {\n        _.each(Array.prototype.slice.call(arguments, 1), function(source) {\n            if (source) {\n                for (var prop in source) {\n                    if (!(prop in obj)) {\n                        obj[prop] = source[prop];\n                    }\n                }\n            }\n        });\n        return obj;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/defaults.js\n **/","define([\n    'utils/underscore',\n    'utils/helpers',\n    'parsers/parsers',\n    'parsers/captions/srt',\n    'parsers/captions/dfxp',\n    'parsers/captions/vttcue'\n], function(_, utils, parsers, srt, dfxp, VTTCue) {\n    var tracksLoader = {};\n\n    tracksLoader.loadFile = function(track, successHandler, errorHandler) {\n        track.xhr = utils.ajax(track.file, function(xhr) {\n            xhrSuccess.call(tracksLoader, xhr, track, successHandler, errorHandler);\n        }, errorHandler);\n    };\n\n    tracksLoader.cancelXhr = function(tracks) {\n        _.each(tracks, function(track) {\n            var xhr = track.xhr;\n            if (xhr) {\n                xhr.onload = null;\n                xhr.onreadystatechange = null;\n                xhr.onerror = null;\n                if ('abort' in xhr) {\n                    xhr.abort();\n                }\n            }\n            delete track.xhr;\n        });\n    };\n\n    tracksLoader.convertToVTTCues = function(cues) {\n        // VTTCue is available natively or polyfilled where necessary\n        // TODO: if there's no window object, polyfill this\n        var vttCues = _.map(cues, function (cue) {\n            return new VTTCue(cue.begin, cue.end, cue.text);\n        });\n        return vttCues;\n    };\n\n    function xhrSuccess(xhr, track, successHandler, errorHandler) {\n        var xmlRoot = xhr.responseXML ? xhr.responseXML.firstChild : null;\n        var cues;\n        var vttCues;\n\n        // IE9 sets the firstChild element to the root <xml> tag\n        if (xmlRoot) {\n            if (parsers.localName(xmlRoot) === 'xml') {\n                xmlRoot = xmlRoot.nextSibling;\n            }\n            // Ignore all comments\n            while (xmlRoot.nodeType === xmlRoot.COMMENT_NODE) {\n                xmlRoot = xmlRoot.nextSibling;\n            }\n        }\n\n        try {\n            if (xmlRoot && parsers.localName(xmlRoot) === 'tt') {\n                // parse dfxp track\n                cues = dfxp(xhr.responseXML);\n                vttCues = this.convertToVTTCues(cues);\n                delete track.xhr;\n                successHandler(vttCues);\n            } else {\n                // parse VTT/SRT track\n                var responseText = xhr.responseText;\n\n                // TODO: parse SRT with using vttParser and deprecate srt module\n                if (responseText.indexOf('WEBVTT') >= 0) {\n                    // make VTTCues from VTT track\n                    parseCuesFromText(responseText, track, successHandler, errorHandler);\n                } else {\n                    // make VTTCues from SRT track\n                    cues = srt(responseText);\n                    vttCues = this.convertToVTTCues(cues);\n                    delete track.xhr;\n                    successHandler(vttCues);\n                }\n            }\n        } catch (error) {\n            delete track.xhr;\n            errorHandler(error);\n        }\n    }\n\n    function parseCuesFromText(text, track, successHandler, errorHandler) {\n        require.ensure(['../parsers/captions/vttparser'], function (require) {\n            var VTTParser = require('../parsers/captions/vttparser');\n            var parser = new VTTParser(window);\n            var vttCues = [];\n            parser.oncue = function(cue) {\n                vttCues.push(cue);\n            };\n\n            parser.onflush = function() {\n                delete track.xhr;\n                successHandler(vttCues);\n            };\n\n            try {\n                // Parse calls onflush internally\n                parser.parse(text);\n            } catch (error) {\n                delete track.xhr;\n                errorHandler(error);\n            }\n\n        }, 'vttparser');\n    }\n\n    return tracksLoader;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/tracks-loader.js\n **/","define([\n    'utils/strings'\n], function(strings) {\n    return {\n        localName: function (node) {\n            var localName = '';\n            if (node) {\n                if (node.localName) {\n                    localName = node.localName;\n                } else if (node.baseName) {\n                    localName = node.baseName;\n                }\n            }\n            return localName;\n        },\n        textContent: function (node) {\n            var textContent = '';\n\n            if (node) {\n                if (node.textContent) {\n                    textContent = strings.trim(node.textContent);\n                } else if (node.text) {\n                    textContent = strings.trim(node.text);\n                }\n            }\n\n            return textContent;\n        },\n        getChildNode: function (parent, index) {\n            return parent.childNodes[index];\n        },\n        numChildren: function (parent) {\n            if (parent.childNodes) {\n                return parent.childNodes.length;\n            }\n            return 0;\n        }\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/parsers/parsers.js\n **/","define([\n    'utils/helpers',\n    'utils/strings'\n], function(utils, strings) {\n    // Component that loads and parses an SRT file\n    var _seconds = utils.seconds;\n\n    return function Srt(data) {\n        // Trim whitespace and split the list by returns.\n        var _captions = [];\n        data = strings.trim(data);\n        var list = data.split('\\r\\n\\r\\n');\n        if (list.length === 1) {\n            list = data.split('\\n\\n');\n        }\n\n        for (var i = 0; i < list.length; i++) {\n            if (list[i] === 'WEBVTT') {\n                continue;\n            }\n            // Parse each entry\n            var entry = _entry(list[i]);\n            if (entry.text) {\n                _captions.push(entry);\n            }\n        }\n\n        return _captions;\n    };\n\n\n    /** Parse a single captions entry. **/\n    function _entry(data) {\n        var entry = {};\n        var array = data.split('\\r\\n');\n        if (array.length === 1) {\n            array = data.split('\\n');\n        }\n        var idx = 1;\n        if (array[0].indexOf(' --> ') > 0) {\n            idx = 0;\n        }\n        if (array.length > idx + 1 && array[idx + 1]) {\n            // This line contains the start and end.\n            var line = array[idx];\n            var index = line.indexOf(' --> ');\n            if (index > 0) {\n                entry.begin = _seconds(line.substr(0, index));\n                entry.end = _seconds(line.substr(index + 5));\n                // Remaining lines contain the text\n                entry.text = array.slice(idx + 1).join('\\r\\n');\n            }\n        }\n        return entry;\n\n    }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/parsers/captions/srt.js\n **/","define([\n    'utils/strings'\n], function(strings) {\n    // Component that loads and parses an DFXP file\n    var _seconds = strings.seconds;\n\n    return function Dfxp(xmlDoc) {\n        validate(xmlDoc);\n        var _captions = [];\n        var paragraphs = xmlDoc.getElementsByTagName('p');\n        // Default frameRate is 30\n        var frameRate = 30;\n        var tt = xmlDoc.getElementsByTagName('tt');\n        if (tt && tt[0]) {\n            var parsedFrameRate = parseFloat(tt[0].getAttribute('ttp:frameRate'));\n            if (!isNaN(parsedFrameRate)) {\n                frameRate = parsedFrameRate;\n            }\n        }\n        validate(paragraphs);\n        if (!paragraphs.length) {\n            paragraphs = xmlDoc.getElementsByTagName('tt:p');\n            if (!paragraphs.length) {\n                paragraphs = xmlDoc.getElementsByTagName('tts:p');\n            }\n        }\n\n        for (var i = 0; i < paragraphs.length; i++) {\n            var p = paragraphs[i];\n\n            var breaks = p.getElementsByTagName('br');\n            for (var j = 0; j < breaks.length; j++) {\n                var b = breaks[j];\n                b.parentNode.replaceChild(xmlDoc.createTextNode('\\r\\n'), b);\n            }\n\n            var rawText = (p.innerHTML || p.textContent || p.text || '');\n            var text = strings.trim(rawText).replace(/>\\s+</g, '><').replace(/(<\\/?)tts?:/g, '$1').replace(/<br.*?\\/>/g, '\\r\\n');\n            if (text) {\n                var begin = p.getAttribute('begin');\n                var dur = p.getAttribute('dur');\n                var end = p.getAttribute('end');\n\n                var entry = {\n                    begin: _seconds(begin, frameRate),\n                    text: text\n                };\n                if (end) {\n                    entry.end = _seconds(end, frameRate);\n                } else if (dur) {\n                    entry.end = entry.begin + _seconds(dur, frameRate);\n                }\n                _captions.push(entry);\n            }\n        }\n        if (!_captions.length) {\n            parseError();\n        }\n        return _captions;\n    };\n\n    function validate(object) {\n        if (!object) {\n            parseError();\n        }\n    }\n\n    function parseError() {\n        throw new Error('Invalid DFXP file');\n    }\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/parsers/captions/dfxp.js\n **/","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\ndefine(function() {\n\n    if (window.VTTCue) {\n        return window.VTTCue;\n    }\n\n    var autoKeyword = 'auto';\n    var directionSetting = {\n        '': true,\n        lr: true,\n        rl: true\n    };\n    var alignSetting = {\n        start: true,\n        middle: true,\n        end: true,\n        left: true,\n        right: true\n    };\n\n    function findDirectionSetting(value) {\n        if (typeof value !== 'string') {\n            return false;\n        }\n        var dir = directionSetting[value.toLowerCase()];\n        return dir ? value.toLowerCase() : false;\n    }\n\n    function findAlignSetting(value) {\n        if (typeof value !== 'string') {\n            return false;\n        }\n        var align = alignSetting[value.toLowerCase()];\n        return align ? value.toLowerCase() : false;\n    }\n\n    function VTTCue(startTime, endTime, text) {\n        var cue = this;\n\n        /**\n         * Shim implementation specific properties. These properties are not in\n         * the spec.\n         */\n\n        // Lets us know when the VTTCue's data has changed in such a way that we need\n        // to recompute its display state. This lets us compute its display state\n        // lazily.\n        cue.hasBeenReset = false;\n\n        /**\n         * VTTCue and TextTrackCue properties\n         * http://dev.w3.org/html5/webvtt/#vttcue-interface\n         */\n\n        var _id = '';\n        var _pauseOnExit = false;\n        var _startTime = startTime;\n        var _endTime = endTime;\n        var _text = text;\n        var _region = null;\n        var _vertical = '';\n        var _snapToLines = true;\n        var _line = 'auto';\n        var _lineAlign = 'start';\n        var _position = 50;\n        var _positionAlign = 'middle';\n        var _size = 50;\n        var _align = 'middle';\n\n        Object.defineProperty(cue, 'id', {\n            enumerable: true,\n            get: function() {\n                return _id;\n            },\n            set: function(value) {\n                _id = '' + value;\n            }\n        });\n\n        Object.defineProperty(cue, 'pauseOnExit', {\n            enumerable: true,\n            get: function() {\n                return _pauseOnExit;\n            },\n            set: function(value) {\n                _pauseOnExit = !!value;\n            }\n        });\n\n        Object.defineProperty(cue, 'startTime', {\n            enumerable: true,\n            get: function() {\n                return _startTime;\n            },\n            set: function(value) {\n                if (typeof value !== 'number') {\n                    throw new TypeError('Start time must be set to a number.');\n                }\n                _startTime = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'endTime', {\n            enumerable: true,\n            get: function() {\n                return _endTime;\n            },\n            set: function(value) {\n                if (typeof value !== 'number') {\n                    throw new TypeError('End time must be set to a number.');\n                }\n                _endTime = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'text', {\n            enumerable: true,\n            get: function() {\n                return _text;\n            },\n            set: function(value) {\n                _text = '' + value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'region', {\n            enumerable: true,\n            get: function() {\n                return _region;\n            },\n            set: function(value) {\n                _region = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'vertical', {\n            enumerable: true,\n            get: function() {\n                return _vertical;\n            },\n            set: function(value) {\n                var setting = findDirectionSetting(value);\n                // Have to check for false because the setting an be an empty string.\n                if (setting === false) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _vertical = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'snapToLines', {\n            enumerable: true,\n            get: function() {\n                return _snapToLines;\n            },\n            set: function(value) {\n                _snapToLines = !!value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'line', {\n            enumerable: true,\n            get: function() {\n                return _line;\n            },\n            set: function(value) {\n                if (typeof value !== 'number' && value !== autoKeyword) {\n                    throw new SyntaxError('An invalid number or illegal string was specified.');\n                }\n                _line = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'lineAlign', {\n            enumerable: true,\n            get: function() {\n                return _lineAlign;\n            },\n            set: function(value) {\n                var setting = findAlignSetting(value);\n                if (!setting) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _lineAlign = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'position', {\n            enumerable: true,\n            get: function() {\n                return _position;\n            },\n            set: function(value) {\n                if (value < 0 || value > 100) {\n                    throw new Error('Position must be between 0 and 100.');\n                }\n                _position = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'positionAlign', {\n            enumerable: true,\n            get: function() {\n                return _positionAlign;\n            },\n            set: function(value) {\n                var setting = findAlignSetting(value);\n                if (!setting) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _positionAlign = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'size', {\n            enumerable: true,\n            get: function() {\n                return _size;\n            },\n            set: function(value) {\n                if (value < 0 || value > 100) {\n                    throw new Error('Size must be between 0 and 100.');\n                }\n                _size = value;\n                this.hasBeenReset = true;\n            }\n        });\n\n        Object.defineProperty(cue, 'align', {\n            enumerable: true,\n            get: function() {\n                return _align;\n            },\n            set: function(value) {\n                var setting = findAlignSetting(value);\n                if (!setting) {\n                    throw new SyntaxError('An invalid or illegal string was specified.');\n                }\n                _align = setting;\n                this.hasBeenReset = true;\n            }\n        });\n\n        /**\n         * Other <track> spec defined properties\n         */\n\n        // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n        cue.displayState = undefined;\n    }\n\n    /**\n     * VTTCue methods\n     */\n\n    VTTCue.prototype.getCueAsHTML = function() {\n        // Assume WebVTT.convertCueToDOMTree is on the global.\n        var WebVTT = window.WebVTT;\n        return WebVTT.convertCueToDOMTree(window, this.text);\n    };\n\n    return VTTCue;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/parsers/captions/vttcue.js\n **/","define([\n], function() {\n    return {\n        createId: function (track, tracksCount) {\n            var trackId;\n            var prefix = track.kind || 'cc';\n            if (track.default || track.defaulttrack) {\n                trackId = 'default';\n            } else {\n                trackId = track._id || track.file || (prefix + tracksCount);\n            }\n            return trackId;\n        },\n        createLabel: function (track, unknownCount) {\n            var label = track.label || track.name || track.language;\n            if (!label) {\n                label = 'Unknown CC';\n                unknownCount += 1;\n                if (unknownCount > 1) {\n                    label += ' [' + unknownCount + ']';\n                }\n            }\n            return { label: label, unknownCount: unknownCount };\n        }\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/tracks-helper.js\n **/","define([\n    'utils/helpers',\n    'utils/backbone.events',\n    'utils/underscore'\n], function(utils, Events, _) {\n\n    // Defaults\n    var BGCOLOR = '#000000';\n\n    function appendParam(object, name, value) {\n        var param = document.createElement('param');\n        param.setAttribute('name', name);\n        param.setAttribute('value', value);\n        object.appendChild(param);\n    }\n\n    function addGetter(obj, property, value) {\n        Object.defineProperty(obj, property, {\n            get: function() {\n                return value;\n            }\n        });\n    }\n\n    function embed(swfUrl, container, id, wmode) {\n        var swf;\n        var queueCommands = true;\n\n        wmode = wmode || 'opaque';\n\n        if (utils.isMSIE()) {\n            // IE9 works best with outerHTML\n            var temp = document.createElement('div');\n            container.appendChild(temp);\n\n            temp.outerHTML = '<object classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"' +\n                ' width=\"100%\" height=\"100%\" id=\"' + id +\n                '\" name=\"' + id +\n                '\" tabindex=\"0\">' +\n                '<param name=\"movie\" value=\"' + swfUrl + '\">' +\n                '<param name=\"allowfullscreen\" value=\"true\">' +\n                '<param name=\"allowscriptaccess\" value=\"always\">' +\n                '<param name=\"wmode\" value=\"' + wmode + '\">' +\n                '<param name=\"bgcolor\" value=\"' + BGCOLOR + '\">' +\n                '<param name=\"menu\" value=\"false\">' +\n                '</object>';\n\n            var objectElements = container.getElementsByTagName('object');\n            for (var i = objectElements.length; i--;) {\n                if (objectElements[i].id === id) {\n                    swf = objectElements[i];\n                }\n            }\n\n        } else {\n            swf = document.createElement('object');\n            swf.setAttribute('type', 'application/x-shockwave-flash');\n            swf.setAttribute('data', swfUrl);\n            swf.setAttribute('width', '100%');\n            swf.setAttribute('height', '100%');\n            swf.setAttribute('bgcolor', BGCOLOR);\n            swf.setAttribute('id', id);\n            swf.setAttribute('name', id);\n\n            appendParam(swf, 'allowfullscreen', 'true');\n            appendParam(swf, 'allowscriptaccess', 'always');\n            appendParam(swf, 'wmode', wmode);\n            appendParam(swf, 'menu', 'false');\n\n            container.appendChild(swf, container);\n        }\n\n        swf.className = 'jw-swf jw-reset';\n        swf.style.display = 'block';\n        swf.style.position = 'absolute';\n        swf.style.left = 0;\n        swf.style.right = 0;\n        swf.style.top = 0;\n        swf.style.bottom = 0;\n        if (utils.isIE() && ('PointerEvent' in window)) {\n            swf.style.pointerEvents = 'none';\n        }\n\n        // flash can trigger events\n        var processEventsTimeout = -1;\n        addGetter(swf, 'on', Events.on);\n        addGetter(swf, 'once', Events.once);\n        addGetter(swf, '_eventQueue', []);\n        addGetter(swf, 'off', function() {\n            var args = Array.prototype.slice.call(arguments);\n            if (!args.length) {\n                swf._eventQueue.length = 0;\n                clearTimeout(processEventsTimeout);\n            }\n            return Events.off.apply(swf, args);\n        });\n        addGetter(swf, 'trigger', function(type, json) {\n            var eventQueue = swf._eventQueue;\n            eventQueue.push({ type: type, json: json });\n            if (processEventsTimeout > -1) {\n                return;\n            }\n            processEventsTimeout = setTimeout(function() {\n                var length = eventQueue.length;\n                processEventsTimeout = -1;\n                while (length--) {\n                    var event = eventQueue.shift();\n                    if (event.json) {\n                        var data = JSON.parse(decodeURIComponent(event.json));\n                        Events.trigger.call(swf, event.type, data);\n                    } else {\n                        Events.trigger.call(swf, event.type);\n                    }\n                }\n            });\n        });\n        addGetter(swf, '_events', {});\n\n        // javascript can trigger SwfEventRouter callbacks\n        addGetter(swf, 'triggerFlash', function(name) {\n            if (name === 'setupCommandQueue') {\n                queueCommands = false;\n            }\n\n            if (name !== 'setup' && queueCommands || !swf.__externalCall) {\n                var commandQueue = swf.__commandQueue;\n                // remove any earlier commands with the same name\n                for (var j = commandQueue.length; j--;) {\n                    if (commandQueue[j][0] === name) {\n                        commandQueue.splice(j, 1);\n                    }\n                }\n                commandQueue.push(Array.prototype.slice.call(arguments));\n                return swf;\n            }\n\n            var args = Array.prototype.slice.call(arguments, 1);\n            var status = utils.tryCatch(function() {\n                if (args.length) {\n                    // remove any nodes from arguments\n                    // cyclical structures cannot be converted to JSON\n                    for (var k = args.length; k--;) {\n                        if (typeof args[k] === 'object') {\n                            _.each(args[k], deleteHTMLElement);\n                        }\n                    }\n                    var json = JSON.stringify(args);\n                    swf.__externalCall(name, json);\n                } else {\n                    swf.__externalCall(name);\n                }\n            });\n\n            if (status instanceof utils.Error) {\n                console.error(name, status);\n                if (name === 'setup') {\n                    status.name = 'Failed to setup flash';\n                    return status;\n                }\n            }\n            return swf;\n        });\n\n        // commands are queued when __externalCall is not available\n        addGetter(swf, '__commandQueue', []);\n\n        return swf;\n    }\n\n    function remove(swf) {\n        if (swf && swf.parentNode) {\n            swf.style.display = 'none';\n            swf.parentNode.removeChild(swf);\n            swf = null;\n        }\n    }\n\n    function deleteHTMLElement(value, prop, object) {\n        if (value instanceof window.HTMLElement) {\n            delete object[prop];\n        }\n    }\n\n    return {\n        embed: embed,\n        remove: remove\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/embedswf.js\n **/","define([\n    'events/events',\n    'utils/backbone.events',\n    'utils/underscore'\n], function(events, Events, _) {\n    var _loaders = {};\n\n    var STATUS = {\n        NEW: 0,\n        LOADING: 1,\n        ERROR: 2,\n        COMPLETE: 3\n    };\n\n    var scriptloader = function (url, isStyle) {\n        var _this = _.extend(this, Events);\n        var _status = STATUS.NEW;\n\n        // legacy support\n        this.addEventListener = this.on;\n        this.removeEventListener = this.off;\n\n\n        function _sendError(evt) {\n            _status = STATUS.ERROR;\n            _this.trigger(events.ERROR, evt);\n        }\n\n        function _sendComplete(evt) {\n            _status = STATUS.COMPLETE;\n            _this.trigger(events.COMPLETE, evt);\n        }\n\n        this.makeStyleLink = function(styleUrl) {\n            var link = document.createElement('link');\n            link.type = 'text/css';\n            link.rel = 'stylesheet';\n            link.href = styleUrl;\n            return link;\n        };\n        this.makeScriptTag = function(scriptUrl) {\n            var scriptTag = document.createElement('script');\n            scriptTag.src = scriptUrl;\n            return scriptTag;\n        };\n\n        this.makeTag = (isStyle ? this.makeStyleLink : this.makeScriptTag);\n\n        this.load = function () {\n            // Only execute on the first run\n            if (_status !== STATUS.NEW) {\n                return;\n            }\n\n            // If we already have a scriptloader loading the same script, don't create a new one;\n            var sameLoader = _loaders[url];\n            if (sameLoader) {\n                _status = sameLoader.getStatus();\n                if (_status < 2) {\n                    // dispatch to this instances listeners when the first loader gets updates\n                    sameLoader.on(events.ERROR, _sendError);\n                    sameLoader.on(events.COMPLETE, _sendComplete);\n                    return;\n                }\n                // already errored or loaded... keep going?\n            }\n\n            var head = document.getElementsByTagName('head')[0] || document.documentElement;\n            var scriptTag = this.makeTag(url);\n\n            var done = false;\n            scriptTag.onload = scriptTag.onreadystatechange = function (evt) {\n                if (!done &&\n                    (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete')) {\n                    done = true;\n                    _sendComplete(evt);\n\n                    // Handle memory leak in IE\n                    scriptTag.onload = scriptTag.onreadystatechange = null;\n                    if (head && scriptTag.parentNode && !isStyle) {\n                        head.removeChild(scriptTag);\n                    }\n                }\n            };\n            scriptTag.onerror = _sendError;\n\n            head.insertBefore(scriptTag, head.firstChild);\n\n            _status = STATUS.LOADING;\n            _loaders[url] = this;\n        };\n\n        this.getStatus = function () {\n            return _status;\n        };\n    };\n\n    scriptloader.loaderstatus = STATUS;\n\n    return scriptloader;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/scriptloader.js\n **/","define([\n    'utils/timer',\n    'utils/underscore'\n], function(Timer, _) {\n\n    // Copied from events.js until we can export individual constants with ES6\n    var JWPLAYER_PLAYLIST_ITEM = 'playlistItem';\n    var JWPLAYER_MEDIA_PLAY_ATTEMPT = 'playAttempt';\n    var JWPLAYER_PROVIDER_FIRST_FRAME = 'providerFirstFrame';\n    var JWPLAYER_MEDIA_FIRST_FRAME = 'firstFrame';\n    var JWPLAYER_MEDIA_TIME = 'time';\n\n    var TAB_HIDDEN = 'tabHidden';\n    var TAB_VISIBLE = 'tabVisible';\n\n    // This is to provide a first frame event even when\n    //  a provider does not give us one.\n    var onTimeIncreasesGenerator = (function(callback) {\n        var lastVal = 0;\n        return function (evt) {\n            var pos = evt.position;\n            if (pos > lastVal) {\n                callback();\n            }\n            // sometimes the number will wrap around (ie 100 down to 0)\n            //  so always update\n            lastVal = pos;\n        };\n    });\n\n    function unbindFirstFrameEvents(model) {\n        model.mediaController.off(JWPLAYER_MEDIA_PLAY_ATTEMPT, model._onPlayAttempt);\n        model.mediaController.off(JWPLAYER_PROVIDER_FIRST_FRAME, model._triggerFirstFrame);\n        model.mediaController.off(JWPLAYER_MEDIA_TIME, model._onTime);\n        model.off('change:activeTab', model._onTabVisible);\n    }\n\n    function trackFirstFrame(model) {\n        if (model._onTabVisible) {\n            unbindFirstFrameEvents(model);\n        }\n\n        // When it occurs, send the event, and unbind all listeners\n        model._triggerFirstFrame = _.once(function() {\n            var qoeItem = model._qoeItem;\n            qoeItem.tick(JWPLAYER_MEDIA_FIRST_FRAME);\n\n            var time = qoeItem.getFirstFrame();\n            model.mediaController.trigger(JWPLAYER_MEDIA_FIRST_FRAME, { loadTime: time });\n            unbindFirstFrameEvents(model);\n        });\n\n        model._onTime = onTimeIncreasesGenerator(model._triggerFirstFrame);\n\n        model._onPlayAttempt = function() {\n            model._qoeItem.tick(JWPLAYER_MEDIA_PLAY_ATTEMPT);\n        };\n\n        // track visibility change\n        model._onTabVisible = function(modelChanged, activeTab) {\n            if (activeTab) {\n                model._qoeItem.tick(TAB_VISIBLE);\n            } else {\n                model._qoeItem.tick(TAB_HIDDEN);\n            }\n        };\n\n        model.on('change:activeTab', model._onTabVisible);\n        model.mediaController.on(JWPLAYER_MEDIA_PLAY_ATTEMPT, model._onPlayAttempt);\n        model.mediaController.once(JWPLAYER_PROVIDER_FIRST_FRAME, model._triggerFirstFrame);\n        model.mediaController.on(JWPLAYER_MEDIA_TIME, model._onTime);\n    }\n\n    function initModel(initialModel) {\n        function onMediaModel(model, mediaModel, oldMediaModel) {\n            // finish previous item\n            if (model._qoeItem && oldMediaModel) {\n                model._qoeItem.end(oldMediaModel.get('state'));\n            }\n            // reset item level qoe\n            model._qoeItem = new Timer();\n            model._qoeItem.getFirstFrame = function() {\n                var time = this.between(JWPLAYER_MEDIA_PLAY_ATTEMPT, JWPLAYER_MEDIA_FIRST_FRAME);\n                // If time between the tab becoming visible and first frame is valid\n                // and less than the time since play attempt, play was not attempted until the tab became visible\n                var timeActive = this.between(TAB_VISIBLE, JWPLAYER_MEDIA_FIRST_FRAME);\n                if (timeActive > 0 && timeActive < time) {\n                    return timeActive;\n                }\n                return time;\n            };\n            model._qoeItem.tick(JWPLAYER_PLAYLIST_ITEM);\n            model._qoeItem.start(mediaModel.get('state'));\n\n            trackFirstFrame(model);\n\n            mediaModel.on('change:state', function (changeMediaModel, newstate, oldstate) {\n                model._qoeItem.end(oldstate);\n                model._qoeItem.start(newstate);\n            });\n        }\n\n        initialModel.on('change:mediaModel', onMediaModel);\n    }\n\n    return {\n        model: initModel\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/qoe.js\n **/","define([\n    'utils/underscore',\n    'utils/backbone.events'\n], function(_, Events) {\n    return _.extend({\n        get: function (attr) {\n            this.attributes = this.attributes || {};\n            return this.attributes[attr];\n        },\n        set: function (attr, val) {\n            this.attributes = this.attributes || {};\n\n            if (this.attributes[attr] === val) {\n                return;\n            }\n            var oldVal = this.attributes[attr];\n            this.attributes[attr] = val;\n            this.trigger('change:' + attr, this, val, oldVal);\n        },\n        clone: function() {\n            return _.clone(this.attributes);\n        },\n        change: function (name, callback, context) {\n            name.split(' ').forEach((handlerName) => {\n                // Register a change handler and immediately invoke the callback with the current value\n                var eventName = 'change:' + handlerName;\n                var currentVal = this.get(handlerName);\n\n                this.on(eventName, callback, context);\n                callback.call(context, this, currentVal, currentVal);\n            });\n\n            return this;\n        }\n    }, Events);\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/simplemodel.js\n **/","define([\n    'utils/backbone.events',\n    'controller/model',\n    'events/change-state-event',\n    'events/events',\n    'events/states',\n    'utils/helpers',\n    'utils/underscore'\n], function(Events, Model, changeStateEvent, events, states, utils, _) {\n\n    var InstreamFlash = function(_controller, _model) {\n        this.model = _model;\n\n        this._adModel = new Model().setup({\n            id: _model.get('id'),\n            volume: _model.get('volume'),\n            fullscreen: _model.get('fullscreen'),\n            mute: _model.get('mute')\n        });\n\n        this._adModel.on('change:state', changeStateEvent, this);\n\n        var container = _controller.getContainer();\n        this.swf = container.querySelector('object');\n    };\n\n    InstreamFlash.prototype = _.extend({\n\n        init: function() {\n            // Pause playback when throttled, and only resume is paused here\n            if (utils.isChrome()) {\n                var _throttleTimeout = -1;\n                var _throttlePaused = false;\n                this.swf.on('throttle', function(e) {\n                    clearTimeout(_throttleTimeout);\n\n                    if (e.state === 'resume') {\n                        if (_throttlePaused) {\n                            _throttlePaused = false;\n                            this.instreamPlay();\n                        }\n                    } else {\n                        var _this = this;\n                        _throttleTimeout = setTimeout(function () {\n                            if (_this._adModel.get('state') === states.PLAYING) {\n                                _throttlePaused = true;\n                                _this.instreamPause();\n                            }\n                        }, 250);\n                    }\n                }, this);\n            }\n\n            this.swf.on('instream:state', this.stateHandler, this)\n            .on('instream:time', function(evt) {\n                this._adModel.set('position', evt.position);\n                this._adModel.set('duration', evt.duration);\n                this.trigger(events.JWPLAYER_MEDIA_TIME, evt);\n            }, this)\n            .on('instream:complete', function(evt) {\n                this.trigger(events.JWPLAYER_MEDIA_COMPLETE, evt);\n            }, this)\n            .on('instream:error', function(evt) {\n                this.trigger(events.JWPLAYER_MEDIA_ERROR, evt);\n            }, this);\n\n            this.swf.triggerFlash('instream:init');\n\n            this.applyProviderListeners = function(provider) {\n                if (!provider) {\n                    return;\n                }\n                this.model.on('change:volume', function(data, value) {\n                    provider.volume(value);\n                }, this);\n                this.model.on('change:mute', function(data, value) {\n                    provider.mute(value);\n                }, this);\n\n                provider.volume(this.model.get('volume'));\n                provider.mute(this.model.get('mute'));\n\n                // update admodel state when set from googima\n                provider.off();\n                provider.on(events.JWPLAYER_PLAYER_STATE, this.stateHandler, this);\n\n                // trigger time evemt when sent from freewheel\n                provider.on(events.JWPLAYER_MEDIA_TIME, function(data) {\n                    this.trigger(events.JWPLAYER_MEDIA_TIME, data);\n                }, this);\n            };\n        },\n\n        stateHandler: function(evt) {\n            switch (evt.newstate) {\n                case states.PLAYING:\n                case states.PAUSED:\n                    this._adModel.set('state', evt.newstate);\n                    break;\n                default:\n                    break;\n            }\n        },\n\n        instreamDestroy: function() {\n            if (!this._adModel) {\n                return;\n            }\n\n            this.off();\n\n            this.swf.off(null, null, this);\n            this.swf.triggerFlash('instream:destroy');\n            this.swf = null;\n\n            this._adModel.off();\n            this._adModel = null;\n\n            this.model = null;\n        },\n\n        load: function(item) {\n            // Show the instream layer\n            this.swf.triggerFlash('instream:load', item);\n        },\n\n        instreamPlay: function() {\n            this.swf.triggerFlash('instream:play');\n        },\n\n        instreamPause: function() {\n            this.swf.triggerFlash('instream:pause');\n        }\n\n    }, Events);\n\n    return InstreamFlash;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/instream-flash.js\n **/","define([\n    'controller/setup-steps',\n    'utils/backbone.events',\n    'utils/underscore',\n    'events/events'\n], function(SetupSteps, Events, _, events) {\n    var Setup = function(_api, _model, _view, _setPlaylist) {\n        var _this = this;\n        var _setupFailureTimeout;\n        var _queue = SetupSteps.getQueue();\n        var _errorTimeoutSeconds = 30;\n\n        this.start = function () {\n            _setupFailureTimeout = setTimeout(_setupTimeoutHandler, _errorTimeoutSeconds * 1000);\n            _nextTask();\n        };\n\n        this.destroy = function() {\n            clearTimeout(_setupFailureTimeout);\n            this.off();\n            _queue.length = 0;\n            _api = null;\n            _model = null;\n            _view = null;\n        };\n\n        function _setupTimeoutHandler() {\n            _error('Setup Timeout Error', 'Setup took longer than ' + _errorTimeoutSeconds + ' seconds to complete.');\n        }\n\n        function _nextTask() {\n            for (var taskName in _queue) {\n                if (Object.prototype.hasOwnProperty.call(_queue, taskName)) {\n                    var c = _queue[taskName];\n                    if (!c.complete && !c.running && _api && _allComplete(c.depends)) {\n                        c.running = true;\n                        callTask(c);\n                    }\n                }\n            }\n        }\n\n        function callTask(task) {\n            var resolve = function(resolveState) {\n                resolveState = resolveState || {};\n                _taskComplete(task, resolveState);\n            };\n\n            task.method(resolve, _model, _api, _view, _setPlaylist);\n        }\n\n        function _allComplete(dependencies) {\n            // return true if empty array,\n            //  or if each object has an attribute 'complete' which is true\n            return _.all(dependencies, function(name) {\n                return _queue[name].complete;\n            });\n        }\n\n        function _taskComplete(task, resolveState) {\n            if (resolveState.type === 'error') {\n                _error(resolveState.msg, resolveState.reason);\n            } else if (resolveState.type === 'complete') {\n                clearTimeout(_setupFailureTimeout);\n                _this.trigger(events.JWPLAYER_READY);\n            } else {\n                task.complete = true;\n                _nextTask();\n            }\n        }\n\n        function _error(message, reason) {\n            clearTimeout(_setupFailureTimeout);\n            _this.trigger(events.JWPLAYER_SETUP_ERROR, {\n                message: message + ': ' + reason\n            });\n            _this.destroy();\n        }\n    };\n\n    Setup.prototype = Events;\n\n    return Setup;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/Setup.js\n **/","define([\n    'plugins/plugins',\n    'playlist/loader',\n    'utils/scriptloader',\n    'utils/embedswf',\n    'utils/constants',\n    'utils/underscore',\n    'utils/helpers',\n    'events/events',\n    'controller/controls-loader'\n], function(plugins, PlaylistLoader, ScriptLoader, EmbedSwf, Constants, _, utils, events, ControlsLoader) {\n\n    var _pluginLoader;\n    var _playlistLoader;\n\n    function getQueue() {\n        var Components = {\n            LOAD_PROMISE_POLYFILL: {\n                method: _loadPromisePolyfill,\n                depends: []\n            },\n            LOAD_BASE64_POLYFILL: {\n                method: _loadBase64Polyfill,\n                depends: []\n            },\n            LOAD_PLUGINS: {\n                method: _loadPlugins,\n                // Plugins require JavaScript Promises\n                depends: [\n                    'LOAD_PROMISE_POLYFILL'\n                ]\n            },\n            LOAD_XO_POLYFILL: {\n                method: _loadIntersectionObserverPolyfill,\n                depends: []\n            },\n            LOAD_SKIN: {\n                method: _loadSkin,\n                depends: []\n            },\n            LOAD_PLAYLIST: {\n                method: _loadPlaylist,\n                depends: []\n            },\n            LOAD_CONTROLS: {\n                method: _loadControls,\n                depends: [\n                    'LOAD_PROMISE_POLYFILL'\n                ]\n            },\n            SETUP_VIEW: {\n                method: _setupView,\n                depends: [\n                    'LOAD_SKIN',\n                    'LOAD_XO_POLYFILL',\n                    'LOAD_PROMISE_POLYFILL'\n                ]\n            },\n            INIT_PLUGINS: {\n                method: _initPlugins,\n                depends: [\n                    'LOAD_PLUGINS',\n                    // Plugins require jw-overlays to setup\n                    'SETUP_VIEW'\n                ]\n            },\n            CHECK_FLASH: {\n                method: _checkFlash,\n                depends: [\n                    'SETUP_VIEW'\n                ]\n            },\n            FILTER_PLAYLIST: {\n                method: _filterPlaylist,\n                depends: [\n                    'LOAD_PLAYLIST',\n                    'CHECK_FLASH'\n                ]\n            },\n            SET_ITEM: {\n                method: _setPlaylistItem,\n                depends: [\n                    'INIT_PLUGINS',\n                    'FILTER_PLAYLIST'\n                ]\n            },\n            DEFERRED: {\n                method: _deferred,\n                depends: []\n            },\n            SEND_READY: {\n                method: _sendReady,\n                depends: [\n                    'LOAD_CONTROLS',\n                    'SET_ITEM',\n                    'DEFERRED'\n                ]\n            }\n        };\n\n        return Components;\n    }\n\n    function _deferred(resolve) {\n        setTimeout(resolve, 0);\n    }\n\n    function _loadPromisePolyfill(resolve) {\n        if (!window.Promise) {\n            require.ensure(['polyfills/promise'], function (require) {\n                require('polyfills/promise');\n                resolve();\n            }, 'polyfills.promise');\n        } else {\n            resolve();\n        }\n    }\n\n    function _loadBase64Polyfill(resolve) {\n        if (!window.btoa || !window.atob) {\n            require.ensure(['polyfills/base64'], function(require) {\n                require('polyfills/base64');\n                resolve();\n            }, 'polyfills.base64');\n        } else {\n            resolve();\n        }\n    }\n\n    function _loadIntersectionObserverPolyfill(resolve) {\n        if ('IntersectionObserver' in window &&\n            'IntersectionObserverEntry' in window &&\n            'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n            resolve();\n        } else {\n            require.ensure(['intersection-observer'], function (require) {\n                require('intersection-observer');\n                resolve();\n            }, 'polyfills.intersection-observer');\n        }\n    }\n\n    function _loadPlugins(resolve, _model) {\n        window.jwplayerPluginJsonp = plugins.registerPlugin;\n        _pluginLoader = plugins.loadPlugins(_model.get('id'), _model.get('plugins'));\n        _pluginLoader.on(events.COMPLETE, resolve);\n        _pluginLoader.on(events.ERROR, _.partial(_pluginsError, resolve));\n        _pluginLoader.load();\n    }\n\n    function _initPlugins(resolve, _model, _api) {\n        delete window.jwplayerPluginJsonp;\n        _pluginLoader.setupPlugins(_api, _model);\n        resolve();\n    }\n\n    function _pluginsError(resolve, evt) {\n        error(resolve, 'Could not load plugin', evt.message);\n    }\n\n    function _loadPlaylist(resolve, _model) {\n        var playlist = _model.get('playlist');\n        if (_.isString(playlist)) {\n            _playlistLoader = new PlaylistLoader();\n            _playlistLoader.on(events.JWPLAYER_PLAYLIST_LOADED, function(data) {\n                _model.attributes.feedData = data;\n                _model.attributes.playlist = data.playlist;\n                resolve();\n            });\n            _playlistLoader.on(events.JWPLAYER_ERROR, _.partial(_playlistError, resolve));\n            _playlistLoader.load(playlist);\n        } else {\n            resolve();\n        }\n    }\n\n    function _checkFlash(resolve, _model, _api, _view) {\n        var primaryFlash = _model.get('primary') === 'flash';\n        var flashVersion = utils.flashVersion();\n        if (primaryFlash && flashVersion) {\n            var embedTimeout;\n            var done = function() {\n                if (embedTimeout === -1) {\n                    return;\n                }\n                clearTimeout(embedTimeout);\n                embedTimeout = -1;\n                setTimeout(function() {\n                    EmbedSwf.remove(mediaContainer.querySelector('#' + flashHealthCheckId));\n                    resolve();\n                }, 0);\n            };\n            var failed = function() {\n                _model.set('primary', undefined);\n                _model.updateProviders();\n                done();\n            };\n            var viewContainer = _view.element();\n            var mediaContainer = viewContainer.querySelector('.jw-media');\n            if (!viewContainer.parentElement) {\n                // Cannot perform test when player container has no parent\n                failed();\n            }\n            var flashHealthCheckId = '' + _model.get('id') + '-' + Math.random().toString(16).substr(2);\n            var flashHealthCheckSwf = _model.get('flashloader');\n            Object.defineProperty(EmbedSwf.embed(flashHealthCheckSwf, mediaContainer, flashHealthCheckId, null), 'embedCallback', {\n                get: function() {\n                    return done;\n                }\n            });\n            // If \"flash.loader.swf\" does not fire embedCallback in time, unset primary \"flash\" config option\n            embedTimeout = setTimeout(failed, 3000);\n        } else {\n            resolve();\n        }\n    }\n\n    function _filterPlaylist(resolve, _model, _api, _view, _setPlaylist) {\n        // Performs filtering\n        var success = _setPlaylist(_model.get('playlist'), _model.get('feedData'));\n\n        if (success) {\n            resolve();\n        } else {\n            _playlistError(resolve);\n        }\n    }\n\n    function _playlistError(resolve, evt) {\n        if (evt && evt.message) {\n            error(resolve, 'Error loading playlist', evt.message);\n        } else {\n            error(resolve, 'Error loading player', 'No playable sources found');\n        }\n    }\n\n    function skinToLoad(skin, base) {\n        var skinPath;\n\n        if (_.contains(Constants.SkinsLoadable, skin)) {\n            skinPath = base + 'skins/' + skin + '.css';\n        }\n\n        return skinPath;\n    }\n\n    function isSkinLoaded(skinPath) {\n        var ss = document.styleSheets;\n        for (var i = 0, max = ss.length; i < max; i++) {\n            if (ss[i].href === skinPath) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    function _loadSkin(resolve, _model) {\n        var skinName = _model.get('skin');\n        var skinUrl = _model.get('skinUrl');\n\n        // If skin is built into player, there is nothing to load\n        if (_.contains(Constants.SkinsIncluded, skinName)) {\n            resolve();\n            return;\n        }\n\n        if (!skinUrl) {\n            // if a user doesn't specify a url, we assume it comes from our CDN or config.base\n            skinUrl = skinToLoad(skinName, _model.get('base'));\n        }\n\n        if (_.isString(skinUrl) && !isSkinLoaded(skinUrl)) {\n            _model.set('skin-loading', true);\n\n            var isStylesheet = true;\n            var loader = new ScriptLoader(skinUrl, isStylesheet);\n\n            loader.addEventListener(events.COMPLETE, function() {\n                _model.set('skin-loading', false);\n            });\n            loader.addEventListener(events.ERROR, function() {\n                _model.set('skin', 'seven'); // fall back to seven skin\n                _model.set('skin-loading', false);\n            });\n\n            loader.load();\n        }\n\n        // Control elements are hidden by the loading flag until it is ready\n        resolve();\n    }\n\n\n    function _setupView(resolve, _model, _api, _view) {\n        _model.setAutoStart();\n        _view.setup();\n        resolve();\n    }\n\n    function _setPlaylistItem(resolve, _model) {\n        _model.once('itemReady', resolve);\n        _model.setItemIndex(_model.get('item'));\n    }\n\n    function _sendReady(resolve) {\n        resolve({\n            type: 'complete'\n        });\n    }\n\n    function _loadControls(resolve, _model, _api, _view) {\n        if (!_model.get('controls')) {\n            resolve();\n            return;\n        }\n\n        ControlsLoader.load()\n            .then(function (Controls) {\n                _view.setControlsModule(Controls);\n                resolve();\n            })\n            .catch(function (reason) {\n                error(resolve, 'Failed to load controls', reason);\n            });\n    }\n\n    function error(resolve, msg, reason) {\n        resolve({\n            type: 'error',\n            msg: msg,\n            reason: reason\n        });\n    }\n\n    return {\n        getQueue: getQueue,\n        error: error\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/setup-steps.js\n **/","define([\n    'plugins/loader',\n    'plugins/model',\n    'plugins/plugin',\n    'plugins/utils'\n], function(PluginsLoader, PluginsModel, Plugin, pluginsUtils) {\n\n    var _plugins = {};\n    var _pluginLoaders = {};\n\n    var loadPlugins = function(id, config) {\n        _pluginLoaders[id] = new PluginsLoader(new PluginsModel(_plugins), config);\n        return _pluginLoaders[id];\n    };\n\n    var registerPlugin = function(id, target, arg1, arg2) {\n        var pluginId = pluginsUtils.getPluginName(id);\n        if (!_plugins[pluginId]) {\n            _plugins[pluginId] = new Plugin(id);\n        }\n        _plugins[pluginId].registerPlugin(id, target, arg1, arg2);\n    };\n\n\n    return {\n        loadPlugins: loadPlugins,\n        registerPlugin: registerPlugin\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/plugins/plugins.js\n **/","define([\n    'plugins/utils',\n    'utils/helpers',\n    'events/events',\n    'utils/backbone.events',\n    'utils/underscore',\n    'utils/scriptloader'\n], function(pluginsUtils, utils, events, Events, _, scriptloader) {\n\n    function _addToPlayerGenerator(_api, pluginInstance, div) {\n        return function() {\n            var overlaysElement = _api.getContainer().getElementsByClassName('jw-overlays')[0];\n\n            // This should probably be an error\n            if (!overlaysElement) {\n                return;\n            }\n\n            div.left = overlaysElement.style.left;\n            div.top = overlaysElement.style.top;\n            overlaysElement.appendChild(div);\n\n            pluginInstance.displayArea = overlaysElement;\n        };\n    }\n\n    function _pluginResizeGenerator(pluginInstance) {\n        function resize() {\n            var displayarea = pluginInstance.displayArea;\n            if (displayarea) {\n                pluginInstance.resize(displayarea.clientWidth, displayarea.clientHeight);\n            }\n        }\n        return function() {\n            resize();\n            // Sometimes a mobile device may trigger resize before the new sizes are finalized\n            setTimeout(resize, 400);\n        };\n    }\n\n    var PluginLoader = function (model, _config) {\n        var _this = _.extend(this, Events);\n        var _status = scriptloader.loaderstatus.NEW;\n        var _iscomplete = false;\n        var _pluginCount = _.size(_config);\n        var _pluginLoaded;\n        var _destroyed = false;\n\n        /*\n         * Plugins can be loaded by multiple players on the page, but all of them use\n         * the same plugin model singleton. This creates a race condition because\n         * multiple players are creating and triggering loads, which could complete\n         * at any time. We could have some really complicated logic that deals with\n         * this by checking the status when it's created and / or having the loader\n         * redispatch its current status on load(). Rather than do this, we just check\n         * for completion after all of the plugins have been created. If all plugins\n         * have been loaded by the time checkComplete is called, then the loader is\n         * done and we fire the complete event. If there are new loads, they will\n         * arrive later, retriggering the completeness check and triggering a complete\n         * to fire, if necessary.\n         */\n        function _complete() {\n            if (!_iscomplete) {\n                _iscomplete = true;\n                _status = scriptloader.loaderstatus.COMPLETE;\n                _this.trigger(events.COMPLETE);\n            }\n        }\n\n        // This is not entirely efficient, but it's simple\n        function _checkComplete() {\n            // Since we do not remove event listeners on pluginObj when destroying\n            if (_destroyed) {\n                return;\n            }\n            if (!_config || _.keys(_config).length === 0) {\n                _complete();\n            }\n            if (!_iscomplete) {\n                var plugins = model.getPlugins();\n                _pluginLoaded = _.after(_pluginCount, _complete);\n                _.each(_config, function (value, plugin) {\n                    var pluginName = pluginsUtils.getPluginName(plugin);\n                    var pluginObj = plugins[pluginName];\n                    var js = pluginObj.getJS();\n                    var target = pluginObj.getTarget();\n                    var status = pluginObj.getStatus();\n\n                    if (status === scriptloader.loaderstatus.LOADING || status === scriptloader.loaderstatus.NEW) {\n                        return;\n                    } else if (js && !utils.versionCheck(target)) {\n                        _this.trigger(events.ERROR, {\n                            message: 'Incompatible player version'\n                        });\n                    }\n                    _pluginLoaded();\n                });\n\n            }\n        }\n\n        function _pluginError(e) {\n            // Since we do not remove event listeners on pluginObj when destroying\n            if (_destroyed) {\n                return;\n            }\n            var message = 'File not found';\n            if (e.url) {\n                utils.log(message, e.url);\n            }\n            this.off();\n            this.trigger(events.ERROR, {\n                message: message\n            });\n            _checkComplete();\n        }\n\n        this.setupPlugins = function (api, playerModel) {\n            var flashPlugins = [];\n            var plugins = model.getPlugins();\n\n            var pluginsConfig = playerModel.get('plugins');\n            _.each(pluginsConfig, function(config, plugin) {\n                var pluginName = pluginsUtils.getPluginName(plugin);\n                var pluginObj = plugins[pluginName];\n                var flashPath = pluginObj.getFlashPath();\n                var jsPlugin = pluginObj.getJS();\n                var pluginURL = pluginObj.getURL();\n\n                if (flashPath) {\n                    var flashPluginConfig = _.extend({\n                        name: pluginName,\n                        swf: flashPath,\n                        pluginmode: pluginObj.getPluginmode()\n                    }, config);\n                    flashPlugins.push(flashPluginConfig);\n                }\n\n                var status = utils.tryCatch(function() {\n                    if (jsPlugin) {\n                        var pluginConfig = pluginsConfig[pluginURL];\n\n                        if (!pluginConfig) {\n                            utils.log('JW Plugin already loaded', pluginName, pluginURL);\n                            return;\n                        }\n\n                        var div = document.createElement('div');\n                        div.id = api.id + '_' + pluginName;\n                        div.className = 'jw-plugin jw-reset';\n\n                        var pluginOptions = _.extend({}, pluginConfig);\n                        var pluginInstance = pluginObj.getNewInstance(api, pluginOptions, div);\n\n                        pluginInstance.addToPlayer = _addToPlayerGenerator(api, pluginInstance, div);\n                        pluginInstance.resizeHandler = _pluginResizeGenerator(pluginInstance);\n\n                        api.addPlugin(pluginName, pluginInstance, div);\n                    }\n\n                });\n\n                if (status instanceof utils.Error) {\n                    utils.log('ERROR: Failed to load ' + pluginName + '.');\n                }\n            });\n\n            playerModel.set('flashPlugins', flashPlugins);\n        };\n\n        this.load = function () {\n            // Must be a hash map\n            if (utils.exists(_config) && utils.typeOf(_config) !== 'object') {\n                _checkComplete();\n                return;\n            }\n\n            _status = scriptloader.loaderstatus.LOADING;\n\n            /** First pass to create the plugins and add listeners **/\n            _.each(_config, function(value, pluginUrl) {\n                if (utils.exists(pluginUrl)) {\n                    var pluginObj = model.addPlugin(pluginUrl);\n                    pluginObj.on(events.COMPLETE, _checkComplete);\n                    pluginObj.on(events.ERROR, _pluginError);\n                }\n            });\n\n            var plugins = model.getPlugins();\n\n            /** Second pass to actually load the plugins **/\n            _.each(plugins, function(pluginObj) {\n                // Plugin object ensures that it's only loaded once\n                pluginObj.load();\n            });\n\n            // Make sure we're not hanging around waiting for plugins that already finished loading\n            _checkComplete();\n        };\n\n        this.destroy = function () {\n            _destroyed = true;\n            this.off();\n        };\n\n        this.getStatus = function () {\n            return _status;\n        };\n\n    };\n\n    return PluginLoader;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/plugins/loader.js\n **/","define([\n    'utils/strings'\n], function(strings) {\n\n    var utils = {};\n\n    /**\n     * Types of plugin paths\n     */\n    var _pluginPathType = utils.pluginPathType = {\n        ABSOLUTE: 0,\n        RELATIVE: 1,\n        CDN: 2\n    };\n\n    utils.getPluginPathType = function (path) {\n        if (typeof path !== 'string') {\n            return;\n        }\n        path = path.split('?')[0];\n        var protocol = path.indexOf('://');\n        if (protocol > 0) {\n            return _pluginPathType.ABSOLUTE;\n        }\n        var folder = path.indexOf('/');\n        var extension = strings.extension(path);\n        if (protocol < 0 && folder < 0 && (!extension || !isNaN(extension))) {\n            return _pluginPathType.CDN;\n        }\n        return _pluginPathType.RELATIVE;\n    };\n\n\n    /**\n     * Extracts a plugin name from a string\n     */\n    utils.getPluginName = function (pluginName) {\n        /** Regex locates the characters after the last slash, until it encounters a dash. **/\n        return pluginName.replace(/^(.*\\/)?([^-]*)-?.*\\.(swf|js)$/, '$2');\n    };\n\n    /**\n     * Extracts a plugin version from a string\n     */\n    utils.getPluginVersion = function (pluginName) {\n        return pluginName.replace(/[^-]*-?([^\\.]*).*$/, '$1');\n    };\n\n    return utils;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/plugins/utils.js\n **/","define([\n    'plugins/utils',\n    'plugins/plugin'\n], function(pluginsUtils, Plugin) {\n\n    var PluginModel = function (plugins) {\n        this.addPlugin = function (url) {\n            var pluginName = pluginsUtils.getPluginName(url);\n            if (!plugins[pluginName]) {\n                plugins[pluginName] = new Plugin(url);\n            }\n            return plugins[pluginName];\n        };\n\n        this.getPlugins = function () {\n            return plugins;\n        };\n    };\n\n    return PluginModel;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/plugins/model.js\n **/","define([\n    'utils/helpers',\n    'plugins/utils',\n    'events/events',\n    'utils/backbone.events',\n    'utils/scriptloader',\n    'utils/underscore'\n], function(utils, pluginsUtils, events, Events, Scriptloader, _) {\n\n    var pluginmodes = {\n        FLASH: 0,\n        JAVASCRIPT: 1,\n        HYBRID: 2\n    };\n\n    var Plugin = function(url) {\n        var _this = _.extend(this, Events);\n        var _status = Scriptloader.loaderstatus.NEW;\n        var _flashPath;\n        var _js;\n        var _target;\n        var _completeTimeout;\n\n        function getJSPath() {\n            switch (pluginsUtils.getPluginPathType(url)) {\n                case pluginsUtils.pluginPathType.ABSOLUTE:\n                    return url;\n                case pluginsUtils.pluginPathType.RELATIVE:\n                    return utils.getAbsolutePath(url, window.location.href);\n                default:\n                    break;\n            }\n        }\n\n        function completeHandler() {\n            _.defer(function() {\n                _status = Scriptloader.loaderstatus.COMPLETE;\n                _this.trigger(events.COMPLETE);\n            });\n        }\n\n        function errorHandler() {\n            _status = Scriptloader.loaderstatus.ERROR;\n            _this.trigger(events.ERROR, { url: url });\n        }\n\n        this.load = function() {\n            if (_status !== Scriptloader.loaderstatus.NEW) {\n                return;\n            }\n            if (url.lastIndexOf('.swf') > 0) {\n                _flashPath = url;\n                _status = Scriptloader.loaderstatus.COMPLETE;\n                _this.trigger(events.COMPLETE);\n                return;\n            }\n            if (pluginsUtils.getPluginPathType(url) === pluginsUtils.pluginPathType.CDN) {\n                _status = Scriptloader.loaderstatus.COMPLETE;\n                _this.trigger(events.COMPLETE);\n                return;\n            }\n            _status = Scriptloader.loaderstatus.LOADING;\n            var _loader = new Scriptloader(getJSPath());\n            // Complete doesn't matter - we're waiting for registerPlugin\n            _loader.on(events.COMPLETE, completeHandler);\n            _loader.on(events.ERROR, errorHandler);\n            _loader.load();\n        };\n\n        this.registerPlugin = function(id, target, arg1, arg2) {\n            if (_completeTimeout) {\n                clearTimeout(_completeTimeout);\n                _completeTimeout = undefined;\n            }\n            _target = target;\n            if (arg1 && arg2) {\n                _flashPath = arg2;\n                _js = arg1;\n            } else if (typeof arg1 === 'string') {\n                _flashPath = arg1;\n            } else if (typeof arg1 === 'function') {\n                _js = arg1;\n            } else if (!arg1 && !arg2) {\n                _flashPath = id;\n            }\n            _status = Scriptloader.loaderstatus.COMPLETE;\n            _this.trigger(events.COMPLETE);\n        };\n\n        this.getStatus = function() {\n            return _status;\n        };\n\n        this.getPluginName = function() {\n            return pluginsUtils.getPluginName(url);\n        };\n\n        this.getFlashPath = function() {\n            if (_flashPath) {\n                switch (pluginsUtils.getPluginPathType(_flashPath)) {\n                    case pluginsUtils.pluginPathType.ABSOLUTE:\n                        return _flashPath;\n                    case pluginsUtils.pluginPathType.RELATIVE:\n                        if (url.lastIndexOf('.swf') > 0) {\n                            return utils.getAbsolutePath(_flashPath, window.location.href);\n                        }\n                        return utils.getAbsolutePath(_flashPath, getJSPath());\n                    default:\n                        break;\n                }\n            }\n            return null;\n        };\n\n        this.getJS = function() {\n            return _js;\n        };\n\n        this.getTarget = function() {\n            return _target;\n        };\n\n        this.getPluginmode = function() {\n            if (typeof _flashPath !== undefined && typeof _js !== undefined) {\n                return pluginmodes.HYBRID;\n            } else if (typeof _flashPath !== undefined) {\n                return pluginmodes.FLASH;\n            } else if (typeof _js !== undefined) {\n                return pluginmodes.JAVASCRIPT;\n            }\n        };\n\n        this.getNewInstance = function(api, config, div) {\n            return new _js(api, config, div);\n        };\n\n        this.getURL = function() {\n            return url;\n        };\n    };\n\n    return Plugin;\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/plugins/plugin.js\n **/","define([\n    'parsers/parsers',\n    'parsers/rssparser',\n    'utils/helpers',\n    'events/events',\n    'utils/backbone.events',\n    'utils/underscore'\n], function(parsers, rssParser, utils, events, Events, _) {\n\n    var PlaylistLoader = function() {\n        var _this = _.extend(this, Events);\n\n        this.load = function(playlistfile) {\n            utils.ajax(playlistfile, _playlistLoaded, _playlistLoadError);\n        };\n\n        this.destroy = function() {\n            this.off();\n        };\n\n        function _playlistLoaded(loadedEvent) {\n            var status = utils.tryCatch(function() {\n                var childNodes = loadedEvent.responseXML ? loadedEvent.responseXML.childNodes : null;\n                var rss = '';\n                var jsonObj;\n                if (childNodes) {\n                    for (var i = 0; i < childNodes.length; i++) {\n                        rss = childNodes[i];\n                        // 8: Node.COMMENT_NODE (IE8 doesn't have the Node.COMMENT_NODE constant)\n                        if (rss.nodeType !== 8) {\n                            break;\n                        }\n                    }\n                    if (parsers.localName(rss) === 'xml') {\n                        rss = rss.nextSibling;\n                    }\n                    if (parsers.localName(rss) === 'rss') {\n                        var rssPlaylist = rssParser.parse(rss);\n                        jsonObj = _.extend({ playlist: rssPlaylist }, rssPlaylist.feedData);\n                    }\n                }\n\n                // If the response is not valid RSS, check if it is JSON\n                if (!jsonObj) {\n                    try {\n                        var pl = JSON.parse(loadedEvent.responseText);\n                        // If the response is not a JSON array, try to read playlist of the response\n                        if (_.isArray(pl)) {\n                            jsonObj = { playlist: pl };\n                        } else if (_.isArray(pl.playlist)) {\n                            jsonObj = pl;\n                        } else {\n                            throw Error;\n                        }\n                    } catch (e) {\n                        _playlistError('Not a valid RSS/JSON feed');\n                        return;\n                    }\n                }\n\n                _this.trigger(events.JWPLAYER_PLAYLIST_LOADED, jsonObj);\n            });\n\n            if (status instanceof utils.Error) {\n                _playlistError();\n            }\n        }\n\n        function _playlistLoadError(err) {\n            _playlistError('Playlist load error: ' + err);\n        }\n\n        function _playlistError(msg) {\n            _this.trigger(events.JWPLAYER_ERROR, {\n                message: msg ? msg : 'Error loading file'\n            });\n        }\n    };\n\n    return PlaylistLoader;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/playlist/loader.js\n **/","/**\n * Parse an RSS feed and translate it to a playlist.\n */\ndefine([\n    'utils/strings',\n    'parsers/parsers',\n    'parsers/jwparser',\n    'parsers/mediaparser',\n    'playlist/item'\n], function (strings, parsers, parseEntry, mediaParser, PlaylistItem) {\n    var _textContent = parsers.textContent;\n    var _getChildNode = parsers.getChildNode;\n    var _numChildren = parsers.numChildren;\n    var _localName = parsers.localName;\n    var rssparser = {};\n\n    // Parse an RSS playlist for feed items.\n    rssparser.parse = function (dat) {\n        var arr = [];\n        arr.feedData = {};\n        for (var i = 0; i < _numChildren(dat); i++) {\n            var node = _getChildNode(dat, i);\n            var localName = _localName(node).toLowerCase();\n\n            if (localName === 'channel') {\n                for (var j = 0; j < _numChildren(node); j++) {\n                    var subNode = _getChildNode(node, j);\n                    var nodeName = _localName(subNode).toLowerCase();\n                    if (nodeName === 'item') {\n                        arr.push(_parseItem(subNode));\n                    } else if (nodeName) {\n                        arr.feedData[nodeName] = _textContent(subNode);\n                    }\n                }\n            }\n        }\n        return arr;\n    };\n\n    // Translate RSS item to playlist item.\n    function _parseItem(obj) {\n        var itm = {};\n        for (var i = 0; i < obj.childNodes.length; i++) {\n            var node = obj.childNodes[i];\n            var localName = _localName(node);\n            if (!localName) {\n                continue;\n            }\n            switch (localName.toLowerCase()) {\n                case 'enclosure':\n                    itm.file = strings.xmlAttribute(node, 'url');\n                    break;\n                case 'title':\n                    itm.title = _textContent(node);\n                    break;\n                case 'guid':\n                    itm.mediaid = _textContent(node);\n                    break;\n                case 'pubdate':\n                    itm.date = _textContent(node);\n                    break;\n                case 'description':\n                    itm.description = _textContent(node);\n                    break;\n                case 'link':\n                    itm.link = _textContent(node);\n                    break;\n                case 'category':\n                    if (itm.tags) {\n                        itm.tags += _textContent(node);\n                    } else {\n                        itm.tags = _textContent(node);\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        itm = mediaParser(obj, itm);\n        itm = parseEntry(obj, itm);\n\n        return new PlaylistItem(itm);\n    }\n\n    return rssparser;\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/parsers/rssparser.js\n **/","/**\n * Parse a feed item for JWPlayer content.\n */\ndefine([\n    'parsers/parsers',\n    'utils/strings',\n    'utils/helpers'\n], function(parsers, strings, utils) {\n    // Parse a feed entry for JWPlayer content\n    var PREFIX = 'jwplayer';\n    var parseEntry = function (obj, itm) {\n        var sources = [];\n        var tracks = [];\n        var _xmlAttribute = strings.xmlAttribute;\n        var def = 'default';\n        var label = 'label';\n        var file = 'file';\n        var type = 'type';\n\n        for (var i = 0; i < obj.childNodes.length; i++) {\n            var node = obj.childNodes[i];\n            if (node.prefix === PREFIX) {\n                var _localName = parsers.localName(node);\n                if (_localName === 'source') {\n                    delete itm.sources;\n                    sources.push({\n                        file: _xmlAttribute(node, file),\n                        'default': _xmlAttribute(node, def),\n                        label: _xmlAttribute(node, label),\n                        type: _xmlAttribute(node, type)\n                    });\n                } else if (_localName === 'track') {\n                    delete itm.tracks;\n                    tracks.push({\n                        file: _xmlAttribute(node, file),\n                        'default': _xmlAttribute(node, def),\n                        kind: _xmlAttribute(node, 'kind'),\n                        label: _xmlAttribute(node, label)\n                    });\n                } else {\n                    itm[_localName] = utils.serialize(parsers.textContent(node));\n                    if (_localName === 'file' && itm.sources) {\n                        // jwplayer namespace file should override existing source\n                        // (probably set in MediaParser)\n                        delete itm.sources;\n                    }\n                }\n\n            }\n            if (!itm[file]) {\n                itm[file] = itm.link;\n            }\n        }\n\n\n        if (sources.length) {\n            itm.sources = [];\n            for (i = 0; i < sources.length; i++) {\n                if (sources[i].file.length > 0) {\n                    sources[i][def] = (sources[i][def] === 'true') ? true : false;\n                    if (!sources[i].label.length) {\n                        delete sources[i].label;\n                    }\n                    itm.sources.push(sources[i]);\n                }\n            }\n        }\n\n        if (tracks.length) {\n            itm.tracks = [];\n            for (i = 0; i < tracks.length; i++) {\n                if (tracks[i].file.length > 0) {\n                    tracks[i][def] = (tracks[i][def] === 'true') ? true : false;\n                    tracks[i].kind = (!tracks[i].kind.length) ? 'captions' : tracks[i].kind;\n                    if (!tracks[i].label.length) {\n                        delete tracks[i].label;\n                    }\n                    itm.tracks.push(tracks[i]);\n                }\n            }\n        }\n        return itm;\n    };\n\n    return parseEntry;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/parsers/jwparser.js\n **/","/**\n * Parse a MRSS group into a playlistitem (used in RSS and ATOM).\n */\ndefine([\n    'parsers/parsers',\n    'utils/strings',\n    'utils/helpers'\n], function(parsers, strings, utils) {\n\n    var _xmlAttribute = strings.xmlAttribute;\n    var _localName = parsers.localName;\n    var _textContent = parsers.textContent;\n    var _numChildren = parsers.numChildren;\n\n    // Prefix for the MRSS namespace\n    var PREFIX = 'media';\n\n    // Parse a feeditem for Yahoo MediaRSS extensions\n    // The 'content' and 'group' elements can nest other MediaRSS elements.\n    var mediaparser = function (obj, itm) {\n\n        var node;\n        var i;\n        var tracks = 'tracks';\n        var captions = [];\n\n        function getLabel(code) {\n            var LANGS = {\n                zh: 'Chinese',\n                nl: 'Dutch',\n                en: 'English',\n                fr: 'French',\n                de: 'German',\n                it: 'Italian',\n                ja: 'Japanese',\n                pt: 'Portuguese',\n                ru: 'Russian',\n                es: 'Spanish'\n            };\n\n            if (LANGS[code]) {\n                return LANGS[code];\n            }\n            return code;\n        }\n        for (i = 0; i < _numChildren(obj); i++) {\n            node = obj.childNodes[i];\n            if (node.prefix === PREFIX) {\n                if (!_localName(node)) {\n                    continue;\n                }\n                switch (_localName(node).toLowerCase()) {\n                    case 'content':\n                        if (_xmlAttribute(node, 'duration')) {\n                            itm.duration = utils.seconds(_xmlAttribute(node, 'duration'));\n                        }\n                        if (_xmlAttribute(node, 'url')) {\n                            if (!itm.sources) {\n                                itm.sources = [];\n                            }\n                            var sources = {\n                                file: _xmlAttribute(node, 'url'),\n                                type: _xmlAttribute(node, 'type'),\n                                width: _xmlAttribute(node, 'width'),\n                                label: _xmlAttribute(node, 'label')\n                            };\n\n                            var mediaTypes = findMediaTypes(node);\n                            if (mediaTypes.length) {\n                                sources.mediaTypes = mediaTypes;\n                            }\n\n                            itm.sources.push(sources);\n                        }\n                        if (_numChildren(node) > 0) {\n                            itm = mediaparser(node, itm);\n                        }\n                        break;\n                    case 'title':\n                        itm.title = _textContent(node);\n                        break;\n                    case 'description':\n                        itm.description = _textContent(node);\n                        break;\n                    case 'guid':\n                        itm.mediaid = _textContent(node);\n                        break;\n                    case 'thumbnail':\n                        if (!itm.image) {\n                            itm.image = _xmlAttribute(node, 'url');\n                        }\n                        break;\n                    case 'group':\n                        mediaparser(node, itm);\n                        break;\n                    case 'subtitle':\n                        var entry = {};\n                        entry.file = _xmlAttribute(node, 'url');\n                        entry.kind = 'captions';\n                        if (_xmlAttribute(node, 'lang').length > 0) {\n                            entry.label = getLabel(_xmlAttribute(node, 'lang'));\n                        }\n                        captions.push(entry);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        }\n\n        if (!itm.hasOwnProperty(tracks)) {\n            itm[tracks] = [];\n        }\n\n        for (i = 0; i < captions.length; i++) {\n            itm[tracks].push(captions[i]);\n        }\n        return itm;\n    };\n\n    function findMediaTypes (contentNode) {\n        var mediaTypes = [];\n\n        for (var i = 0; i < _numChildren(contentNode); i++) {\n            var node = contentNode.childNodes[i];\n            if (node.prefix === 'jwplayer' && _localName(node).toLowerCase() === 'mediatypes') {\n                mediaTypes.push(_textContent(node));\n            }\n        }\n\n        return mediaTypes;\n    }\n\n    return mediaparser;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/parsers/mediaparser.js\n **/","define([\n    'utils/underscore',\n    'playlist/source',\n    'playlist/track'\n], function(_, Source, Track) {\n    var Defaults = {\n        sources: [],\n        tracks: [],\n        minDvrWindow: 120\n    };\n\n    return function Item(config) {\n        config = config || {};\n        if (!_.isArray(config.tracks)) {\n            delete config.tracks;\n        }\n\n        var _playlistItem = _.extend({}, Defaults, config);\n\n        if (_.isObject(_playlistItem.sources) && !_.isArray(_playlistItem.sources)) {\n            _playlistItem.sources = [Source(_playlistItem.sources)];\n        }\n\n        if (!_.isArray(_playlistItem.sources) || _playlistItem.sources.length === 0) {\n            if (config.levels) {\n                _playlistItem.sources = config.levels;\n            } else {\n                _playlistItem.sources = [Source(config)];\n            }\n        }\n\n        /** Each source should be a named object **/\n        for (var i = 0; i < _playlistItem.sources.length; i++) {\n            var s = _playlistItem.sources[i];\n            if (!s) {\n                continue;\n            }\n\n            var def = s.default;\n            if (def) {\n                s.default = (def.toString() === 'true');\n            } else {\n                s.default = false;\n            }\n\n            // If the source doesn't have a label, number it\n            if (!_playlistItem.sources[i].label) {\n                _playlistItem.sources[i].label = i.toString();\n            }\n\n            _playlistItem.sources[i] = Source(_playlistItem.sources[i]);\n        }\n\n        _playlistItem.sources = _.compact(_playlistItem.sources);\n\n\n        if (!_.isArray(_playlistItem.tracks)) {\n            _playlistItem.tracks = [];\n        }\n\n        if (_.isArray(_playlistItem.captions)) {\n            _playlistItem.tracks = _playlistItem.tracks.concat(_playlistItem.captions);\n            delete _playlistItem.captions;\n        }\n\n        _playlistItem.tracks = _.compact(_.map(_playlistItem.tracks, Track));\n\n        return _playlistItem;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/playlist/item.js\n **/","define([\n    'utils/helpers',\n    'utils/strings',\n    'utils/underscore'\n], function(utils, strings, _) {\n    var Defaults = {\n        'default': false\n    };\n\n    return function Source(config) {\n        // file is the only hard requirement\n        if (!config || !config.file) {\n            return;\n        }\n\n        var _source = _.extend({}, Defaults, config);\n\n        // normalize for odd strings\n        _source.file = strings.trim('' + _source.file);\n\n        // regex to check if mimetype is given\n        var mimetypeRegEx = /^[^\\/]+\\/(?:x-)?([^\\/]+)$/;\n\n        if (mimetypeRegEx.test(_source.type)) {\n            // if type is given as a mimetype\n            _source.mimeType = _source.type;\n            _source.type = _source.type.replace(mimetypeRegEx, '$1');\n        }\n\n        // check if the source is youtube or rtmp\n        if (utils.isYouTube(_source.file)) {\n            _source.type = 'youtube';\n        } else if (utils.isRtmp(_source.file)) {\n            _source.type = 'rtmp';\n        } else if (!_source.type) {\n            _source.type = strings.extension(_source.file);\n        }\n\n        if (!_source.type) {\n            return;\n        }\n\n        // normalize types\n        switch (_source.type) {\n            case 'm3u8':\n            case 'vnd.apple.mpegurl':\n                _source.type = 'hls';\n                break;\n            case 'dash+xml':\n                _source.type = 'dash';\n                break;\n            case 'smil':\n                _source.type = 'rtmp';\n                break;\n            // Although m4a is a container format, it is most often used for aac files\n            // http://en.wikipedia.org/w/index.php?title=MPEG-4_Part_14\n            case 'm4a':\n                _source.type = 'aac';\n                break;\n            default:\n                break;\n        }\n\n        // remove empty strings\n        _.each(_source, function(val, key) {\n            if (val === '') {\n                delete _source[key];\n            }\n        });\n\n        return _source;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/playlist/source.js\n **/","define([\n    'utils/underscore'\n], function(_) {\n    var defaults = {\n        kind: 'captions',\n        'default': false\n    };\n\n    return function Track(config) {\n        // File is the only required attr\n        if (!config || !config.file) {\n            return;\n        }\n\n        return _.extend({}, defaults, config);\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/playlist/track.js\n **/","define([\n\n], function() {\n    let controlsPromise = null;\n\n    function load() {\n        if (!controlsPromise) {\n            controlsPromise = new Promise(function (resolve) {\n                require.ensure(['view/controls/controls'], function (require) {\n                    const controls = require('view/controls/controls');\n                    resolve(controls);\n                }, 'jwplayer.controls');\n            });\n        }\n        return controlsPromise;\n    }\n\n    return {\n        load: load\n    };\n});\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/controls-loader.js\n **/","define([\n    'utils/backbone.events',\n    'events/events',\n    'utils/underscore',\n    'utils/helpers'\n], function(Events, events, _, utils) {\n    var JW_TOUCH_EVENTS = events.touchEvents;\n    var _supportsPointerEvents = ('PointerEvent' in window);\n    var _supportsTouchEvents = ('ontouchstart' in window);\n    var _useMouseEvents = !_supportsPointerEvents && !(_supportsTouchEvents && utils.isMobile());\n    var _isOSXFirefox = utils.isFF() && utils.isOSX();\n\n    function getCoord(e, c) {\n        return /touch/.test(e.type) ? (e.originalEvent || e).changedTouches[0]['page' + c] : e['page' + c];\n    }\n\n    function isRightClick(evt) {\n        var e = evt || window.event;\n\n        if (!(evt instanceof MouseEvent)) {\n            return false;\n        }\n\n        if ('which' in e) {\n            // Gecko (Firefox), WebKit (Safari/Chrome) & Opera\n            return (e.which === 3);\n        } else if ('button' in e) {\n            // IE and Opera\n            return (e.button === 2);\n        }\n\n        return false;\n    }\n\n    function normalizeUIEvent(type, srcEvent, target) {\n        var source;\n\n        if (srcEvent instanceof MouseEvent || (!srcEvent.touches && !srcEvent.changedTouches)) {\n            source = srcEvent;\n        } else if (srcEvent.touches && srcEvent.touches.length) {\n            source = srcEvent.touches[0];\n        } else {\n            source = srcEvent.changedTouches[0];\n        }\n\n        return {\n            type: type,\n            sourceEvent: srcEvent,\n            target: srcEvent.target,\n            currentTarget: target,\n            pageX: source.pageX,\n            pageY: source.pageY\n        };\n    }\n\n    // Preventdefault to prevent click events\n    function preventDefault(evt) {\n        // Because sendEvent from utils.eventdispatcher clones evt objects instead of passing them\n        //  we cannot call evt.preventDefault() on them\n        if (!(evt instanceof MouseEvent) && !(evt instanceof window.TouchEvent)) {\n            return;\n        }\n        if (evt.preventManipulation) {\n            evt.preventManipulation();\n        }\n        // prevent scrolling\n        if (evt.preventDefault) {\n            evt.preventDefault();\n        }\n    }\n\n    var UI = function (elem, options) {\n        var _elem = elem;\n        var _hasMoved = false;\n        var _startX = 0;\n        var _startY = 0;\n        var _lastClickTime = 0;\n        var _doubleClickDelay = 300;\n        var _touchListenerTarget;\n        var _pointerId;\n\n        options = options || {};\n\n        // If its not mobile, add mouse listener.  Add touch listeners so touch devices that aren't Android or iOS\n        // (windows phones) still get listeners just in case they want to use them.\n        if (_supportsPointerEvents) {\n            elem.addEventListener('pointerdown', interactStartHandler);\n            if (options.useHover) {\n                elem.addEventListener('pointerover', overHandler);\n                elem.addEventListener('pointerout', outHandler);\n            }\n            if (options.useMove) {\n                elem.addEventListener('pointermove', moveHandler);\n            }\n        } else {\n            if (_useMouseEvents) {\n                elem.addEventListener('mousedown', interactStartHandler);\n                if (options.useHover) {\n                    elem.addEventListener('mouseover', overHandler);\n                    elem.addEventListener('mouseout', outHandler);\n                }\n                if (options.useMove) {\n                    elem.addEventListener('mousemove', moveHandler);\n                }\n            }\n\n            // Always add this, in case we don't properly identify the device as mobile\n            elem.addEventListener('touchstart', interactStartHandler);\n        }\n\n        // overHandler and outHandler not assigned in touch situations\n        function overHandler(evt) {\n            if (evt.pointerType !== 'touch') {\n                triggerEvent(JW_TOUCH_EVENTS.OVER, evt);\n            }\n        }\n\n        function moveHandler(evt) {\n            if (evt.pointerType !== 'touch') {\n                triggerEvent(JW_TOUCH_EVENTS.MOVE, evt);\n            }\n        }\n\n        function outHandler(evt) {\n            // elementFromPoint to handle an issue where setPointerCapture is causing a pointerout event\n            if (_useMouseEvents || (_supportsPointerEvents && evt.pointerType !== 'touch' &&\n                !elem.contains(document.elementFromPoint(evt.x, evt.y)))) {\n                triggerEvent(JW_TOUCH_EVENTS.OUT, evt);\n            }\n        }\n\n        function setEventListener(element, eventName, callback) {\n            element.removeEventListener(eventName, callback);\n            element.addEventListener(eventName, callback);\n        }\n\n        function interactStartHandler(evt) {\n            _touchListenerTarget = evt.target;\n            _startX = getCoord(evt, 'X');\n            _startY = getCoord(evt, 'Y');\n\n            if (!isRightClick(evt)) {\n\n                if (evt.type === 'pointerdown' && evt.isPrimary) {\n                    if (options.preventScrolling) {\n                        _pointerId = evt.pointerId;\n                        elem.setPointerCapture(_pointerId);\n                    }\n                    setEventListener(elem, 'pointermove', interactDragHandler);\n                    setEventListener(elem, 'pointercancel', interactEndHandler);\n\n                    // Listen for mouseup after mouse pointer down because pointerup doesn't fire on swf objects\n                    if (evt.pointerType === 'mouse' && _touchListenerTarget.nodeName === 'OBJECT') {\n                        setEventListener(document, 'mouseup', interactEndHandler);\n                    } else {\n                        setEventListener(elem, 'pointerup', interactEndHandler);\n                    }\n                } else if (evt.type === 'mousedown') {\n                    setEventListener(document, 'mousemove', interactDragHandler);\n\n                    // Handle clicks in OSX Firefox over Flash 'object'\n                    if (_isOSXFirefox && evt.target.nodeName.toLowerCase() === 'object') {\n                        setEventListener(elem, 'click', interactEndHandler);\n                    } else {\n                        setEventListener(document, 'mouseup', interactEndHandler);\n                    }\n                } else if (evt.type === 'touchstart') {\n                    setEventListener(_touchListenerTarget, 'touchmove', interactDragHandler);\n                    setEventListener(_touchListenerTarget, 'touchcancel', interactEndHandler);\n                    setEventListener(_touchListenerTarget, 'touchend', interactEndHandler);\n                }\n\n                // Prevent scrolling the screen dragging while dragging on mobile.\n                if (options.preventScrolling) {\n                    preventDefault(evt);\n                }\n            }\n        }\n\n        function interactDragHandler(evt) {\n            var movementThreshhold = 6;\n\n            if (_hasMoved) {\n                triggerEvent(JW_TOUCH_EVENTS.DRAG, evt);\n            } else {\n                var endX = getCoord(evt, 'X');\n                var endY = getCoord(evt, 'Y');\n                var moveX = endX - _startX;\n                var moveY = endY - _startY;\n                if (moveX * moveX + moveY * moveY > movementThreshhold * movementThreshhold) {\n                    triggerEvent(JW_TOUCH_EVENTS.DRAG_START, evt);\n                    _hasMoved = true;\n                    triggerEvent(JW_TOUCH_EVENTS.DRAG, evt);\n                }\n            }\n\n            // Prevent scrolling the screen dragging while dragging on mobile.\n            if (options.preventScrolling) {\n                preventDefault(evt);\n            }\n        }\n\n        function interactEndHandler(evt) {\n            var isPointerEvent = (evt.type === 'pointerup' || evt.type === 'pointercancel');\n            if (isPointerEvent && options.preventScrolling) {\n                elem.releasePointerCapture(_pointerId);\n            }\n            elem.removeEventListener('pointermove', interactDragHandler);\n            elem.removeEventListener('pointercancel', interactEndHandler);\n            elem.removeEventListener('pointerup', interactEndHandler);\n            document.removeEventListener('mousemove', interactDragHandler);\n            document.removeEventListener('mouseup', interactEndHandler);\n            if (_touchListenerTarget) {\n                _touchListenerTarget.removeEventListener('touchmove', interactDragHandler);\n                _touchListenerTarget.removeEventListener('touchcancel', interactEndHandler);\n                _touchListenerTarget.removeEventListener('touchend', interactEndHandler);\n            }\n\n            if (_hasMoved) {\n                triggerEvent(JW_TOUCH_EVENTS.DRAG_END, evt);\n            } else if ((!options.directSelect || evt.target === elem) && evt.type.indexOf('cancel') === -1) {\n                if (evt.type === 'mouseup' || evt.type === 'click' || isPointerEvent && evt.pointerType === 'mouse') {\n                    triggerEvent(JW_TOUCH_EVENTS.CLICK, evt);\n                } else {\n                    triggerEvent(JW_TOUCH_EVENTS.TAP, evt);\n                    if (evt.type === 'touchend') {\n                        // preventDefault to not dispatch the 300ms delayed click after a tap\n                        preventDefault(evt);\n                    }\n                }\n            }\n\n            _touchListenerTarget = null;\n            _hasMoved = false;\n        }\n\n        var self = this;\n        function triggerEvent(type, srcEvent) {\n            var evt;\n            if (options.enableDoubleTap && (type === JW_TOUCH_EVENTS.CLICK || type === JW_TOUCH_EVENTS.TAP)) {\n                if (_.now() - _lastClickTime < _doubleClickDelay) {\n                    var doubleType = (type === JW_TOUCH_EVENTS.CLICK) ?\n                        JW_TOUCH_EVENTS.DOUBLE_CLICK : JW_TOUCH_EVENTS.DOUBLE_TAP;\n                    evt = normalizeUIEvent(doubleType, srcEvent, _elem);\n                    self.trigger(doubleType, evt);\n                    _lastClickTime = 0;\n                } else {\n                    _lastClickTime = _.now();\n                }\n            }\n            evt = normalizeUIEvent(type, srcEvent, _elem);\n            self.trigger(type, evt);\n        }\n\n        this.triggerEvent = triggerEvent;\n\n        this.destroy = function() {\n            this.off();\n            elem.removeEventListener('touchstart', interactStartHandler);\n            elem.removeEventListener('mousedown', interactStartHandler);\n\n            if (_touchListenerTarget) {\n                _touchListenerTarget.removeEventListener('touchmove', interactDragHandler);\n                _touchListenerTarget.removeEventListener('touchcancel', interactEndHandler);\n                _touchListenerTarget.removeEventListener('touchend', interactEndHandler);\n                _touchListenerTarget = null;\n            }\n\n            if (_supportsPointerEvents) {\n                if (options.preventScrolling) {\n                    elem.releasePointerCapture(_pointerId);\n                }\n                elem.removeEventListener('pointerover', overHandler);\n                elem.removeEventListener('pointerdown', interactStartHandler);\n                elem.removeEventListener('pointermove', interactDragHandler);\n                elem.removeEventListener('pointermove', moveHandler);\n                elem.removeEventListener('pointercancel', interactEndHandler);\n                elem.removeEventListener('pointerout', outHandler);\n                elem.removeEventListener('pointerup', interactEndHandler);\n            }\n\n            elem.removeEventListener('click', interactEndHandler);\n            elem.removeEventListener('mouseover', overHandler);\n            elem.removeEventListener('mousemove', moveHandler);\n            elem.removeEventListener('mouseout', outHandler);\n            document.removeEventListener('mousemove', interactDragHandler);\n            document.removeEventListener('mouseup', interactEndHandler);\n        };\n\n        return this;\n    };\n\n    // Expose what the source of the event is so that we can ensure it's handled correctly.\n    // This returns only 'touch' or 'mouse'.  'pen' will be treated as a mouse.\n    UI.getPointerType = function (evt) {\n        if (_supportsPointerEvents && evt instanceof window.PointerEvent) {\n            return (evt.pointerType === 'touch') ? 'touch' : 'mouse';\n        } else if (_supportsTouchEvents && evt instanceof window.TouchEvent) {\n            return 'touch';\n        }\n\n        return 'mouse';\n    };\n\n    _.extend(UI.prototype, Events);\n\n    return UI;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/ui.js\n **/","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 105\n ** module chunks = 0\n **/","define(['utils/helpers',\n    'controller/tracks-loader',\n    'controller/tracks-helper'\n], function(utils, tracksLoader, tracksHelper) {\n    /** Displays closed captions or subtitles on top of the video. **/\n    var Captions = function(_model) {\n        // Reset and load external captions on playlist item\n        _model.on('change:playlistItem', _itemHandler, this);\n\n        // Listen for captions menu index changes from the view\n        _model.on('change:captionsIndex', _captionsIndexHandler, this);\n\n        // Listen for item ready to determine which provider is in use\n        _model.on('itemReady', _itemReadyHandler, this);\n\n        // Listen for provider subtitle tracks\n        //   ignoring provider \"subtitlesTrackChanged\" since index should be managed here\n        _model.mediaController.on('subtitlesTracks', _subtitlesTracksHandler, this);\n\n        function _subtitlesTracksHandler(e) {\n            if (!e.tracks.length) {\n                return;\n            }\n\n            var tracks = e.tracks || [];\n            for (var i = 0; i < tracks.length; i++) {\n                _addTrack(tracks[i]);\n            }\n\n            // To avoid duplicate tracks in the menu when we reuse an _id, regenerate the tracks array\n            _tracks = Object.keys(_tracksById).map(id => _tracksById[id]);\n\n            var captionsMenu = _captionsMenu();\n            _selectDefaultIndex();\n            this.setCaptionsList(captionsMenu);\n        }\n\n        var _tracks = [];\n        var _tracksById = {};\n        var _unknownCount = 0;\n\n        /** Listen to playlist item updates. **/\n        function _itemHandler() {\n            _tracks = [];\n            _tracksById = {};\n            _unknownCount = 0;\n        }\n\n        function _itemReadyHandler(item) {\n            // Clean up in case we're replaying\n            _itemHandler(_model, item);\n\n            var tracks = item.tracks;\n            var len = tracks && tracks.length;\n\n            // Sideload tracks when not rendering natively\n            if (!_model.get('renderCaptionsNatively') && len) {\n                var i;\n                var track;\n\n                for (i = 0; i < len; i++) {\n                    track = tracks[i];\n                    if (_kindSupported(track.kind) && !_tracksById[track._id]) {\n                        _addTrack(track);\n                        tracksLoader.loadFile(track,\n                            _addVTTCuesToTrack.bind(null, track),\n                            _errorHandler);\n                    }\n                }\n            }\n\n            var captionsMenu = _captionsMenu();\n            _selectDefaultIndex();\n            this.setCaptionsList(captionsMenu);\n        }\n\n        function _kindSupported(kind) {\n            return kind === 'subtitles' || kind === 'captions';\n        }\n\n        function _addVTTCuesToTrack(track, vttCues) {\n            track.data = vttCues;\n        }\n\n        function _errorHandler(error) {\n            utils.log('CAPTIONS(' + error + ')');\n        }\n\n        function _captionsIndexHandler(model, captionsMenuIndex) {\n            var track = null;\n            if (captionsMenuIndex !== 0) {\n                track = _tracks[captionsMenuIndex - 1];\n            }\n            model.set('captionsTrack', track);\n        }\n\n        function _addTrack(track) {\n            track.data = track.data || [];\n            track.name = track.label || track.name || track.language;\n            track._id = tracksHelper.createId(track, _tracks.length);\n\n            if (!track.name) {\n                var labelInfo = tracksHelper.createLabel(track, _unknownCount);\n                track.name = labelInfo.label;\n                _unknownCount = labelInfo.unknownCount;\n            }\n\n            // During the same playlist we may reu and readd tracks with the same _id; allow the new track to replace the old\n            _tracksById[track._id] = track;\n            _tracks.push(track);\n        }\n\n        function _captionsMenu() {\n            var list = [{\n                id: 'off',\n                label: 'Off'\n            }];\n            for (var i = 0; i < _tracks.length; i++) {\n                list.push({\n                    id: _tracks[i]._id,\n                    label: _tracks[i].name || 'Unknown CC'\n                });\n            }\n            return list;\n        }\n\n        function _selectDefaultIndex() {\n            var captionsMenuIndex = 0;\n            var label = _model.get('captionLabel');\n\n            // Because there is no explicit track for \"Off\"\n            //  it is the implied zeroth track\n            if (label === 'Off') {\n                _model.set('captionsIndex', 0);\n                return;\n            }\n\n            for (var i = 0; i < _tracks.length; i++) {\n                var track = _tracks[i];\n                if (label && label === track.name) {\n                    captionsMenuIndex = i + 1;\n                    break;\n                } else if (track.default || track.defaulttrack || track._id === 'default') {\n                    captionsMenuIndex = i + 1;\n                } else if (track.autoselect) {\n                    // TODO: auto select track by comparing track.language to system lang\n                }\n            }\n            // set the index without the side effect of storing the Off label in _selectCaptions\n            _setCurrentIndex(captionsMenuIndex);\n        }\n\n        function _setCurrentIndex (index) {\n            if (_tracks.length) {\n                _model.setVideoSubtitleTrack(index, _tracks);\n            } else {\n                _model.set('captionsIndex', index);\n            }\n        }\n\n        this.getCurrentIndex = function() {\n            return _model.get('captionsIndex');\n        };\n\n        this.getCaptionsList = function() {\n            return _model.get('captionsList');\n        };\n\n        this.setCaptionsList = function(captionsMenu) {\n            _model.set('captionsList', captionsMenu);\n        };\n    };\n\n    return Captions;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/captions.js\n **/","define([\n    'utils/underscore',\n    'utils/helpers'\n], function(_, utils) {\n    var storage = {\n        removeItem: utils.noop\n    };\n\n    try {\n        storage = window.localStorage;\n    } catch (e) {/* ignore */}\n\n    function jwPrefix(str) {\n        return 'jwplayer.' + str;\n    }\n\n    function getAllItems() {\n        return _.reduce(this.persistItems, function(memo, key) {\n            var val = storage[jwPrefix(key)];\n            if (val) {\n                memo[key] = utils.serialize(val);\n            }\n            return memo;\n        }, {});\n    }\n\n    function setItem(name, value) {\n        try {\n            storage[jwPrefix(name)] = value;\n        } catch (e) {\n            // ignore QuotaExceededError unless debugging\n            var jwplayer = window.jwplayer;\n            if (jwplayer && jwplayer.debug) {\n                console.error(e);\n            }\n        }\n    }\n\n    function clear() {\n        _.each(this.persistItems, function(val) {\n            storage.removeItem(jwPrefix(val));\n        });\n    }\n\n    function Storage() {\n        this.persistItems = [\n            'volume',\n            'mute',\n            'captionLabel',\n            'qualityLabel'\n        ];\n    }\n\n    function track(model) {\n        _.each(this.persistItems, function(item) {\n            model.on('change:' + item, function(changeModel, value) {\n                setItem(item, value);\n            });\n        });\n    }\n\n    _.extend(Storage.prototype, {\n        getAllItems: getAllItems,\n        track: track,\n        clear: clear\n    });\n\n    return Storage;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/storage.js\n **/","define([\n    'playlist/item',\n    'playlist/source',\n    'utils/underscore',\n    'providers/providers'\n], function(PlaylistItem, Source, _, Providers) {\n\n    var Playlist = function (playlist) {\n        // Can be either an array of items or a single item.\n        playlist = (_.isArray(playlist) ? playlist : [playlist]);\n\n        return _.compact(_.map(playlist, PlaylistItem));\n    };\n\n    /** Go through the playlist and choose a single playable type to play; remove sources of a different type **/\n    Playlist.filterPlaylist = function(playlist, model, feedData) {\n        var list = [];\n        var providers = model.getProviders();\n        var preload = model.get('preload');\n        var itemFeedData = _.extend({}, feedData);\n        delete itemFeedData.playlist;\n\n        _.each(playlist, function(item) {\n            item = _.extend({}, item);\n\n            item.allSources = _formatSources(item, model);\n\n            item.sources = _filterSources(item.allSources, providers);\n\n            if (!item.sources.length) {\n                return;\n            }\n\n            // include selected file in item for backwards compatibility\n            item.file = item.sources[0].file;\n\n            // set preload for the item, if it is defined\n            if (preload) {\n                item.preload = item.preload || preload;\n            }\n\n            if (feedData) {\n                item.feedData = itemFeedData;\n            }\n\n            list.push(item);\n        });\n\n        return list;\n    };\n\n    var _formatSources = function(item, model) {\n        var sources = item.sources;\n        var androidhls = model.get('androidhls');\n        var itemDrm = item.drm || model.get('drm');\n        var preload = item.preload || model.get('preload');\n        var withCredentials = _fallbackIfUndefined(item.withCredentials, model.get('withCredentials'));\n        var hlsjsdefault = model.get('hlsjsdefault');\n\n        return _.compact(_.map(sources, function(originalSource) {\n            if (!_.isObject(originalSource)) {\n                return null;\n            }\n            if (androidhls !== undefined && androidhls !== null) {\n                originalSource.androidhls = androidhls;\n            }\n\n            if (originalSource.drm || itemDrm) {\n                originalSource.drm = originalSource.drm || itemDrm;\n            }\n\n            if (originalSource.preload || preload) {\n                originalSource.preload = originalSource.preload || preload;\n            }\n\n            // withCredentials is assigned in ascending priority order, source > playlist > model\n            // a false value that is a higher priority than true must result in a false withCredentials value\n            // we don't want undefined if all levels have withCredentials as undefined\n            var cascadedWithCredentials = _fallbackIfUndefined(originalSource.withCredentials, withCredentials);\n            if (!_.isUndefined(cascadedWithCredentials)) {\n                originalSource.withCredentials = cascadedWithCredentials;\n            }\n\n            if (hlsjsdefault) {\n                originalSource.hlsjsdefault = hlsjsdefault;\n            }\n\n            return Source(originalSource);\n        }));\n    };\n\n    // A playlist item may have multiple different sources, but we want to stick with one.\n    var _filterSources = function(sources, providers) {\n        // legacy plugin support\n        if (!providers || !providers.choose) {\n            providers = new Providers({ primary: providers ? 'flash' : null });\n        }\n\n        var chosenProviderAndType = _chooseProviderAndType(sources, providers);\n        if (!chosenProviderAndType) {\n            return [];\n        }\n        var provider = chosenProviderAndType.provider;\n        var bestType = chosenProviderAndType.type;\n        return _.filter(sources, function(source) {\n            return source.type === bestType && providers.providerSupports(provider, source);\n        });\n    };\n\n    //  Choose from the sources a type which matches our most preferred provider\n    function _chooseProviderAndType(sources, providers) {\n        for (var i = 0; i < sources.length; i++) {\n            var source = sources[i];\n            var chosenProvider = providers.choose(source);\n            if (chosenProvider) {\n                return { type: source.type, provider: chosenProvider.providerToCheck };\n            }\n        }\n\n        return null;\n    }\n\n    function _fallbackIfUndefined(value, fallback) {\n        return _.isUndefined(value) ? fallback : value;\n    }\n\n    return Playlist;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/playlist/playlist.js\n **/","import playerTemplate from 'templates/player';\nimport { isAudioMode, CONTROLBAR_ONLY_HEIGHT } from 'view/utils/audio-mode';\nimport viewsManager from 'view/utils/views-manager';\nimport getVisibility from 'view/utils/visibility';\nimport activeTab from 'utils/active-tab';\nimport { requestAnimationFrame, cancelAnimationFrame } from 'utils/request-animation-frame';\nimport { getBreakpoint, setBreakpoint } from 'view/utils/breakpoint';\n\nlet ControlsModule;\n\ndefine([\n    'events/events',\n    'events/states',\n    'utils/backbone.events',\n    'utils/helpers',\n    'utils/underscore',\n    'view/utils/request-fullscreen-helper',\n    'view/utils/flag-no-focus',\n    'view/utils/clickhandler',\n    'view/captionsrenderer',\n    'view/logo',\n    'view/preview',\n    'view/title',\n    'controller/controls-loader',\n], function(events, states, Events, utils, _, requestFullscreenHelper, flagNoFocus,\n            ClickHandler, CaptionsRenderer, Logo, Preview, Title, ControlsLoader) {\n\n    const _styles = utils.style;\n    const _bounds = utils.bounds;\n    const _isMobile = utils.isMobile();\n    const _isIE = utils.isIE();\n\n    let stylesInjected = false;\n\n    function View(_api, _model) {\n        const _this = _.extend(this, Events, {\n            isSetup: false,\n            api: _api,\n            model: _model\n        });\n\n        // init/reset view model properties\n        _.extend(_model.attributes, {\n            containerWidth: undefined,\n            containerHeight: undefined,\n            mediaContainer: undefined,\n            fullscreen: false,\n            inDom: undefined,\n            iFrame: undefined,\n            activeTab: undefined,\n            intersectionRatio: undefined,\n            visibility: undefined,\n            viewable: undefined,\n            viewSetup: false,\n            audioMode: undefined,\n            touchMode: undefined,\n            altText: '',\n            cues: undefined,\n            castClicked: false,\n            scrubbing: false,\n            logoWidth: 0,\n        });\n\n        const _playerElement = utils.createElement(playerTemplate(_model.get('id'), _model.get('localization').player));\n        const _videoLayer = _playerElement.querySelector('.jw-media');\n\n        const _preview = new Preview(_model);\n        const _title = new Title(_model);\n        const _captionsRenderer = new CaptionsRenderer(_model);\n\n        let _logo;\n\n        let _playerState;\n\n        let _lastWidth;\n        let _lastHeight;\n\n        let _instreamModel;\n\n        let _resizeMediaTimeout = -1;\n        let _resizeContainerRequestId = -1;\n\n        let displayClickHandler;\n        let fullscreenHelpers;\n        let focusHelper;\n\n        let _breakpoint = null;\n        let _controls;\n\n        function reasonInteraction() {\n            return { reason: 'interaction' };\n        }\n\n        this.updateBounds = function () {\n            cancelAnimationFrame(_resizeContainerRequestId);\n            const inDOM = document.body.contains(_playerElement);\n            const bounds = _bounds(_playerElement);\n            const containerWidth = Math.round(bounds.width);\n            const containerHeight = Math.round(bounds.height);\n\n            // If the container is the same size as before, return early\n            if (containerWidth === _lastWidth && containerHeight === _lastHeight) {\n                // Listen for player to be added to DOM\n                if (!_lastWidth || !_lastHeight) {\n                    _responsiveListener();\n                }\n                _model.set('inDom', inDOM);\n                return;\n            }\n            // If we have bad values for either dimension, return early\n            if (!containerWidth || !containerHeight) {\n                // If we haven't established player size, try again\n                if (!_lastWidth || !_lastHeight) {\n                    _responsiveListener();\n                }\n            }\n\n            // Don't update container dimensions to 0, 0 when not in DOM\n            if (containerWidth || containerHeight || inDOM) {\n                _model.set('containerWidth', containerWidth);\n                _model.set('containerHeight', containerHeight);\n            }\n            _model.set('inDom', inDOM);\n\n            if (inDOM) {\n                viewsManager.observe(_playerElement);\n            }\n        };\n\n        this.updateStyles = function() {\n            const containerWidth = _model.get('containerWidth');\n            const containerHeight = _model.get('containerHeight');\n\n            if (_model.get('controls')) {\n                updateContainerStyles(containerWidth, containerHeight);\n            }\n\n            if (_controls) {\n                _controls.resize(containerWidth, containerHeight);\n            }\n\n            _resizeMedia(containerWidth, containerHeight);\n            _captionsRenderer.resize();\n        };\n\n        this.checkResized = function() {\n            const containerWidth = _model.get('containerWidth');\n            const containerHeight = _model.get('containerHeight');\n            if (containerWidth !== _lastWidth || containerHeight !== _lastHeight) {\n                _lastWidth = containerWidth;\n                _lastHeight = containerHeight;\n                _this.trigger(events.JWPLAYER_RESIZE, {\n                    width: containerWidth,\n                    height: containerHeight\n                });\n                const breakpoint = getBreakpoint(containerWidth);\n                if (_breakpoint !== breakpoint) {\n                    _breakpoint = breakpoint;\n                    _this.trigger(events.JWPLAYER_BREAKPOINT, {\n                        breakpoint: _breakpoint\n                    });\n                }\n            }\n        };\n\n        function _responsiveListener() {\n            cancelAnimationFrame(_resizeContainerRequestId);\n            _resizeContainerRequestId = requestAnimationFrame(_responsiveUpdate);\n        }\n\n        function _responsiveUpdate() {\n            if (!_this.isSetup) {\n                return;\n            }\n            _this.updateBounds();\n            _this.updateStyles();\n            _this.checkResized();\n        }\n\n        function updateContainerStyles(width, height) {\n            const audioMode = isAudioMode(_model);\n            // Set timeslider flags\n            if (_.isNumber(width) && _.isNumber(height)) {\n                const breakpoint = getBreakpoint(width);\n                setBreakpoint(_playerElement, breakpoint);\n\n                const smallPlayer = breakpoint < 2;\n                const timeSliderAboveConfig = _model.get('timeSliderAbove');\n                const timeSliderAbove = !audioMode &&\n                    (timeSliderAboveConfig !== false) && (timeSliderAboveConfig || smallPlayer);\n                utils.toggleClass(_playerElement, 'jw-flag-small-player', smallPlayer);\n                utils.toggleClass(_playerElement, 'jw-flag-time-slider-above', timeSliderAbove);\n                utils.toggleClass(_playerElement, 'jw-orientation-portrait', (height > width));\n            }\n            utils.toggleClass(_playerElement, 'jw-flag-audio-player', audioMode);\n            _model.set('audioMode', audioMode);\n        }\n\n        // Set global colors, used by related plugin\n        // If a color is undefined simple-style-loader won't add their styles to the dom\n        function insertGlobalColorClasses(activeColor, inactiveColor, playerId) {\n            if (activeColor) {\n                const activeColorSet = {\n                    color: activeColor,\n                    borderColor: activeColor,\n                    stroke: activeColor\n                };\n                utils.css('#' + playerId + ' .jw-color-active', activeColorSet, playerId);\n                utils.css('#' + playerId + ' .jw-color-active-hover:hover', activeColorSet, playerId);\n            }\n            if (inactiveColor) {\n                const inactiveColorSet = {\n                    color: inactiveColor,\n                    borderColor: inactiveColor,\n                    stroke: inactiveColor\n                };\n                utils.css('#' + playerId + ' .jw-color-inactive', inactiveColorSet, playerId);\n                utils.css('#' + playerId + ' .jw-color-inactive-hover:hover', inactiveColorSet, playerId);\n            }\n        }\n\n        this.handleColorOverrides = function () {\n            const id = _model.get('id');\n\n            function addStyle(elements, attr, value, extendParent) {\n                /* if extendParent is true, bundle the first selector of\n                 element string to the player element instead of defining it as a\n                 child of the player element (default). i.e. #player.sel-1 .sel-2 vs. #player .sel-1 .sel-2 */\n                elements = utils.prefix(elements, '#' + id + (extendParent ? '' : ' '));\n\n                const o = {};\n                o[attr] = value;\n                utils.css(elements.join(', '), o, id);\n            }\n\n            // We can assume that the user will define both an active and inactive color because otherwise it doesn't look good\n            const activeColor = _model.get('skinColorActive');\n            const inactiveColor = _model.get('skinColorInactive');\n            const backgroundColor = _model.get('skinColorBackground');\n\n            // These will use standard style names for CSS since they are added directly to a style sheet\n            // Using background instead of background-color so we don't have to clear gradients with background-image\n            if (activeColor) {\n                // Apply active color\n                addStyle([\n                    // Toggle and menu button active colors\n                    '.jw-button-color.jw-toggle',\n                    '.jw-button-color:hover',\n                    '.jw-button-color.jw-toggle.jw-off:hover',\n                    '.jw-option:not(.jw-active-option):hover',\n                    '.jw-nextup-header'\n                ], 'color', activeColor);\n                addStyle([\n                    // menu active option\n                    '.jw-option.jw-active-option',\n                    // slider fill color\n                    '.jw-progress'\n                ], 'background', 'none ' + activeColor);\n            }\n\n            if (inactiveColor) {\n                // Apply inactive color\n                addStyle([\n                    // text color of many ui elements\n                    '.jw-text',\n                    // menu option text\n                    '.jw-option',\n                    // controlbar button colors\n                    '.jw-button-color',\n                    // toggle button\n                    '.jw-toggle.jw-off',\n                    '.jw-skip .jw-skip-icon',\n                    '.jw-nextup-body'\n                ], 'color', inactiveColor);\n                addStyle([\n                    // slider children\n                    '.jw-cue',\n                    '.jw-knob',\n                    '.jw-active-option',\n                    '.jw-nextup-header'\n                ], 'background', 'none ' + inactiveColor);\n            }\n\n            if (backgroundColor) {\n                // Apply background color\n                addStyle([\n                    // general background color\n                    '.jw-background-color'\n                ], 'background', 'none ' + backgroundColor);\n\n                if (_model.get('timeSliderAbove') !== false) {\n                    const backgroundColorGradient = 'transparent linear-gradient(180deg, ' +\n                        utils.getRgba(backgroundColor, 0) + ' 0%, ' +\n                        utils.getRgba(backgroundColor, 0.25) + ' 30%, ' +\n                        utils.getRgba(backgroundColor, 0.4) + ' 70%, ' +\n                        utils.getRgba(backgroundColor, 0.5) + ') 100%';\n\n                    addStyle([\n                        // for small player, set the control bar gradient to the config background color\n                        '.jw-flag-time-slider-above .jw-background-color.jw-controlbar'\n                    ], 'background', backgroundColorGradient, true);\n                }\n\n                // remove the config background on time slider\n                addStyle([\n                    '.jw-flag-time-slider-above .jw-background-color.jw-slider-time'\n                ], 'background', 'transparent', true);\n            }\n\n            insertGlobalColorClasses(activeColor, inactiveColor, id);\n        };\n\n        this.setup = function () {\n            _preview.setup(_playerElement.querySelector('.jw-preview'));\n            _title.setup(_playerElement.querySelector('.jw-title'));\n\n            _logo = new Logo(_model);\n            _logo.setup();\n            _logo.setContainer(_playerElement);\n            _logo.on(events.JWPLAYER_LOGO_CLICK, _logoClickHandler);\n\n            // captions rendering\n            _captionsRenderer.setup(_playerElement.id, _model.get('captions'));\n\n            // captions should be place behind controls, and not hidden when controls are hidden\n            _playerElement.insertBefore(_captionsRenderer.element(), _title.element());\n\n            // Display Click and Double Click Handling\n            displayClickHandler = clickHandlerHelper(_api, _model, _videoLayer);\n\n            focusHelper = flagNoFocus(_playerElement);\n            fullscreenHelpers = requestFullscreenHelper(_playerElement, document, _fullscreenChangeHandler);\n\n            _playerElement.addEventListener('focus', onFocus);\n\n            _model.on('change:errorEvent', _errorHandler);\n            _model.on('change:hideAdsControls', function (model, val) {\n                utils.toggleClass(_playerElement, 'jw-flag-ads-hide-controls', val);\n            });\n            _model.on('change:scrubbing', function (model, val) {\n                utils.toggleClass(_playerElement, 'jw-flag-dragging', val);\n            });\n            // Native fullscreen (coming through from the provider)\n            _model.mediaController.on('fullscreenchange', _fullscreenChangeHandler);\n            \n            _model.change('mediaModel', (model, mediaModel) => {\n                mediaModel.change('mediaType', _onMediaTypeChange, this);\n                mediaModel.on('change:visualQuality', () => {\n                    _resizeMedia();\n                }, this);\n            });\n            _model.change('skin', onSkinChange, this);\n            _model.change('stretching', onStretchChange);\n            _model.change('flashBlocked', onFlashBlockedChange);\n\n            const width = _model.get('width');\n            const height = _model.get('height');\n            _resizePlayer(width, height);\n            _model.change('aspectratio', onAspectRatioChange);\n            if (_model.get('controls')) {\n                updateContainerStyles(width, height);\n            } else {\n                utils.addClass(_playerElement, 'jw-flag-controls-hidden');\n            }\n\n            if (!stylesInjected) {\n                stylesInjected = true;\n                require('css/jwplayer.less');\n            }\n            if (_isIE) {\n                utils.addClass(_playerElement, 'jw-ie');\n            }\n            // Hide control elements until skin is loaded\n            if (_model.get('skin-loading') === true) {\n                utils.addClass(_playerElement, 'jw-flag-skin-loading');\n                _model.once('change:skin-loading', function () {\n                    utils.removeClass(_playerElement, 'jw-flag-skin-loading');\n                });\n            }\n            this.handleColorOverrides();\n\n            // adds video tag to video layer\n            _model.set('mediaContainer', _videoLayer);\n            _model.set('iFrame', utils.isIframe());\n            _model.set('activeTab', activeTab());\n            _model.set('touchMode', _isMobile && (typeof height === 'string' || height >= CONTROLBAR_ONLY_HEIGHT));\n\n            viewsManager.add(this);\n\n            this.isSetup = true;\n            _model.set('viewSetup', true);\n            _model.set('inDom', document.body.contains(_playerElement));\n        };\n\n        function updateVisibility() {\n            _model.set('visibility', getVisibility(_model, _playerElement, _bounds));\n        }\n\n        this.init = function() {\n            this.updateBounds();\n\n            _model.on('change:fullscreen', _fullscreen);\n            _model.on('change:activeTab', updateVisibility);\n            _model.on('change:fullscreen', updateVisibility);\n            _model.on('change:intersectionRatio', updateVisibility);\n            _model.on('change:visibility', redraw);\n\n            updateVisibility();\n\n            // Always draw first player for icons to load\n            if (viewsManager.size() === 1 && !_model.get('visibility')) {\n                redraw(_model, 1, 0);\n            }\n\n            _model.change('state', _stateHandler);\n            _model.change('controls', changeControls);\n            // Set the title attribute of the video tag to display background media information on mobile devices\n            if (_isMobile) {\n                setMediaTitleAttribute(_model.get('playlistItem'));\n                _model.on('itemReady', setMediaTitleAttribute);\n            }\n\n            // Triggering 'resize' resulting in player 'ready'\n            _lastWidth = _lastHeight = null;\n            this.checkResized();\n        };\n\n        function changeControls(model, enable) {\n            if (enable) {\n                if (!ControlsModule) {\n                    ControlsLoader.load()\n                        .then(function (Controls) {\n                            ControlsModule = Controls;\n                            addControls();\n                        })\n                        .catch(function (reason) {\n                            _this.trigger('error', {\n                                message: 'Controls failed to load',\n                                reason: reason\n                            });\n                        });\n                } else {\n                    addControls();\n                }\n            } else {\n                _this.removeControls();\n            }\n        }\n\n        function addControls() {\n            const controls = new ControlsModule(document, _this.element());\n            _this.addControls(controls);\n        }\n\n        function setMediaTitleAttribute(item) {\n            var videotag = _videoLayer.querySelector('video, audio');\n            // Youtube, chromecast and flash providers do no support video tags\n            if (!videotag) {\n                return;\n            }\n\n            // Writing a string to innerHTML completely decodes multiple-encoded strings\n            const dummyDiv = document.createElement('div');\n            dummyDiv.innerHTML = item.title || '';\n            videotag.setAttribute('title', dummyDiv.textContent);\n        }\n\n        function redraw(model, visibility, lastVisibility) {\n            if (visibility && !lastVisibility) {\n                _stateHandler(_instreamModel || model);\n                _this.updateStyles();\n            }\n        }\n\n        function clickHandlerHelper(api, model, videoLayer) {\n            const clickHandler = new ClickHandler(model, videoLayer, { useHover: true });\n            clickHandler.on({\n                click: () => {\n                    _this.trigger(events.JWPLAYER_DISPLAY_CLICK);\n                    if (_model.get('controls')) {\n                        api.play(reasonInteraction());\n                    }\n                },\n                tap: () => {\n                    _this.trigger(events.JWPLAYER_DISPLAY_CLICK);\n                    const state = model.get('state');\n                    const controls = _model.get('controls');\n\n                    if (controls &&\n                        ((state === states.IDLE || state === states.COMPLETE) ||\n                        (_instreamModel && _instreamModel.get('state') === states.PAUSED))) {\n                        api.play(reasonInteraction());\n                    }\n                    if (controls && state === states.PAUSED) {\n                        // Toggle visibility of the controls when tapping the media\n                        // Do not add mobile toggle \"jw-flag-controls-hidden\" in these cases\n                        if (_instreamModel ||\n                            model.get('castActive') ||\n                            (model.mediaModel && model.mediaModel.get('mediaType') === 'audio')) {\n                            return;\n                        }\n                        utils.toggleClass(_playerElement, 'jw-flag-controls-hidden');\n                        _captionsRenderer.renderCues(true);\n                    } else if (_controls) {\n                        if (!_controls.showing) {\n                            _controls.userActive();\n                        } else {\n                            _controls.userInactive();\n                        }\n                    }\n                },\n                doubleClick: () => _controls && api.setFullscreen(),\n                move: () => _controls && _controls.userActive(),\n                over: () => _controls && _controls.userActive()\n            });\n            return clickHandler;\n        }\n\n        function onSkinChange(model, newSkin) {\n            utils.replaceClass(_playerElement, /jw-skin-\\S+/, newSkin ? ('jw-skin-' + newSkin) : '');\n        }\n\n        function onStretchChange(model, newVal) {\n            utils.replaceClass(_playerElement, /jw-stretch-\\S+/, 'jw-stretch-' + newVal);\n        }\n\n        function onAspectRatioChange(model, aspectratio) {\n            utils.toggleClass(_playerElement, 'jw-flag-aspect-mode', !!aspectratio);\n            const aspectRatioContainer = _playerElement.querySelector('.jw-aspect');\n            _styles(aspectRatioContainer, {\n                paddingTop: aspectratio || null\n            });\n        }\n\n        function onFlashBlockedChange(model, isBlocked) {\n            utils.toggleClass(_playerElement, 'jw-flag-flash-blocked', isBlocked);\n        }\n\n        function _logoClickHandler(evt) {\n            if (!evt.link) {\n                // _togglePlay();\n                if (_model.get('controls')) {\n                    _api.play(reasonInteraction());\n                }\n            } else {\n                _api.pause(true, reasonInteraction());\n                _api.setFullscreen(false);\n                window.open(evt.link, evt.linktarget);\n            }\n        }\n\n        const _onChangeControls = function (model, bool) {\n            if (bool) {\n                // ignore model that triggered this event and use current state model\n                _stateHandler(_instreamModel || _model);\n            }\n        };\n\n        this.addControls = function (controls) {\n            _controls = controls;\n\n            utils.removeClass(_playerElement, 'jw-flag-controls-hidden');\n\n            _model.change('streamType', _setLiveMode, this);\n\n            controls.enable(_api, _model);\n            controls.addActiveListeners(_logo.element());\n\n            const logoContainer = controls.logoContainer();\n            if (logoContainer) {\n                _logo.setContainer(logoContainer);\n            }\n\n            // refresh breakpoint and timeslider classes\n            if (_lastHeight) {\n                updateContainerStyles(_lastWidth, _lastHeight);\n                controls.resize(_lastWidth, _lastHeight);\n                _captionsRenderer.renderCues(true);\n            }\n\n            controls.on('userActive userInactive', function() {\n                if (_playerState === states.PLAYING || _playerState === states.BUFFERING) {\n                    _captionsRenderer.renderCues(true);\n                }\n            });\n\n            controls.on('all', _this.trigger, _this);\n\n            const overlaysElement = _playerElement.querySelector('.jw-overlays');\n            overlaysElement.addEventListener('mousemove', _userActivityCallback);\n        };\n\n        this.removeControls = function () {\n            _logo.setContainer(_playerElement);\n\n            if (_controls) {\n                _controls.removeActiveListeners(_logo.element());\n                _controls.disable();\n                _controls = null;\n            }\n\n            const overlay = document.querySelector('.jw-overlays');\n            if (overlay) {\n                overlay.removeEventListener('mousemove', _userActivityCallback);\n            }\n\n            utils.addClass(_playerElement, 'jw-flag-controls-hidden');\n        };\n\n        // Perform the switch to fullscreen\n        const _fullscreen = function (model, state) {\n\n            // If it supports DOM fullscreen\n            const provider = _model.getVideo();\n\n            // Unmute the video so volume can be adjusted with native controls in fullscreen\n            if (state && _controls && _model.get('autostartMuted')) {\n                _controls.unmuteAutoplay(_api, _model);\n            }\n\n            if (fullscreenHelpers.supportsDomFullscreen()) {\n                if (state) {\n                    fullscreenHelpers.requestFullscreen();\n                } else {\n                    fullscreenHelpers.exitFullscreen();\n                }\n                _toggleDOMFullscreen(_playerElement, state);\n            } else if (_isIE) {\n                _toggleDOMFullscreen(_playerElement, state);\n            } else {\n                // else use native fullscreen\n                if (_instreamModel && _instreamModel.getVideo()) {\n                    _instreamModel.getVideo().setFullscreen(state);\n                }\n                provider.setFullscreen(state);\n            }\n            // pass fullscreen state to Flash provider\n            // provider.getName() is the same as _api.getProvider() or _model.get('provider')\n            if (provider && provider.getName().name.indexOf('flash') === 0) {\n                provider.setFullscreen(state);\n            }\n        };\n\n        function _resizePlayer(playerWidth, playerHeight, resetAspectMode) {\n            const widthSet = utils.exists(playerWidth);\n            const heightSet = utils.exists(playerHeight);\n            const playerStyle = {\n                width: playerWidth\n            };\n\n            // when jwResize is called remove aspectMode and force layout\n            if (heightSet && resetAspectMode) {\n                _model.set('aspectratio', null);\n            }\n            if (!_model.get('aspectratio')) {\n                playerStyle.height = playerHeight;\n            }\n\n            if (widthSet && heightSet) {\n                _model.set('width', playerWidth);\n                _model.set('height', playerHeight);\n            }\n\n            _styles(_playerElement, playerStyle);\n        }\n\n        function _resizeMedia(containerWidth, containerHeight) {\n            if (!containerWidth || isNaN(1 * containerWidth)) {\n                containerWidth = _model.get('containerWidth');\n                if (!containerWidth) {\n                    return;\n                }\n            }\n            if (!containerHeight || isNaN(1 * containerHeight)) {\n                containerHeight = _model.get('containerHeight');\n                if (!containerHeight) {\n                    return;\n                }\n            }\n\n            if (_preview) {\n                _preview.resize(containerWidth, containerHeight, _model.get('stretching'));\n            }\n\n            const provider = _model.getVideo();\n            if (!provider) {\n                return;\n            }\n            const transformScale = provider.resize(containerWidth, containerHeight, _model.get('stretching'));\n\n            // poll resizing if video is transformed\n            if (transformScale) {\n                clearTimeout(_resizeMediaTimeout);\n                _resizeMediaTimeout = setTimeout(_resizeMedia, 250);\n            }\n        }\n\n        this.resize = function (playerWidth, playerHeight) {\n            const resetAspectMode = true;\n            _resizePlayer(playerWidth, playerHeight, resetAspectMode);\n            _responsiveUpdate();\n        };\n        this.resizeMedia = _resizeMedia;\n\n        /**\n         * Return whether or not we're in native fullscreen\n         */\n        function _isNativeFullscreen() {\n            if (fullscreenHelpers.supportsDomFullscreen()) {\n                const fsElement = fullscreenHelpers.fullscreenElement();\n                return !!(fsElement && fsElement.id === _model.get('id'));\n            }\n            // if player element view fullscreen not available, return video fullscreen state\n            return _instreamModel ? _instreamModel.getVideo().getFullScreen() :\n                _model.getVideo().getFullScreen();\n        }\n\n\n        function _fullscreenChangeHandler(event) {\n            const modelState = _model.get('fullscreen');\n            const newState = (event.jwstate !== undefined) ? event.jwstate : _isNativeFullscreen();\n\n            // If fullscreen was triggered by something other than the player\n            //  then we want to sync up our internal state\n            if (modelState !== newState) {\n                _model.set('fullscreen', newState);\n            }\n\n            _responsiveListener();\n            clearTimeout(_resizeMediaTimeout);\n            _resizeMediaTimeout = setTimeout(_resizeMedia, 200);\n        }\n\n        function _toggleDOMFullscreen(playerElement, fullscreenState) {\n            utils.toggleClass(playerElement, 'jw-flag-fullscreen', fullscreenState);\n            _styles(document.body, { overflowY: (fullscreenState) ? 'hidden' : '' });\n\n            if (fullscreenState && _controls) {\n                // When going into fullscreen, we want the control bar to fade after a few seconds\n                _controls.userActive();\n            }\n\n            _resizeMedia();\n            _responsiveListener();\n        }\n\n        function _userActivityCallback(/* event */) {\n            _controls.userActive();\n        }\n\n        function _onMediaTypeChange(model, val) {\n            const isAudioFile = (val === 'audio');\n            const provider = _model.getVideo();\n            const isFlash = (provider && provider.getName().name.indexOf('flash') === 0);\n\n            utils.toggleClass(_playerElement, 'jw-flag-media-audio', isAudioFile);\n\n            if (isAudioFile && !isFlash) {\n                // Put the preview element before the media element in order to display browser captions\n                _playerElement.insertBefore(_preview.el, _videoLayer);\n            } else {\n                // Put the preview element before the captions element to display captions with the captions renderer\n                _playerElement.insertBefore(_preview.el, _captionsRenderer.element());\n            }\n        }\n\n        function _setLiveMode(model, streamType) {\n            if (!_instreamModel) {\n                const live = (streamType === 'LIVE');\n                utils.toggleClass(_playerElement, 'jw-flag-live', live);\n                _this.setAltText((live) ? model.get('localization').liveBroadcast : '');\n            }\n        }\n\n        function _errorHandler(model, evt) {\n            if (!evt) {\n                _title.playlistItem(model, model.get('playlistItem'));\n                return;\n            }\n            if (evt.name) {\n                _title.updateText(evt.name, evt.message);\n            } else {\n                _title.updateText(evt.message, '');\n            }\n        }\n\n        function _stateHandler(model) {\n            if (!_model.get('viewSetup')) {\n                return;\n            }\n\n            _playerState = model.get('state');\n\n            let instreamState = null;\n            if (_instreamModel) {\n                instreamState = _playerState;\n            }\n            if (_controls) {\n                _controls.instreamState = instreamState;\n            }\n\n            _stateUpdate(_playerState);\n        }\n\n        function _stateUpdate(state) {\n            if (_model.get('controls') && state !== states.PAUSED && utils.hasClass(_playerElement, 'jw-flag-controls-hidden')) {\n                utils.removeClass(_playerElement, 'jw-flag-controls-hidden');\n            }\n            utils.replaceClass(_playerElement, /jw-state-\\S+/, 'jw-state-' + state);\n\n            // Update captions renderer\n            switch (state) {\n                case states.IDLE:\n                case states.ERROR:\n                case states.COMPLETE:\n                    _captionsRenderer.hide();\n                    break;\n                default:\n                    _captionsRenderer.show();\n                    if (state === states.PAUSED && _controls && !_controls.showing) {\n                        _captionsRenderer.renderCues(true);\n                    }\n                    break;\n            }\n        }\n\n        function onFocus() {\n            // On tab-focus, show the control bar for a few seconds\n            if (_controls && !_instreamModel && !_isMobile) {\n                _controls.userActive();\n            }\n        }\n\n        this.setupInstream = function (instreamModel) {\n            this.instreamModel = _instreamModel = instreamModel;\n            _instreamModel.on('change:controls', _onChangeControls, this);\n            _instreamModel.on('change:state', _stateHandler, this);\n\n            utils.addClass(_playerElement, 'jw-flag-ads');\n\n            // Call Controls.userActivity to display the UI temporarily for the start of the ad\n            if (_controls) {\n                _controls.userActive();\n            }\n        };\n\n        this.setAltText = function (text) {\n            _model.set('altText', text);\n        };\n\n        this.destroyInstream = function () {\n            if (_instreamModel) {\n                _instreamModel.off(null, null, this);\n                _instreamModel = null;\n            }\n            this.setAltText('');\n            utils.removeClass(_playerElement, ['jw-flag-ads', 'jw-flag-ads-hide-controls']);\n            _model.set('hideAdsControls', false);\n            if (_model.getVideo) {\n                const provider = _model.getVideo();\n                provider.setContainer(_videoLayer);\n            }\n            _setLiveMode(_model, _model.get('streamType'));\n            // reset display click handler\n            displayClickHandler.revertAlternateClickHandlers();\n        };\n\n        this.addCues = function (cues) {\n            _model.set('cues', cues);\n        };\n\n        this.clickHandler = function () {\n            return displayClickHandler;\n        };\n\n        this.getContainer = this.element = function () {\n            return _playerElement;\n        };\n\n        this.controlsContainer = function() {\n            if (_controls) {\n                return _controls.element();\n            }\n            return null;\n        };\n\n        this.getSafeRegion = function (includeCB) {\n            const bounds = {\n                x: 0,\n                y: 0,\n                width: _lastWidth || 0,\n                height: _lastHeight || 0\n            };\n\n            if (_controls) {\n                // Subtract controlbar from the bottom when using one\n                includeCB = includeCB || !utils.exists(includeCB);\n                if (includeCB) {\n                    bounds.height -= _controls.controlbarHeight();\n                }\n            }\n\n            return bounds;\n        };\n\n        this.setCaptions = function (captionsStyle) {\n            _captionsRenderer.clear();\n            _captionsRenderer.setup(_model.get('id'), captionsStyle);\n            _captionsRenderer.resize();\n        };\n\n        this.destroy = function () {\n            viewsManager.unobserve(_playerElement);\n            viewsManager.remove(this);\n            this.isSetup = false;\n            this.off();\n            cancelAnimationFrame(_resizeContainerRequestId);\n            clearTimeout(_resizeMediaTimeout);\n            _playerElement.removeEventListener('focus', onFocus);\n            if (focusHelper) {\n                focusHelper.destroy();\n                focusHelper = null;\n            }\n            if (fullscreenHelpers) {\n                fullscreenHelpers.destroy();\n                fullscreenHelpers = null;\n            }\n            if (_model.mediaController) {\n                _model.mediaController.off('fullscreenchange', _fullscreenChangeHandler);\n            }\n            if (_controls) {\n                _controls.disable();\n            }\n\n            if (_instreamModel) {\n                this.destroyInstream();\n            }\n            if (displayClickHandler) {\n                displayClickHandler.destroy();\n                displayClickHandler = null;\n            }\n            if (_logo) {\n                _logo.destroy();\n                _logo = null;\n            }\n            utils.clearCss(_model.get('id'));\n        };\n    }\n\n    View.prototype.setControlsModule = function(Controls) {\n        ControlsModule = Controls;\n    };\n\n    return View;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/view.js\n **/","export default (id, ariaLabel = '') => {\n    return (\n        `<div id=\"${id}\" class=\"jwplayer jw-reset jw-state-setup\" tabindex=\"0\" aria-label=\"${ariaLabel}\">` +\n            `<div class=\"jw-aspect jw-reset\"></div>` +\n            `<div class=\"jw-media jw-reset\"></div>` +\n            `<div class=\"jw-preview jw-reset\"></div>` +\n            `<div class=\"jw-title jw-reset\">` +\n                `<div class=\"jw-title-primary jw-reset\"></div>` +\n                `<div class=\"jw-title-secondary jw-reset\"></div>` +\n            `</div>` +\n            `<div class=\"jw-overlays jw-reset\"></div>` +\n        `</div>`\n    );\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/templates/player.js\n **/","export const CONTROLBAR_ONLY_HEIGHT = 44;\n\nexport const isAudioMode = function(model) {\n    const playerHeight = model.get('height');\n    if (model.get('aspectratio')) {\n        return false;\n    }\n    if (typeof playerHeight === 'string' && playerHeight.indexOf('%') > -1) {\n        return false;\n    }\n\n    // Coerce into Number (don't parse out CSS units)\n    let verticalPixels = (playerHeight * 1) || NaN;\n    verticalPixels = (!isNaN(verticalPixels) ? verticalPixels : model.get('containerHeight'));\n    if (!verticalPixels) {\n        return false;\n    }\n\n    return verticalPixels && verticalPixels <= CONTROLBAR_ONLY_HEIGHT;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/utils/audio-mode.js\n **/","import activeTab from 'utils/active-tab';\nimport { requestAnimationFrame, cancelAnimationFrame } from 'utils/request-animation-frame';\n\nconst views = [];\n\nlet intersectionObserver;\nlet responsiveRepaintRequestId = -1;\n\nfunction lazyInitIntersectionObserver() {\n    const IntersectionObserver = window.IntersectionObserver;\n    if (window.IntersectionObserver && !intersectionObserver) {\n        // Fire the callback every time 25% of the player comes in/out of view\n        intersectionObserver = new IntersectionObserver((entries) => {\n            if (entries && entries.length) {\n                for (let i = entries.length; i--;) {\n                    const entry = entries[i];\n                    for (let j = views.length; j--;) {\n                        let view = views[j];\n                        if (entry.target === view.getContainer()) {\n                            view.model.set('intersectionRatio', entry.intersectionRatio);\n                            break;\n                        }\n                    }\n                }\n            }\n        }, { threshold: [0, 0.25, 0.5, 0.75, 1] });\n    }\n}\n\nfunction scheduleResponsiveRedraw() {\n    cancelAnimationFrame(responsiveRepaintRequestId);\n    responsiveRepaintRequestId = requestAnimationFrame(function responsiveRepaint() {\n        views.forEach(view => {\n            view.updateBounds();\n        });\n        views.forEach(view => {\n            if (view.model.get('visibility')) {\n                view.updateStyles();\n            }\n        });\n        views.forEach(view => {\n            view.checkResized();\n        });\n    });\n}\n\nfunction onVisibilityChange() {\n    views.forEach(view => {\n        view.model.set('activeTab', activeTab());\n    });\n}\n\ndocument.addEventListener('visibilitychange', onVisibilityChange);\ndocument.addEventListener('webkitvisibilitychange', onVisibilityChange);\nwindow.addEventListener('resize', scheduleResponsiveRedraw);\nwindow.addEventListener('orientationchange', scheduleResponsiveRedraw);\n\nwindow.addEventListener('beforeunload', () => {\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n    document.removeEventListener('webkitvisibilitychange', onVisibilityChange);\n    window.removeEventListener('resize', scheduleResponsiveRedraw);\n    window.removeEventListener('orientationchange', scheduleResponsiveRedraw);\n});\n\nexport default {\n    add: function(view) {\n        views.push(view);\n    },\n    remove: function(view) {\n        const index = views.indexOf(view);\n        if (index !== -1) {\n            views.splice(index, 1);\n        }\n    },\n    size: function() {\n        return views.length;\n    },\n    observe(container) {\n        lazyInitIntersectionObserver();\n        try {\n            intersectionObserver.unobserve(container);\n        } catch (e) {/* catch Exception thrown by Edge 15 browser */}\n        intersectionObserver.observe(container);\n    },\n    unobserve(container) {\n        if (intersectionObserver) {\n            intersectionObserver.unobserve(container);\n        }\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/utils/views-manager.js\n **/","export default (function() {\n    if ('hidden' in document) {\n        return function () {\n            return !document.hidden;\n        };\n    }\n    if ('webkitHidden' in document) {\n        return function () {\n            return !document.webkitHidden;\n        };\n    }\n    // document.hidden not supported\n    return function () {\n        return true;\n    };\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/active-tab.js\n **/","export const requestAnimationFrame = window.requestAnimationFrame || function (callback) {\n    return setTimeout(callback, 17);\n};\n\nexport const cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/utils/request-animation-frame.js\n **/","export default function getVisibility(model, element, bounds) {\n    // Set visibility to 1 if we're in fullscreen\n    if (model.get('fullscreen')) {\n        return 1;\n    }\n\n    // Set visibility to 0 if we're not in the active tab\n    if (!model.get('activeTab')) {\n        return 0;\n    }\n    // Otherwise, set it to the intersection ratio reported from the intersection observer\n    let intersectionRatio = model.get('intersectionRatio');\n\n    if (intersectionRatio === undefined) {\n        // Get intersectionRatio through brute force\n        intersectionRatio = computeVisibility(element, bounds);\n    }\n\n    return intersectionRatio;\n}\n\nfunction computeVisibility(target, bounds) {\n    const html = document.documentElement;\n    const body = document.body;\n    const rootRect = {\n        top: 0,\n        left: 0,\n        right: html.clientWidth || body.clientWidth,\n        width: html.clientWidth || body.clientWidth,\n        bottom: html.clientHeight || body.clientHeight,\n        height: html.clientHeight || body.clientHeight\n    };\n\n    if (!body.contains(target)) {\n        return 0;\n    }\n    const targetRect = target.getBoundingClientRect();\n\n    let intersectionRect = targetRect;\n    let parent = target.parentNode;\n    let atRoot = false;\n\n    while (!atRoot) {\n        let parentRect = null;\n        if (!parent || parent.nodeType !== 1) {\n            atRoot = true;\n            parentRect = rootRect;\n        } else if (window.getComputedStyle(parent).overflow !== 'visible') {\n            parentRect = bounds(parent);\n        }\n        if (parentRect) {\n            intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n            if (!intersectionRect) {\n                return 0;\n            }\n        }\n        parent = parent.parentNode;\n    }\n    const targetArea = targetRect.width * targetRect.height;\n    const intersectionArea = intersectionRect.width * intersectionRect.height;\n    return targetArea ? (intersectionArea / targetArea) : 0;\n}\n\nfunction computeRectIntersection(rect1, rect2) {\n    const top = Math.max(rect1.top, rect2.top);\n    const bottom = Math.min(rect1.bottom, rect2.bottom);\n    const left = Math.max(rect1.left, rect2.left);\n    const right = Math.min(rect1.right, rect2.right);\n    const width = right - left;\n    const height = bottom - top;\n    return (width >= 0 && height >= 0) && {\n        top: top,\n        bottom: bottom,\n        left: left,\n        right: right,\n        width: width,\n        height: height\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/utils/visibility.js\n **/","const domUtils = require('utils/dom');\n\nexport function getBreakpoint(width) {\n    let breakpoint = 0;\n\n    if (width >= 1280) {\n        breakpoint = 7;\n    } else if (width >= 960) {\n        breakpoint = 6;\n    } else if (width >= 800) {\n        breakpoint = 5;\n    } else if (width >= 640) {\n        breakpoint = 4;\n    } else if (width >= 540) {\n        breakpoint = 3;\n    } else if (width >= 420) {\n        breakpoint = 2;\n    } else if (width >= 320) {\n        breakpoint = 1;\n    }\n\n    return breakpoint;\n}\n\nexport function setBreakpoint(playerElement, breakpointNumber) {\n    const breakpointClass = 'jw-breakpoint-' + breakpointNumber;\n    domUtils.replaceClass(playerElement, /jw-breakpoint-\\d+/, breakpointClass);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/utils/breakpoint.js\n **/","define([], function() {\n\n    var DOCUMENT_FULLSCREEN_EVENTS = [\n        'fullscreenchange',\n        'webkitfullscreenchange',\n        'mozfullscreenchange',\n        'MSFullscreenChange'\n    ];\n\n    return function(elementContext, documentContext, changeCallback) {\n        var requestFullscreen = elementContext.requestFullscreen ||\n            elementContext.webkitRequestFullscreen ||\n            elementContext.webkitRequestFullScreen ||\n            elementContext.mozRequestFullScreen ||\n            elementContext.msRequestFullscreen;\n\n        var exitFullscreen = documentContext.exitFullscreen ||\n            documentContext.webkitExitFullscreen ||\n            documentContext.webkitCancelFullScreen ||\n            documentContext.mozCancelFullScreen ||\n            documentContext.msExitFullscreen;\n\n        var supportsDomFullscreen = !!(requestFullscreen && exitFullscreen);\n\n        for (var i = DOCUMENT_FULLSCREEN_EVENTS.length; i--;) {\n            documentContext.addEventListener(DOCUMENT_FULLSCREEN_EVENTS[i], changeCallback);\n        }\n\n        return {\n            events: DOCUMENT_FULLSCREEN_EVENTS,\n            supportsDomFullscreen: function() {\n                return supportsDomFullscreen;\n            },\n            requestFullscreen: function() {\n                requestFullscreen.apply(elementContext);\n            },\n            exitFullscreen: function() {\n                exitFullscreen.apply(documentContext);\n            },\n            fullscreenElement: function() {\n                return documentContext.fullscreenElement ||\n                    documentContext.webkitCurrentFullScreenElement ||\n                    documentContext.mozFullScreenElement ||\n                    documentContext.msFullscreenElement;\n            },\n            destroy: function() {\n                for (i = DOCUMENT_FULLSCREEN_EVENTS.length; i--;) {\n                    documentContext.removeEventListener(DOCUMENT_FULLSCREEN_EVENTS[i], changeCallback);\n                }\n            }\n        };\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/utils/request-fullscreen-helper.js\n **/","define([\n    'utils/dom'\n], function(dom) {\n\n    return function (elementContext) {\n        var _focusFromClick = false;\n\n        const onBlur = function () {\n            _focusFromClick = false;\n            dom.removeClass(elementContext, 'jw-no-focus');\n        };\n\n        const onMouseDown = function () {\n            _focusFromClick = true;\n            dom.addClass(elementContext, 'jw-no-focus');\n        };\n\n        const onFocus = function () {\n            if (!_focusFromClick) {\n                onBlur();\n            }\n        };\n\n        elementContext.addEventListener('focus', onFocus);\n        elementContext.addEventListener('blur', onBlur);\n        elementContext.addEventListener('mousedown', onMouseDown);\n\n        return {\n            destroy: function() {\n                elementContext.removeEventListener('focus', onFocus);\n                elementContext.removeEventListener('blur', onBlur);\n                elementContext.removeEventListener('mousedown', onMouseDown);\n            }\n        };\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/utils/flag-no-focus.js\n **/","define([\n    'utils/ui',\n    'events/events',\n    'utils/backbone.events',\n    'utils/underscore'\n], function(UI, events, Events, _) {\n\n    return class ClickHandler {\n        constructor(model, element, options) {\n            _.extend(this, Events);\n\n            this.revertAlternateClickHandlers();\n            this.domElement = element;\n            this.model = model;\n\n            const defaultOptions = { enableDoubleTap: true, useMove: true };\n            this.ui = new UI(element, _.extend(defaultOptions, options)).on({\n                'click tap': this.clickHandler,\n                'doubleClick doubleTap': function() {\n                    if (this.alternateDoubleClickHandler) {\n                        this.alternateDoubleClickHandler();\n                        return;\n                    }\n                    this.trigger('doubleClick');\n                },\n                move: function() {\n                    this.trigger('move');\n                },\n                over: function() {\n                    this.trigger('over');\n                },\n                out: function() {\n                    this.trigger('out');\n                }\n            }, this);\n        }\n\n        destroy() {\n            if (this.ui) {\n                this.ui.destroy();\n                this.ui = this.domElement = this.model = null;\n                this.revertAlternateClickHandlers();\n            }\n        }\n\n        clickHandler(evt) {\n            if (this.model.get('flashBlocked')) {\n                return;\n            }\n            if (this.alternateClickHandler) {\n                this.alternateClickHandler(evt);\n                return;\n            }\n            this.trigger((evt.type === events.touchEvents.CLICK) ? 'click' : 'tap');\n        }\n\n        element() {\n            return this.domElement;\n        }\n\n        setAlternateClickHandlers(clickHandler, doubleClickHandler) {\n            this.alternateClickHandler = clickHandler;\n            this.alternateDoubleClickHandler = doubleClickHandler || null;\n        }\n\n        revertAlternateClickHandlers() {\n            this.alternateClickHandler = null;\n            this.alternateDoubleClickHandler = null;\n        }\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/utils/clickhandler.js\n **/","define([\n    'utils/helpers',\n    'utils/css',\n    'utils/dom',\n    'events/states',\n    'utils/underscore'\n], function (utils, cssUtils, dom, states, _) {\n    /** Component that renders the actual captions on screen. **/\n    var CaptionsRenderer;\n    var _style = cssUtils.style;\n\n    var _defaults = {\n        back: true,\n        backgroundOpacity: 50,\n        edgeStyle: null,\n        fontSize: 14,\n        fontOpacity: 100,\n        fontScale: 0.05, // Default captions font size = 1/20th of the video's height\n        preprocessor: _.identity,\n        windowOpacity: 0\n    };\n\n    CaptionsRenderer = function (_model) {\n\n        var _options = {};\n        var _captionsTrack;\n        var _currentCues;\n        var _timeEvent;\n        var _display;\n        var _captionsWindow;\n        var _textContainer;\n        var _WebVTT;\n        var _fontScale;\n        var _windowStyle;\n\n        _display = document.createElement('div');\n        _display.className = 'jw-captions jw-reset';\n\n        this.show = function () {\n            dom.addClass(_display, 'jw-captions-enabled');\n        };\n\n        this.hide = function () {\n            dom.removeClass(_display, 'jw-captions-enabled');\n        };\n\n        // Assign list of captions to the renderer\n        this.populate = function (captions) {\n            if (_model.get('renderCaptionsNatively')) {\n                return;\n            }\n\n            _currentCues = [];\n            _captionsTrack = captions;\n            if (!captions) {\n                _currentCues = [];\n                this.renderCues();\n                return;\n            }\n            this.selectCues(captions, _timeEvent);\n        };\n\n        this.resize = function () {\n            _setFontSize();\n            this.renderCues(true);\n        };\n\n        this.renderCues = function (updateBoxPosition) {\n            updateBoxPosition = !!updateBoxPosition;\n            if (_WebVTT) {\n                _WebVTT.processCues(window, _currentCues, _display, updateBoxPosition);\n            }\n        };\n\n        this.selectCues = function (track, timeEvent) {\n            var cues;\n            var pos;\n\n            if (!track || !track.data || !timeEvent) {\n                return;\n            }\n\n            pos = this.getAlignmentPosition(track, timeEvent);\n            if (pos === false) {\n                return;\n            }\n\n            cues = this.getCurrentCues(track.data, pos);\n\n            this.updateCurrentCues(cues);\n            this.renderCues(true);\n        };\n\n        this.getCurrentCues = function (allCues, pos) {\n            return _.filter(allCues, function (cue) {\n                return pos >= (cue.startTime) && (!cue.endTime || pos <= cue.endTime);\n            });\n        };\n\n        this.updateCurrentCues = function (cues) {\n            // Render with vtt.js if there are cues, clear if there are none\n            if (!cues.length) {\n                _currentCues = [];\n            } else if (_.difference(cues, _currentCues).length) {\n                dom.addClass(_captionsWindow, 'jw-captions-window-active');\n                _currentCues = cues;\n            }\n\n            return _currentCues;\n        };\n\n        this.getAlignmentPosition = function (track, timeEvent) {\n            var source = track.source;\n            var metadata = timeEvent.metadata;\n\n            // subtitles with \"source\" time must be synced with \"metadata[source]\"\n            if (source) {\n                if (metadata && _.isNumber(metadata[source])) {\n                    return metadata[source];\n                }\n                return;\n            } else if (timeEvent.duration < 0) {\n                // When the duration is negative (DVR mode), make alignmentPosition positive to align captions\n                return timeEvent.position - timeEvent.duration;\n            }\n\n            // Default to syncing with current position\n            return timeEvent.position;\n        };\n\n        this.clear = function () {\n            utils.empty(_display);\n        };\n\n        /** Constructor for the renderer. **/\n        this.setup = function (playerElementId, options) {\n            _captionsWindow = document.createElement('div');\n            _textContainer = document.createElement('span');\n            _captionsWindow.className = 'jw-captions-window jw-reset';\n            _textContainer.className = 'jw-captions-text jw-reset';\n\n            _options = _.extend({}, _defaults, options);\n\n            _fontScale = _defaults.fontScale;\n            _setFontScale(_options.fontSize);\n\n            var windowColor = _options.windowColor;\n            var windowOpacity = _options.windowOpacity;\n            var edgeStyle = _options.edgeStyle;\n            _windowStyle = {};\n            var textStyle = {};\n\n            _addTextStyle(textStyle, _options);\n\n            if (windowColor || windowOpacity !== _defaults.windowOpacity) {\n                _windowStyle.backgroundColor = cssUtils.hexToRgba(windowColor || '#000000', windowOpacity);\n            }\n\n            _addEdgeStyle(edgeStyle, textStyle, _options.fontOpacity);\n\n            if (!_options.back && edgeStyle === null) {\n                _addEdgeStyle('uniform', textStyle);\n            }\n\n            _style(_captionsWindow, _windowStyle);\n            _style(_textContainer, textStyle);\n            _setupCaptionStyles(playerElementId, textStyle);\n\n            _captionsWindow.appendChild(_textContainer);\n            _display.appendChild(_captionsWindow);\n\n            this.populate(_model.get('captionsTrack'));\n            _model.set('captions', _options);\n        };\n\n        this.element = function () {\n            return _display;\n        };\n\n        function _setFontScale() {\n            if (!_.isFinite(_options.fontSize)) {\n                return;\n            }\n\n            var height = _model.get('containerHeight');\n\n            if (!height) {\n                _model.once('change:containerHeight', _setFontScale);\n                return;\n            }\n\n            // Adjust scale based on font size relative to the default\n            _fontScale = _defaults.fontScale * _options.fontSize / _defaults.fontSize;\n        }\n\n        function _setFontSize() {\n            var height = _model.get('containerHeight');\n\n            if (!height) {\n                return;\n            }\n\n            var fontSize = Math.round(height * _fontScale);\n\n            if (_model.get('renderCaptionsNatively')) {\n                _setShadowDOMFontSize(_model.get('id'), fontSize);\n            } else {\n                _style(_display, {\n                    fontSize: fontSize + 'px'\n                });\n            }\n        }\n\n        function _setupCaptionStyles(playerId, textStyle) {\n            _setFontSize();\n            _styleNativeCaptions(playerId, textStyle);\n            _stylePlayerCaptions(playerId, textStyle);\n        }\n\n        function _stylePlayerCaptions(playerId, textStyle) {\n            // VTT.js DOM window and text styles\n            cssUtils.css('#' + playerId + ' .jw-text-track-display', _windowStyle, playerId);\n            cssUtils.css('#' + playerId + ' .jw-text-track-cue', textStyle, playerId);\n        }\n\n        function _styleNativeCaptions(playerId, textStyle) {\n            if (utils.isSafari()) {\n                // Only Safari uses a separate element for styling text background\n                cssUtils.css('#' + playerId + ' .jw-video::-webkit-media-text-track-display-backdrop', {\n                    backgroundColor: textStyle.backgroundColor\n                }, playerId, true);\n            }\n\n            cssUtils.css('#' + playerId + ' .jw-video::-webkit-media-text-track-display', _windowStyle, playerId, true);\n            cssUtils.css('#' + playerId + ' .jw-video::cue', textStyle, playerId, true);\n        }\n\n        function _setShadowDOMFontSize(playerId, fontSize) {\n            // Set Shadow DOM font size (needs to be important to override browser's in line style)\n            _windowStyle.fontSize = fontSize + 'px';\n            cssUtils.css('#' + playerId + ' .jw-video::-webkit-media-text-track-display', _windowStyle, playerId, true);\n        }\n\n        function _addTextStyle(textStyle, options) {\n            var color = options.color;\n            var fontOpacity = options.fontOpacity;\n            if (color || fontOpacity !== _defaults.fontOpacity) {\n                textStyle.color = cssUtils.hexToRgba(color || '#ffffff', fontOpacity);\n            }\n\n            if (options.back) {\n                var bgColor = options.backgroundColor;\n                var bgOpacity = options.backgroundOpacity;\n                if (bgColor !== _defaults.backgroundColor || bgOpacity !== _defaults.backgroundOpacity) {\n                    textStyle.backgroundColor = cssUtils.hexToRgba(bgColor, bgOpacity);\n                }\n            } else {\n                textStyle.background = 'transparent';\n            }\n\n            if (options.fontFamily) {\n                textStyle.fontFamily = options.fontFamily;\n            }\n\n            if (options.fontStyle) {\n                textStyle.fontStyle = options.fontStyle;\n            }\n\n            if (options.fontWeight) {\n                textStyle.fontWeight = options.fontWeight;\n            }\n\n            if (options.textDecoration) {\n                textStyle.textDecoration = options.textDecoration;\n            }\n        }\n\n        function _addEdgeStyle(option, style, fontOpacity) {\n            var color = cssUtils.hexToRgba('#000000', fontOpacity);\n            if (option === 'dropshadow') { // small drop shadow\n                style.textShadow = '0 2px 1px ' + color;\n            } else if (option === 'raised') { // larger drop shadow\n                style.textShadow = '0 0 5px ' + color + ', 0 1px 5px ' + color + ', 0 2px 5px ' + color;\n            } else if (option === 'depressed') { // top down shadow\n                style.textShadow = '0 -2px 1px ' + color;\n            } else if (option === 'uniform') { // outline\n                style.textShadow = '-2px 0 1px ' + color + ',2px 0 1px ' + color +\n                    ',0 -2px 1px ' + color + ',0 2px 1px ' + color + ',-1px 1px 1px ' +\n                    color + ',1px 1px 1px ' + color + ',1px -1px 1px ' + color +\n                    ',1px 1px 1px ' + color;\n            }\n        }\n\n        function _timeChange(e) {\n            if (_model.get('renderCaptionsNatively')) {\n                return;\n            }\n\n            _timeEvent = e;\n            this.selectCues(_captionsTrack, _timeEvent);\n        }\n\n        function _itemReadyHandler() {\n            // don't load the polyfill or do unnecessary work if rendering natively\n            if (!_model.get('renderCaptionsNatively')) {\n                require.ensure(['polyfills/vtt'], function (require) {\n                    require('polyfills/vtt');\n                    _WebVTT = window.WebVTT;\n                }, 'polyfills.vttrenderer');\n            }\n        }\n\n        _model.on('change:playlistItem', function () {\n            _timeEvent = null;\n            _currentCues = [];\n        }, this);\n\n        _model.on('change:captionsTrack', function (model, captionsTrack) {\n            this.populate(captionsTrack);\n        }, this);\n\n        _model.mediaController.on('seek', function () {\n            _currentCues = [];\n        }, this);\n\n        _model.mediaController.on('time seek', _timeChange, this);\n\n        _model.mediaController.on('subtitlesTrackData', function () {\n            // update captions after a provider's subtitle track changes\n            this.selectCues(_captionsTrack, _timeEvent);\n        }, this);\n\n        _model.on('itemReady', _itemReadyHandler, this);\n    };\n\n    return CaptionsRenderer;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/captionsrenderer.js\n **/","import logoTemplate from 'templates/logo';\n\ndefine([\n    'utils/ui',\n    'utils/helpers',\n    'events/events',\n    'utils/underscore',\n    'utils/backbone.events',\n], function(UI, utils, events, _, Events) {\n    var _styles = utils.style;\n\n    var LogoDefaults = {\n        linktarget: '_blank',\n        margin: 8,\n        hide: false,\n        position: 'top-right'\n    };\n\n    return function Logo(_model) {\n        _.extend(this, Events);\n\n        var _logo;\n        var _settings;\n        var _img = new Image();\n\n        this.setup = function() {\n            _settings = _.extend({}, LogoDefaults, _model.get('logo'));\n            if (!_settings.file) {\n                return;\n            }\n\n            _settings.position = _settings.position || LogoDefaults.position;\n            _settings.hide = (_settings.hide.toString() === 'true');\n\n            if (!_logo) {\n                _logo = utils.createElement(logoTemplate(_settings.position, _settings.hide));\n            }\n\n            _model.set('logo', _settings);\n\n            _model.change('dock', accommodateDock);\n            _model.on('change:controls', accommodateDock);\n\n            // apply styles onload when image width and height are known\n            _img.onload = function () {\n                // update logo style\n                var style = {\n                    backgroundImage: 'url(\"' + this.src + '\")',\n                    width: this.width,\n                    height: this.height\n                };\n                if (_settings.margin !== LogoDefaults.margin) {\n                    var positions = (/(\\w+)-(\\w+)/).exec(_settings.position);\n                    if (positions.length === 3) {\n                        style['margin-' + positions[1]] = _settings.margin;\n                        style['margin-' + positions[2]] = _settings.margin;\n                    }\n                }\n                _styles(_logo, style);\n\n                // update title\n                _model.set('logoWidth', style.width);\n            };\n\n            _img.src = _settings.file;\n\n            var logoInteractHandler = new UI(_logo);\n            logoInteractHandler.on('click tap', function (evt) {\n                if (utils.exists(evt) && evt.stopPropagation) {\n                    evt.stopPropagation();\n                }\n\n                this.trigger(events.JWPLAYER_LOGO_CLICK, {\n                    link: _settings.link,\n                    linktarget: _settings.linktarget\n                });\n\n            }, this);\n        };\n\n        this.setContainer = function(container) {\n            if (_logo) {\n                const dock = container.querySelector('.jw-dock');\n\n                // Dock must be a child of this container, to insert the logo before it when \"controls\" is true.\n                if (dock && dock.parentNode === container) {\n                    container.insertBefore(_logo, dock);\n                } else {\n                    container.appendChild(_logo);\n                }\n            }\n        };\n\n        this.element = function() {\n            return _logo;\n        };\n\n        this.position = function() {\n            return _settings.position;\n        };\n\n        this.destroy = function() {\n            _model.off('change:dock', accommodateDock);\n            _model.off('change:controls', accommodateDock);\n            _img.onload = null;\n        };\n\n        function accommodateDock() {\n            // When positioned in the top right, the logo needs to be shifted down to accommodate dock buttons\n            var dockButtons = _model.get('dock');\n            var belowDock = !!(dockButtons && dockButtons.length && _settings.position === 'top-right' && _model.get('controls'));\n            utils.toggleClass(_logo, 'jw-below', belowDock);\n        }\n\n        return this;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/logo.js\n **/","export default (position, hide) => {\n    const jwhide = hide ? ' jw-hide' : '';\n    return `<div class=\"jw-logo jw-logo-${position}${jwhide} jw-reset\"></div>`;\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/templates/logo.js\n **/","define([\n    'utils/underscore',\n    'utils/helpers'\n], function(_, utils) {\n    var Preview = function(_model) {\n        this.model = _model;\n\n        _model.on('change:playlistItem', onPlaylistItem, this);\n        _model.on('change:mediaModel', onMediaModel, this);\n    };\n\n    function onMediaModel(model, mediaModel) {\n        mediaModel.off('change:mediaType', null, this);\n        mediaModel.on('change:mediaType', function(mediaTypeChangeModel, mediaType) {\n            if (mediaType === 'audio') {\n                this.setImage(model.get('playlistItem').image);\n            }\n        }, this);\n    }\n\n    function onPlaylistItem(model, playlistItem) {\n        var delayPosterLoad = (model.get('autostart') && !utils.isMobile()) ||\n            (model.get('item') > 0);\n\n        if (delayPosterLoad) {\n            this.setImage(null);\n            model.off('change:state', null, this);\n            model.on('change:state', function(stateChangeModel, state) {\n                if (state === 'complete' || state === 'idle' || state === 'error') {\n                    this.setImage(playlistItem.image);\n                    this.resize(null, null, stateChangeModel.get('stretching'));\n                }\n            }, this);\n            return;\n        }\n\n        this.setImage(playlistItem.image);\n    }\n\n    _.extend(Preview.prototype, {\n        setup: function(element) {\n            this.el = element;\n            var playlistItem = this.model.get('playlistItem');\n            if (playlistItem) {\n                this.setImage(playlistItem.image);\n            }\n        },\n        setImage: function(img) {\n            // Remove onload function from previous image\n            var image = this.image;\n            if (image) {\n                image.onload = null;\n                this.image = null;\n            }\n            this.model.off('change:state', null, this);\n            var backgroundImage = '';\n            if (_.isString(img)) {\n                backgroundImage = 'url(\"' + img + '\")';\n                image = this.image = new Image();\n                image.src = img;\n            }\n            utils.style(this.el, {\n                backgroundImage: backgroundImage\n            });\n        },\n        resize: function(width, height, stretching) {\n            if (stretching === 'uniform') {\n                if (width) {\n                    this.playerAspectRatio = width / height;\n                }\n                if (!this.playerAspectRatio) {\n                    return;\n                }\n                // snap image to edges when the difference in aspect ratio is less than 9%\n                var image = this.image;\n                var backgroundSize = null;\n                if (image) {\n                    if (image.width === 0) {\n                        var _this = this;\n                        image.onload = function() {\n                            _this.resize(width, height, stretching);\n                        };\n                        return;\n                    }\n                    var imageAspectRatio = image.width / image.height;\n                    if (Math.abs(this.playerAspectRatio - imageAspectRatio) < 0.09) {\n                        backgroundSize = 'cover';\n                    }\n                }\n                utils.style(this.el, {\n                    backgroundSize: backgroundSize\n                });\n            }\n        },\n        element: function() {\n            return this.el;\n        }\n    });\n\n    return Preview;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/preview.js\n **/","define([\n    'utils/underscore',\n    'utils/helpers',\n], function(_, utils) {\n\n    var Title = function(_model) {\n        this.model = _model;\n\n        this.model.on('change:playlistItem', this.playlistItem, this);\n    };\n\n    _.extend(Title.prototype, {\n        // This is normally shown/hidden by states\n        //   these are only used for when no title exists\n        hide: function() {\n            this.el.style.display = 'none';\n        },\n        show: function() {\n            this.el.style.display = '';\n        },\n\n        setup: function(titleEl) {\n            this.el = titleEl;\n\n            // Perform the DOM search only once\n            var arr = this.el.getElementsByTagName('div');\n            this.title = arr[0];\n            this.description = arr[1];\n\n            if (this.model.get('playlistItem')) {\n                this.playlistItem(this.model, this.model.get('playlistItem'));\n            }\n\n            this.model.on('change:logoWidth', this.update, this);\n            this.model.on('change:dock', this.update, this);\n        },\n\n        update: function(model) {\n            var titleStyle = {\n                paddingLeft: 0,\n                paddingRight: 0\n            };\n            var controls = model.get('controls');\n            var dockButtons = model.get('dock');\n            var logo = model.get('logo');\n            if (logo) {\n                // Only use Numeric or pixel (\"Npx\") margin values\n                var margin = 1 * ('' + logo.margin).replace('px', '');\n                var padding = model.get('logoWidth') + (isNaN(margin) ? 0 : margin);\n                if (logo.position === 'top-left') {\n                    titleStyle.paddingLeft = padding;\n                } else if (logo.position === 'top-right') {\n                    titleStyle.paddingRight = padding;\n                }\n            }\n            if (controls && dockButtons && dockButtons.length) {\n                var dockWidthGuess = 56 * dockButtons.length;\n                titleStyle.paddingRight = Math.max(titleStyle.paddingRight, dockWidthGuess);\n            }\n            utils.style(this.el, titleStyle);\n        },\n\n        playlistItem: function(model, item) {\n            if (model.get('displaytitle') || model.get('displaydescription')) {\n                var title = '';\n                var description = '';\n\n                if (item.title && model.get('displaytitle')) {\n                    title = item.title;\n                }\n                if (item.description && model.get('displaydescription')) {\n                    description = item.description;\n                }\n\n                this.updateText(title, description);\n            } else {\n                this.hide();\n            }\n        },\n\n        updateText: function(title, description) {\n            this.title.innerHTML = title;\n            this.description.innerHTML = description;\n\n            if (this.title.firstChild || this.description.firstChild) {\n                this.show();\n            } else {\n                this.hide();\n            }\n        },\n\n        element: function() {\n            return this.el;\n        }\n    });\n\n    return Title;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/title.js\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/postcss-loader/index.js!../../node_modules/less-loader/dist/index.js?compress!./jwplayer.less\");\nif(typeof content === 'string') content = [['all-players', content, '']];\n// add the styles to the DOM\nrequire(\"!../../node_modules/simple-style-loader/addStyles.js\").style(content,'all-players');\nif(content.locals) module.exports = content.locals;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/css/jwplayer.less\n ** module id = 131\n ** module chunks = 0\n **/","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".jw-reset{color:inherit;background-color:transparent;padding:0;margin:0;float:none;font-family:Arial,Helvetica,sans-serif;font-size:1em;line-height:1em;list-style:none;text-align:left;text-transform:none;vertical-align:baseline;border:0;direction:ltr;font-variant:inherit;font-stretch:inherit;-webkit-tap-highlight-color:rgba(255,255,255,0)}.jw-background-color{background:rgba(33,33,33,0.8)}.jw-text{color:#cecece}.jw-knob{color:#cecece;background-color:#fff}.jw-button-color{color:#cecece;fill:#cecece}:not(.jw-flag-touch) .jw-button-color:hover,.jw-button-color:focus{outline:none;color:#fff;fill:#fff}.jw-toggle{color:#fff}.jw-toggle.jw-off{color:#cecece}.jw-toggle.jw-off:focus{color:#fff}.jw-toggle:focus{outline:none}:not(.jw-flag-touch) .jw-toggle.jw-off:hover{color:#fff}.jw-display-icon-container{margin:0 .25em}.jw-display-icon-container .jw-icon{color:#cecece}.jw-rail{background:rgba(255,255,255,0.2)}.jw-buffer{background:rgba(255,255,255,0.3)}.jw-progress{background:#fff}.jw-slider-horizontal{height:.3em}.jw-slider-horizontal .jw-rail,.jw-slider-horizontal .jw-buffer,.jw-slider-horizontal .jw-progress{height:.3em}.jw-slider-horizontal .jw-knob{margin-left:-0.3em}.jw-slider-vertical .jw-knob{margin-bottom:-0.3em}.jw-slider-vertical .jw-slider-container,.jw-slider-vertical .jw-rail,.jw-slider-vertical .jw-progress{width:.3em}.jw-menu,.jw-time-tip,.jw-volume-tip{border:0}.jw-menu,.jw-time-tip{padding:.5em}.jw-volume-tip{padding:1em}.jw-skip{padding:.5em}.jw-skip .jw-skiptext,.jw-skip .jw-skip-icon{color:#cecece}.jw-skip.jw-skippable:hover .jw-skip-icon,.jw-skip.jw-skippable:hover .jw-text{color:#fff}.jw-time-tip .jw-text,.jw-dock-button .jw-text{color:#cecece}.jw-dock-button{background:rgba(33,33,33,0.8)}:not(.jw-flag-touch) .jw-dock-button:hover{background:#212121}.jw-icon-cast button{--connected-color:#fff;--disconnected-color:#cecece}.jw-icon-cast button:focus{--connected-color:#fff;--disconnected-color:#fff}.jw-icon-cast button.jw-off{--connected-color:#cecece}.jw-icon-cast:hover button{--connected-color:#fff;--disconnected-color:#fff}.jw-nextup-container{bottom:2.5em;padding:5px .5em}.jw-nextup{border-radius:0}.jw-nextup-header{background:rgba(33,33,33,0.8);color:#fff}.jw-nextup-body{background:rgba(0,0,0,0.8);color:#fff}.jw-nextup-thumbnail-visible+.jw-nextup-title:after{background:-webkit-linear-gradient(top, rgba(0,0,0,0) 0, #000 100%);background:linear-gradient(-180deg, rgba(0,0,0,0) 0, #000 100%)}.jw-nextup-close{color:#cecece}.jw-nextup-close:active{color:#fff}.jw-nextup-close:hover{color:#fff}.jwplayer:not(.jw-flag-touch):not(.jw-error):not(.jw-state-error):not(.jw-state-buffering) .jw-media:hover~.jw-controls .jw-display-icon-display{background-color:#212121}.jwplayer:not(.jw-flag-touch):not(.jw-error):not(.jw-state-error):not(.jw-state-buffering) .jw-display-icon-container:hover{background-color:#212121}.jwplayer:not(.jw-flag-touch):not(.jw-error):not(.jw-state-error):not(.jw-state-buffering) .jw-display-icon-container:hover .jw-icon{color:#fff}.jw-color-active{color:#fff;stroke:#fff;border-color:#fff}:not(.jw-flag-touch) .jw-color-active-hover:hover{color:#fff;stroke:#fff;border-color:#fff}.jw-color-inactive{color:#cecece;stroke:#cecece;border-color:#cecece}:not(.jw-flag-touch) .jw-color-inactive-hover:hover{color:#cecece;stroke:#cecece;border-color:#cecece}.jw-option{color:#cecece}.jw-option.jw-active-option{color:#fff;background-color:rgba(255,255,255,0.1)}:not(.jw-flag-touch) .jw-option:hover{color:#fff}.jwplayer{width:100%;font-size:16px;position:relative;display:block;min-height:0;overflow:hidden;box-sizing:border-box;font-family:Arial,Helvetica,sans-serif;background-color:#000;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jwplayer *{box-sizing:inherit}.jwplayer.jw-flag-aspect-mode{height:auto !important}.jwplayer.jw-flag-aspect-mode .jw-aspect{display:block}.jwplayer .jw-aspect{display:none}.jwplayer.jw-no-focus:focus,.jwplayer .jw-swf{outline:none}.jwplayer.jw-ie:focus{outline:#585858 dotted 1px}.jw-media,.jw-preview{position:absolute;width:100%;height:100%;top:0;left:0;bottom:0;right:0}.jw-media{overflow:hidden;cursor:pointer}.jw-plugin{position:absolute;bottom:2.5em}.jw-plugin .jw-banner{max-width:100%;opacity:0;cursor:pointer;position:absolute;margin:auto auto 0;left:0;right:0;bottom:0;display:block}.jw-preview,.jw-captions,.jw-title{pointer-events:none}.jw-media,.jw-logo{pointer-events:all}.jwplayer video{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:auto;background:transparent}.jwplayer video::-webkit-media-controls-start-playback-button{display:none}.jwplayer.jw-stretch-uniform video{-o-object-fit:contain;object-fit:contain}.jwplayer.jw-stretch-none video{-o-object-fit:none;object-fit:none}.jwplayer.jw-stretch-fill video{-o-object-fit:cover;object-fit:cover}.jwplayer.jw-stretch-exactfit video{-o-object-fit:fill;object-fit:fill}.jw-preview{position:absolute;display:none;opacity:1;visibility:visible;width:100%;height:100%;background:#000 no-repeat 50% 50%}.jwplayer .jw-preview,.jw-error .jw-preview{background-size:contain}.jw-stretch-none .jw-preview{background-size:auto auto}.jw-stretch-fill .jw-preview{background-size:cover}.jw-stretch-exactfit .jw-preview{background-size:100% 100%}.jw-title{display:none;position:absolute;top:0;width:100%;font-size:.875em;height:8em;background:-webkit-linear-gradient(top, #000 0, #000 18%, rgba(0,0,0,0) 100%);background:linear-gradient(to bottom, #000 0, #000 18%, rgba(0,0,0,0) 100%)}.jw-title-primary,.jw-title-secondary{padding:.75em 1.5em;min-height:2.5em;width:100%;color:#fff;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.jw-title-primary{font-weight:bold}.jw-title-secondary{margin-top:-0.5em}.jw-flag-small-player .jw-title{background:-webkit-linear-gradient(top, rgba(51,51,51,0.75), rgba(51,51,51,0));background:linear-gradient(180deg, rgba(51,51,51,0.75), rgba(51,51,51,0));height:auto;padding:16px 0}.jw-flag-small-player .jw-title-primary,.jw-flag-small-player .jw-title-secondary{min-height:inherit;padding:0 16px}.jw-flag-small-player .jw-title-secondary{display:none;margin-top:5px}.jw-captions{position:absolute;width:100%;height:100%;text-align:center;display:none;max-height:calc(100% - 40px);letter-spacing:normal;word-spacing:normal;text-transform:none;text-indent:0;text-decoration:none;pointer-events:none;overflow:hidden;top:0}.jw-captions.jw-captions-enabled{display:block}.jw-captions-window{display:none;padding:.25em;border-radius:.25em}.jw-captions-window.jw-captions-window-active{display:inline-block}.jw-captions-text{display:inline-block;color:#fff;background-color:#000;word-wrap:normal;word-break:normal;white-space:pre-line;font-style:normal;font-weight:normal;text-align:center;text-decoration:none}.jw-text-track-display{font-size:inherit;line-height:1.5}.jw-text-track-cue{background-color:rgba(0,0,0,0.5);color:#fff;padding:.1em .3em}.jwplayer video::-webkit-media-controls{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.jwplayer video::-webkit-media-text-track-container{max-height:calc(100% - 40px);line-height:normal}.jwplayer video::-webkit-media-text-track-display{min-width:-webkit-min-content}.jwplayer video::cue{background-color:rgba(0,0,0,0.5)}.jwplayer video::-webkit-media-controls-panel-container{display:none}.jw-logo{position:absolute;margin:.75em;cursor:pointer;pointer-events:all;background-repeat:no-repeat;background-size:contain;top:auto;right:auto;left:auto;bottom:auto}.jw-flag-audio-player .jw-logo{display:none}.jw-logo-top-right{top:0;right:0}.jw-logo-top-right.jw-below{top:3.5em}.jw-logo-top-left{top:0;left:0}.jw-logo-bottom-left{bottom:0;left:0}.jw-logo-bottom-right{bottom:0;right:0}.jw-state-setup{background-color:transparent}.jw-state-setup .jw-logo{visibility:hidden}body .jw-error .jw-title,body .jwplayer.jw-state-error .jw-title{display:block}body .jw-error .jw-title .jw-title-primary,body .jwplayer.jw-state-error .jw-title .jw-title-primary{white-space:normal}body .jw-error .jw-title .jw-title-secondary,body .jwplayer.jw-state-error .jw-title .jw-title-secondary{display:block}body .jw-error{font-size:16px;background-color:#000;color:#fff;width:100%;height:100%;display:table;opacity:1;position:relative}body .jwplayer.jw-state-error .jw-title,body .jw-error .jw-title,.jw-state-idle .jw-title,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player) .jw-title{display:block}body .jwplayer.jw-state-error .jw-preview,body .jw-error .jw-preview,.jw-state-idle .jw-preview,.jwplayer.jw-state-complete:not(.jw-flag-casting):not(.jw-flag-audio-player) .jw-preview{display:block}.jw-state-idle .jw-captions,.jwplayer.jw-state-complete .jw-captions,body .jwplayer.jw-state-error .jw-captions{display:none}.jw-state-idle video::-webkit-media-text-track-container,.jwplayer.jw-state-complete video::-webkit-media-text-track-container,body .jwplayer.jw-state-error video::-webkit-media-text-track-container{display:none}.jwplayer.jw-flag-skin-loading .jw-media,.jwplayer.jw-flag-skin-loading .jw-preview,.jwplayer.jw-flag-skin-loading .jw-captions,.jwplayer.jw-flag-skin-loading .jw-controls,.jwplayer.jw-flag-skin-loading .jw-title,.jwplayer.jw-flag-skin-loading .jw-rightclick{display:none}.jwplayer.jw-flag-fullscreen{width:100% !important;height:100% !important;top:0;right:0;bottom:0;left:0;z-index:1000;margin:0;position:fixed}body .jwplayer.jw-flag-flash-blocked .jw-title{display:block}.jwplayer.jw-flag-controls-hidden .jw-captions{max-height:none}.jwplayer.jw-flag-controls-hidden video::-webkit-media-text-track-container{max-height:none}.jwplayer.jw-flag-controls-hidden .jw-media{cursor:default}.jw-flag-audio-player:not(.jw-flag-flash-blocked) .jw-media{visibility:hidden}.jw-flag-audio-player .jw-title{background:none}.jw-flag-audio-player object{min-height:45px}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/postcss-loader!./~/less-loader/dist?compress!./src/css/jwplayer.less\n ** module id = 132\n ** module chunks = 0\n **/","import errorTemplate from 'templates/error';\n\ndefine([\n], function() {\n    function make(id, skin, title, body) {\n        return errorTemplate(id, skin, title, body);\n    }\n\n    return make;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/view/error.js\n **/","export default (id, skin = '', title = '', body = '') => {\n    return (\n        `<div id=\"${id}\" class=\"jw-skin-${skin} jw-error jw-reset\">` +\n            `<div class=\"jw-title jw-reset\">` +\n                `<div class=\"jw-title-primary jw-reset\">${title}</div>` +\n                `<div class=\"jw-title-secondary jw-reset\">${body}</div>` +\n            `</div>` +\n            `<div class=\"jw-display-container jw-reset\">` +\n                `<div class=\"jw-display-icon-container jw-background-color jw-reset\">` +\n                    `<div class=\"jw-icon jw-icon-display jw-reset\" aria-hidden=\"true\"></div>` +\n                `</div>` +\n            `</div>` +\n        `</div>`\n    );\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/templates/error.js\n **/","define([\n    'utils/underscore',\n    'events/events',\n], function (_, Events) {\n    return function middleware(model, type, currentState) {\n        var newState = currentState;\n\n        switch (type) {\n            case Events.JWPLAYER_MEDIA_TIME:\n            case 'beforePlay':\n            case 'pause':\n            case 'play':\n            case 'ready': {\n                var viewable = model.get('viewable');\n                // Don't add viewable to events if we don't know we're viewable\n                if (!_.isUndefined(viewable)) {\n                    // Emit viewable as 0 or 1\n                    newState = _.extend({}, currentState, { viewable: viewable });\n                }\n                break;\n            }\n            default: {\n                break;\n            }\n        }\n\n        return newState;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/controller/events-middleware.js\n **/","define([\n    'plugins/plugins',\n    'utils/underscore',\n], function(plugins, _) {\n    return function ApiActions(_api, _controller) {\n        // Commented out methods are those which are not direct passthroughs\n        //   instead these have custom logic inside api.js\n        //   Ultimately they should be moved into this file\n        var passthroughs = [\n            // 'setup',\n            // 'remove',\n            // 'load',\n            // 'play',\n            // 'pause',\n            // 'playlistNext',\n            // 'playlistPrev',\n            // 'playlistItem',\n            // 'seek',\n\n            'skipAd',\n            'stop',\n            'resize',\n\n            'addButton',\n            'removeButton',\n\n            'registerPlugin',\n\n            'attachMedia',\n            'next'\n        ];\n\n\n        _.each(passthroughs, function(func) {\n            _api[func] = function() {\n                _controller[func].apply(_controller, arguments);\n                return _api;\n            };\n        });\n\n        _api.registerPlugin = plugins.registerPlugin;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/api/api-actions.js\n **/","\ndefine([\n    'utils/underscore',\n], function(_) {\n    return function ApiMutators(_api, _controller) {\n\n        var modelGetters = [\n            'buffer',\n            'controls',\n            'position',\n            'duration',\n            'fullscreen',\n            'volume',\n            'item', // this was playlistindex\n            'stretching',\n            'playbackRate',\n            'playlist',\n            'captions',\n            'viewable'\n        ];\n\n        // given a name \"buffer\", it adds to jwplayer api a function named getBuffer\n        _.each(modelGetters, function(attr) {\n            var format = attr.slice(0, 1).toUpperCase() + attr.slice(1);\n\n            _api['get' + format] = function() {\n                return _controller._model.get(attr);\n            };\n        });\n\n        var passthroughs = [\n            'getAudioTracks',\n            'getCaptionsList',\n\n            'getWidth',\n            'getHeight',\n            'getCurrentAudioTrack',\n            'setCurrentAudioTrack',\n\n            'getCurrentCaptions',\n            'setCurrentCaptions',\n\n            'getCurrentQuality',\n            'setCurrentQuality',\n\n            'getQualityLevels',\n            'getVisualQuality',\n\n            'getConfig',\n            'getState',\n\n            'getSafeRegion',\n            'isBeforeComplete',\n            'isBeforePlay',\n\n            'getProvider',\n            'detachMedia'\n\n            // These are implemented in api.js, but should be here\n            // 'getItemMeta',\n            // 'getMeta',\n            // 'getPlaylistItem',\n            // 'getContainer',\n            // 'playlistItem',\n        ];\n\n        var passthroughsChain = [\n            // Sisters of the model getters\n            'setConfig',\n            'setControls',\n            'setFullscreen',\n            'setVolume',\n            'setMute',\n            'setPlaybackRate',\n            'setCues',\n            'setCaptions'\n        ];\n\n        // getters\n        _.each(passthroughs, function(func) {\n            _api[func] = function() {\n                if (_controller[func]) {\n                    return _controller[func].apply(_controller, arguments);\n                }\n                return null;\n            };\n        });\n        // setters (chainable)\n        _.each(passthroughsChain, function(func) {\n            _api[func] = function() {\n                _controller[func].apply(_controller, arguments);\n                return _api;\n            };\n        });\n\n        // This is here because it binds to the methods declared above\n        _api.getPlaylistIndex = _api.getItem;\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/api/api-mutators.js\n **/","define([\n    'utils/underscore',\n    'events/events'\n], function(_, events) {\n    return function init(_api) {\n        var _eventMapping = {\n            onBufferChange: events.JWPLAYER_MEDIA_BUFFER,\n            onBufferFull: events.JWPLAYER_MEDIA_BUFFER_FULL,\n            onError: events.JWPLAYER_ERROR,\n            onSetupError: events.JWPLAYER_SETUP_ERROR,\n            onFullscreen: events.JWPLAYER_FULLSCREEN,\n            onMeta: events.JWPLAYER_MEDIA_META,\n            onMute: events.JWPLAYER_MEDIA_MUTE,\n            onPlaylist: events.JWPLAYER_PLAYLIST_LOADED,\n            onPlaylistItem: events.JWPLAYER_PLAYLIST_ITEM,\n            onPlaylistComplete: events.JWPLAYER_PLAYLIST_COMPLETE,\n            onReady: events.JWPLAYER_READY,\n            onResize: events.JWPLAYER_RESIZE,\n            onComplete: events.JWPLAYER_MEDIA_COMPLETE,\n            onSeek: events.JWPLAYER_MEDIA_SEEK,\n            onTime: events.JWPLAYER_MEDIA_TIME,\n            onVolume: events.JWPLAYER_MEDIA_VOLUME,\n            onBeforePlay: events.JWPLAYER_MEDIA_BEFOREPLAY,\n            onBeforeComplete: events.JWPLAYER_MEDIA_BEFORECOMPLETE,\n            onDisplayClick: events.JWPLAYER_DISPLAY_CLICK,\n            onControls: events.JWPLAYER_CONTROLS,\n            onQualityLevels: events.JWPLAYER_MEDIA_LEVELS,\n            onQualityChange: events.JWPLAYER_MEDIA_LEVEL_CHANGED,\n            onCaptionsList: events.JWPLAYER_CAPTIONS_LIST,\n            onCaptionsChange: events.JWPLAYER_CAPTIONS_CHANGED,\n            onAdError: events.JWPLAYER_AD_ERROR,\n            onAdClick: events.JWPLAYER_AD_CLICK,\n            onAdImpression: events.JWPLAYER_AD_IMPRESSION,\n            onAdTime: events.JWPLAYER_AD_TIME,\n            onAdComplete: events.JWPLAYER_AD_COMPLETE,\n            onAdCompanions: events.JWPLAYER_AD_COMPANIONS,\n            onAdSkipped: events.JWPLAYER_AD_SKIPPED,\n            onAdPlay: events.JWPLAYER_AD_PLAY,\n            onAdPause: events.JWPLAYER_AD_PAUSE,\n            onAdMeta: events.JWPLAYER_AD_META,\n            onCast: events.JWPLAYER_CAST_SESSION,\n            onAudioTrackChange: events.JWPLAYER_AUDIO_TRACK_CHANGED,\n            onAudioTracks: events.JWPLAYER_AUDIO_TRACKS\n        };\n\n        var _stateMapping = {\n            onBuffer: 'buffer',\n            onPause: 'pause',\n            onPlay: 'play',\n            onIdle: 'idle'\n        };\n\n        // Add state callbacks\n        _.each(_stateMapping, function (value, name) {\n            _api[name] = _.partial(_api.on, value, _);\n        });\n\n        // Add event callbacks\n        _.each(_eventMapping, function (value, name) {\n            _api[name] = _.partial(_api.on, value, _);\n        });\n    };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/api/callbacks-deprecate.js\n **/"],"sourceRoot":""}